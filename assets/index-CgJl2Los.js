(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var tm={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function Pw(){if(m0)return Ll;m0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var g0;function Lw(){return g0||(g0=1,tm.exports=Pw()),tm.exports}var T=Lw(),nm={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function Uw(){if(p0)return xe;p0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Q={};function H(C,te,le){this.props=C,this.context=te,this.refs=Q,this.updater=le||M}H.prototype.isReactComponent={},H.prototype.setState=function(C,te){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,te,"setState")},H.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function X(){}X.prototype=H.prototype;function ue(C,te,le){this.props=C,this.context=te,this.refs=Q,this.updater=le||M}var se=ue.prototype=new X;se.constructor=ue,U(se,H.prototype),se.isPureReactComponent=!0;var ne=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function k(C,te,le,ie,pe,Ie){return le=Ie.ref,{$$typeof:r,type:C,key:te,ref:le!==void 0?le:null,props:Ie}}function x(C,te){return k(C.type,te,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function O(C){var te={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(le){return te[le]})}var V=/\/+/g;function P(C,te){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):te.toString(36)}function N(){}function Ut(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(N,N):(C.status="pending",C.then(function(te){C.status==="pending"&&(C.status="fulfilled",C.value=te)},function(te){C.status==="pending"&&(C.status="rejected",C.reason=te)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function lt(C,te,le,ie,pe){var Ie=typeof C;(Ie==="undefined"||Ie==="boolean")&&(C=null);var we=!1;if(C===null)we=!0;else switch(Ie){case"bigint":case"string":case"number":we=!0;break;case"object":switch(C.$$typeof){case r:case e:we=!0;break;case E:return we=C._init,lt(we(C._payload),te,le,ie,pe)}}if(we)return pe=pe(C),we=ie===""?"."+P(C,0):ie,ne(pe)?(le="",we!=null&&(le=we.replace(V,"$&/")+"/"),lt(pe,te,le,"",function(Jn){return Jn})):pe!=null&&(R(pe)&&(pe=x(pe,le+(pe.key==null||C&&C.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+we)),te.push(pe)),1;we=0;var Dt=ie===""?".":ie+":";if(ne(C))for(var Je=0;Je<C.length;Je++)ie=C[Je],Ie=Dt+P(ie,Je),we+=lt(ie,te,le,Ie,pe);else if(Je=S(C),typeof Je=="function")for(C=Je.call(C),Je=0;!(ie=C.next()).done;)ie=ie.value,Ie=Dt+P(ie,Je++),we+=lt(ie,te,le,Ie,pe);else if(Ie==="object"){if(typeof C.then=="function")return lt(Ut(C),te,le,ie,pe);throw te=String(C),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return we}function K(C,te,le){if(C==null)return C;var ie=[],pe=0;return lt(C,ie,"","",function(Ie){return te.call(le,Ie,pe++)}),ie}function oe(C){if(C._status===-1){var te=C._result;te=te(),te.then(function(le){(C._status===0||C._status===-1)&&(C._status=1,C._result=le)},function(le){(C._status===0||C._status===-1)&&(C._status=2,C._result=le)}),C._status===-1&&(C._status=0,C._result=te)}if(C._status===1)return C._result.default;throw C._result}var me=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ze(){}return xe.Children={map:K,forEach:function(C,te,le){K(C,function(){te.apply(this,arguments)},le)},count:function(C){var te=0;return K(C,function(){te++}),te},toArray:function(C){return K(C,function(te){return te})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},xe.Component=H,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ue,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,xe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return re.H.useMemoCache(C)}},xe.cache=function(C){return function(){return C.apply(null,arguments)}},xe.cloneElement=function(C,te,le){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ie=U({},C.props),pe=C.key,Ie=void 0;if(te!=null)for(we in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(pe=""+te.key),te)!ye.call(te,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&te.ref===void 0||(ie[we]=te[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var Dt=Array(we),Je=0;Je<we;Je++)Dt[Je]=arguments[Je+2];ie.children=Dt}return k(C.type,pe,void 0,void 0,Ie,ie)},xe.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},xe.createElement=function(C,te,le){var ie,pe={},Ie=null;if(te!=null)for(ie in te.key!==void 0&&(Ie=""+te.key),te)ye.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=te[ie]);var we=arguments.length-2;if(we===1)pe.children=le;else if(1<we){for(var Dt=Array(we),Je=0;Je<we;Je++)Dt[Je]=arguments[Je+2];pe.children=Dt}if(C&&C.defaultProps)for(ie in we=C.defaultProps,we)pe[ie]===void 0&&(pe[ie]=we[ie]);return k(C,Ie,void 0,void 0,null,pe)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(C){return{$$typeof:m,render:C}},xe.isValidElement=R,xe.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:oe}},xe.memo=function(C,te){return{$$typeof:y,type:C,compare:te===void 0?null:te}},xe.startTransition=function(C){var te=re.T,le={};re.T=le;try{var ie=C(),pe=re.S;pe!==null&&pe(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,me)}catch(Ie){me(Ie)}finally{re.T=te}},xe.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},xe.use=function(C){return re.H.use(C)},xe.useActionState=function(C,te,le){return re.H.useActionState(C,te,le)},xe.useCallback=function(C,te){return re.H.useCallback(C,te)},xe.useContext=function(C){return re.H.useContext(C)},xe.useDebugValue=function(){},xe.useDeferredValue=function(C,te){return re.H.useDeferredValue(C,te)},xe.useEffect=function(C,te,le){var ie=re.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(C,te)},xe.useId=function(){return re.H.useId()},xe.useImperativeHandle=function(C,te,le){return re.H.useImperativeHandle(C,te,le)},xe.useInsertionEffect=function(C,te){return re.H.useInsertionEffect(C,te)},xe.useLayoutEffect=function(C,te){return re.H.useLayoutEffect(C,te)},xe.useMemo=function(C,te){return re.H.useMemo(C,te)},xe.useOptimistic=function(C,te){return re.H.useOptimistic(C,te)},xe.useReducer=function(C,te,le){return re.H.useReducer(C,te,le)},xe.useRef=function(C){return re.H.useRef(C)},xe.useState=function(C){return re.H.useState(C)},xe.useSyncExternalStore=function(C,te,le){return re.H.useSyncExternalStore(C,te,le)},xe.useTransition=function(){return re.H.useTransition()},xe.version="19.1.1",xe}var y0;function Wm(){return y0||(y0=1,nm.exports=Uw()),nm.exports}var B=Wm(),im={exports:{}},Ul={},rm={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function jw(){return _0||(_0=1,(function(r){function e(K,oe){var me=K.length;K.push(oe);e:for(;0<me;){var ze=me-1>>>1,C=K[ze];if(0<o(C,oe))K[ze]=oe,K[me]=C,me=ze;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var oe=K[0],me=K.pop();if(me!==oe){K[0]=me;e:for(var ze=0,C=K.length,te=C>>>1;ze<te;){var le=2*(ze+1)-1,ie=K[le],pe=le+1,Ie=K[pe];if(0>o(ie,me))pe<C&&0>o(Ie,ie)?(K[ze]=Ie,K[pe]=me,ze=pe):(K[ze]=ie,K[le]=me,ze=le);else if(pe<C&&0>o(Ie,me))K[ze]=Ie,K[pe]=me,ze=pe;else break e}}return oe}function o(K,oe){var me=K.sortIndex-oe.sortIndex;return me!==0?me:K.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,w=null,S=3,M=!1,U=!1,Q=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;function ne(K){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=K)s(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function re(K){if(Q=!1,ne(K),!U)if(n(g)!==null)U=!0,ye||(ye=!0,P());else{var oe=n(y);oe!==null&&lt(re,oe.startTime-K)}}var ye=!1,k=-1,x=5,R=-1;function O(){return H?!0:!(r.unstable_now()-R<x)}function V(){if(H=!1,ye){var K=r.unstable_now();R=K;var oe=!0;try{e:{U=!1,Q&&(Q=!1,ue(k),k=-1),M=!0;var me=S;try{t:{for(ne(K),w=n(g);w!==null&&!(w.expirationTime>K&&O());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,S=w.priorityLevel;var C=ze(w.expirationTime<=K);if(K=r.unstable_now(),typeof C=="function"){w.callback=C,ne(K),oe=!0;break t}w===n(g)&&s(g),ne(K)}else s(g);w=n(g)}if(w!==null)oe=!0;else{var te=n(y);te!==null&&lt(re,te.startTime-K),oe=!1}}break e}finally{w=null,S=me,M=!1}oe=void 0}}finally{oe?P():ye=!1}}}var P;if(typeof se=="function")P=function(){se(V)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ut=N.port2;N.port1.onmessage=V,P=function(){Ut.postMessage(null)}}else P=function(){X(V,0)};function lt(K,oe){k=X(function(){K(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(K){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var me=S;S=oe;try{return K()}finally{S=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,oe){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=S;S=K;try{return oe()}finally{S=me}},r.unstable_scheduleCallback=function(K,oe,me){var ze=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,K){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=me+C,K={id:E++,callback:oe,priorityLevel:K,startTime:me,expirationTime:C,sortIndex:-1},me>ze?(K.sortIndex=me,e(y,K),n(g)===null&&K===n(y)&&(Q?(ue(k),k=-1):Q=!0,lt(re,me-ze))):(K.sortIndex=C,e(g,K),U||M||(U=!0,ye||(ye=!0,P()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var oe=S;return function(){var me=S;S=oe;try{return K.apply(this,arguments)}finally{S=me}}}})(sm)),sm}var v0;function zw(){return v0||(v0=1,rm.exports=jw()),rm.exports}var am={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function Bw(){if(E0)return Yt;E0=1;var r=Wm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Yt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Yt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Yt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Yt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:M}):E==="script"&&s.d.X(g,{crossOrigin:w,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Yt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Yt.requestFormReset=function(g){s.d.r(g)},Yt.unstable_batchedUpdates=function(g,y){return g(y)},Yt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.1",Yt}var T0;function qw(){if(T0)return am.exports;T0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=Bw(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Hw(){if(b0)return Ul;b0=1;var r=zw(),e=Wm(),n=qw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ue=Symbol.for("react.consumer"),se=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case H:return"Profiler";case Q:return"StrictMode";case re:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case se:return(t.displayName||"Context")+".Provider";case ue:return(t._context.displayName||"Context")+".Consumer";case ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Ut(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Ut(t(i))}catch{}}return null}var lt=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],C=-1;function te(t){return{current:t}}function le(t){0>C||(t.current=ze[C],ze[C]=null,C--)}function ie(t,i){C++,ze[C]=t.current,t.current=i}var pe=te(null),Ie=te(null),we=te(null),Dt=te(null);function Je(t,i){switch(ie(we,i),ie(Ie,t),ie(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?q_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=q_(i),t=H_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(pe),ie(pe,t)}function Jn(){le(pe),le(Ie),le(we)}function mr(t){t.memoizedState!==null&&ie(Dt,t);var i=pe.current,a=H_(i,t.type);i!==a&&(ie(Ie,t),ie(pe,a))}function Ci(t){Ie.current===t&&(le(pe),le(Ie)),Dt.current===t&&(le(Dt),kl._currentValue=me)}var cs=Object.prototype.hasOwnProperty,hs=r.unstable_scheduleCallback,fs=r.unstable_cancelCallback,No=r.unstable_shouldYield,_u=r.unstable_requestPaint,Tn=r.unstable_now,ef=r.unstable_getCurrentPriorityLevel,Co=r.unstable_ImmediatePriority,ua=r.unstable_UserBlockingPriority,ds=r.unstable_NormalPriority,tf=r.unstable_LowPriority,ca=r.unstable_IdlePriority,Do=r.log,vu=r.unstable_setDisableYieldValue,ut=null,Fe=null;function cn(t){if(typeof Do=="function"&&vu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ut,t)}catch{}}var $t=Math.clz32?Math.clz32:ms,Eu=Math.log,nf=Math.LN2;function ms(t){return t>>>=0,t===0?32:31-(Eu(t)/nf|0)|0}var gs=256,ps=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Pn(l):(v&=b,v!==0?h=Pn(v):a||(a=b&~t,a!==0&&(h=Pn(a))))):(b=l&~d,b!==0?h=Pn(b):v!==0?h=Pn(v):a||(a=l&~t,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ys(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ko(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var t=gs;return gs<<=1,(gs&4194048)===0&&(gs=256),t}function Mo(){var t=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),t}function Di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ki(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,I=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-$t(a),J=1<<Y;b[Y]=0,I[Y]=-1;var F=q[Y];if(F!==null)for(q[Y]=null,Y=0;Y<F.length;Y++){var G=F[Y];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&ei(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ei(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-$t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-$t(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:l0(t.type))}function Tu(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var it=Math.random().toString(36).slice(2),St="__reactFiber$"+it,pt="__reactProps$"+it,bn="__reactContainer$"+it,Lo="__reactEvents$"+it,rf="__reactListeners$"+it,yr="__reactHandles$"+it,bu="__reactResources$"+it,_s="__reactMarker$"+it;function _r(t){delete t[St],delete t[pt],delete t[Lo],delete t[rf],delete t[yr]}function Oi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[bn]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=$_(t);t!==null;){if(a=t[St])return a;t=$_(t)}return i}t=a,a=t.parentNode}return null}function ti(t){if(t=t[St]||t[bn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function ni(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[bu];return i||(i=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ft(t){t[_s]=!0}var Uo=new Set,da={};function Ln(t,i){Mi(t,i),Mi(t+"Capture",i)}function Mi(t,i){for(da[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var wu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Au={},vs={};function Su(t){return cs.call(vs,t)?!0:cs.call(Au,t)?!1:wu.test(t)?vs[t]=!0:(Au[t]=!0,!1)}function vr(t,i,a){if(Su(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function ii(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function jt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Es,xu;function Vi(t){if(Es===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Es=i&&i[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+xu}var ma=!1;function ga(t,i){if(!t||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){F=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var I=v.split(`
`),q=b.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===q.length)for(l=I.length-1,h=q.length-1;1<=l&&0<=h&&I[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==q[h]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vi(a):""}function jo(t){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return ga(t.type,!1);case 11:return ga(t.type.render,!1);case 1:return ga(t.type,!0);case 31:return Vi("Activity");default:return""}}function pa(t){try{var i="";do i+=jo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sf(t){var i=zo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ya(t){t._valueTracker||(t._valueTracker=sf(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=zo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var af=/[\n"\\]/g;function yt(t){return t.replace(af,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Er(t,v,tn(i)):a!=null?Er(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+tn(b):t.removeAttribute("name")}function bs(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Er(t,i,a){i==="number"&&Ts(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function $e(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function ws(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var As=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||As.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ru(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ru(t,d,i[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Li=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,ji=null;function Fo(t){var i=ti(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Bo(l)}break e;case"textarea":$e(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Pi(t,!!a.multiple,i,!1)}}}var ri=!1;function Iu(t,i,a){if(ri)return t(i,a);ri=!0;try{var l=t(i);return l}finally{if(ri=!1,(Ui!==null||ji!==null)&&(Tc(),Ui&&(i=Ui,t=ji,ji=Ui=null,Fo(i),t)))for(i=0;i<t.length;i++)Fo(t[i])}}function Ss(t,i){var a=t.stateNode;if(a===null)return null;var l=a[pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Un)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Sn=!1}var si=null,Tr=null,zi=null;function Go(){if(zi)return zi;var t,i=Tr,a=i.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return zi=h.slice(t,1<l?1-l:void 0)}function ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function Qo(){return!1}function kt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:Qo,this.isPropagationStopped=Qo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=kt(qe),Rs=E({},qe,{view:0,detail:0}),Nu=kt(Rs),Ea,Ta,li,Is=E({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Ea=t.screenX-li.screenX,Ta=t.screenY-li.screenY):Ta=Ea=0,li=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),xn=kt(Is),Cu=E({},Is,{dataTransfer:0}),uf=kt(Cu),Ns=E({},Rs,{relatedTarget:0}),ba=kt(Ns),$o=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),wa=kt($o),Du=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=kt(Du),cf=E({},qe,{data:0}),Ko=kt(cf),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ou[t])?!!i[t]:!1}function Ds(){return Yo}var Mu=E({},Rs,{key:function(t){if(t.key){var i=Cs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sa=kt(Mu),Vu=E({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=kt(Vu),Bi=E({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Pu=kt(Bi),Lu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=kt(Lu),ju=E({},Is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=kt(ju),nn=E({},qe,{newState:0,oldState:0}),zu=kt(nn),Bu=[9,13,27,32],ui=Un&&"CompositionEvent"in window,c=null;Un&&"documentMode"in document&&(c=document.documentMode);var p=Un&&"TextEvent"in window&&!c,_=Un&&(!ui||c&&8<c&&11>=c),A=" ",j=!1;function $(t,i){switch(t){case"keyup":return Bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function xt(t,i){switch(t){case"compositionend":return ae(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return t=i.data,t===A&&j?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!ui&&$(t,i)?(t=Go(),zi=Tr=si=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function qi(t,i,a,l){Ui?ji?ji.push(l):ji=[l]:Ui=l,i=Rc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,ci=null;function Zo(t){L_(t,0)}function qu(t){var i=ni(t);if(Bo(i))return t}function rp(t,i){if(t==="change")return i}var sp=!1;if(Un){var hf;if(Un){var ff="oninput"in document;if(!ff){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),ff=typeof ap.oninput=="function"}hf=ff}else hf=!1;sp=hf&&(!document.documentMode||9<document.documentMode)}function op(){zt&&(zt.detachEvent("onpropertychange",lp),ci=zt=null)}function lp(t){if(t.propertyName==="value"&&qu(ci)){var i=[];qi(i,ci,t,An(t)),Iu(Zo,i)}}function f1(t,i,a){t==="focusin"?(op(),zt=i,ci=a,zt.attachEvent("onpropertychange",lp)):t==="focusout"&&op()}function d1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qu(ci)}function m1(t,i){if(t==="click")return qu(i)}function g1(t,i){if(t==="input"||t==="change")return qu(i)}function p1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:p1;function Wo(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!cs.call(i,h)||!fn(t[h],i[h]))return!1}return!0}function up(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cp(t,i){var a=up(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=up(a)}}function hp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?hp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ts(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ts(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var y1=Un&&"documentMode"in document&&11>=document.documentMode,Ra=null,mf=null,Jo=null,gf=!1;function dp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Ra==null||Ra!==Ts(l)||(l=Ra,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Wo(Jo,l)||(Jo=l,l=Rc(mf,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},pf={},mp={};Un&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Os(t){if(pf[t])return pf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in mp)return pf[t]=i[a];return t}var gp=Os("animationend"),pp=Os("animationiteration"),yp=Os("animationstart"),_1=Os("transitionrun"),v1=Os("transitionstart"),E1=Os("transitioncancel"),_p=Os("transitionend"),vp=new Map,yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yf.push("scrollEnd");function jn(t,i){vp.set(t,i),Ln(i,[t])}var Ep=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=Ep.get(t);return a!==void 0?a:(i={value:t,source:i,stack:pa(i)},Ep.set(t,i),i)}return{value:t,source:i,stack:pa(i)}}var In=[],Na=0,_f=0;function Hu(){for(var t=Na,i=_f=Na=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Tp(a,h,d)}}function Fu(t,i,a,l){In[Na++]=t,In[Na++]=i,In[Na++]=a,In[Na++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vf(t,i,a,l){return Fu(t,i,a,l),Gu(t)}function Ca(t,i){return Fu(t,null,null,i),Gu(t)}function Tp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-$t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Gu(t){if(50<Al)throw Al=0,Sd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={};function T1(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,i,a,l){return new T1(t,i,a,l)}function Ef(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,i){var a=t.alternate;return a===null?(a=dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bp(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Ef(t)&&(v=1);else if(typeof t=="string")v=ww(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=dn(31,a,i,h),t.elementType=R,t.lanes=d,t;case U:return Ms(a.children,h,d,i);case Q:v=8,h|=24;break;case H:return t=dn(12,a,i,h|2),t.elementType=H,t.lanes=d,t;case re:return t=dn(13,a,i,h),t.elementType=re,t.lanes=d,t;case ye:return t=dn(19,a,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case se:v=10;break e;case ue:v=9;break e;case ne:v=11;break e;case k:v=14;break e;case x:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=dn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=dn(7,t,l,i),t.lanes=a,t}function Tf(t,i,a){return t=dn(6,t,null,i),t.lanes=a,t}function bf(t,i,a){return i=dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ka=[],Oa=0,$u=null,Ku=0,Nn=[],Cn=0,Vs=null,Fi=1,Gi="";function Ps(t,i){ka[Oa++]=Ku,ka[Oa++]=$u,$u=t,Ku=i}function wp(t,i,a){Nn[Cn++]=Fi,Nn[Cn++]=Gi,Nn[Cn++]=Vs,Vs=t;var l=Fi;t=Gi;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var d=32-$t(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Fi=1<<32-$t(i)+h|a<<h|l,Gi=d+t}else Fi=1<<d|a<<h|l,Gi=t}function wf(t){t.return!==null&&(Ps(t,1),wp(t,1,0))}function Af(t){for(;t===$u;)$u=ka[--Oa],ka[Oa]=null,Ku=ka[--Oa],ka[Oa]=null;for(;t===Vs;)Vs=Nn[--Cn],Nn[Cn]=null,Gi=Nn[--Cn],Nn[Cn]=null,Fi=Nn[--Cn],Nn[Cn]=null}var rn=null,ct=null,Be=!1,Ls=null,hi=!1,Sf=Error(s(519));function Us(t){var i=Error(s(418,""));throw nl(Rn(i,t)),Sf}function Ap(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[pt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)De(xl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),bs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),ws(i,l.value,l.defaultValue,l.children),ya(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||B_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Ic),i=!0):i=!1,i||Us(t)}function Sp(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:rn=rn.return}}function el(t){if(t!==rn)return!1;if(!Be)return Sp(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&ct&&Us(t),Sp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ct=Bn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ct=null}}else i===27?(i=ct,Lr(t.type)?(t=Gd,Gd=null,ct=t):ct=i):ct=rn?Bn(t.stateNode.nextSibling):null;return!0}function tl(){ct=rn=null,Be=!1}function xp(){var t=Ls;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ls=null),t}function nl(t){Ls===null?Ls=[t]:Ls.push(t)}var xf=te(null),js=null,Qi=null;function br(t,i,a){ie(xf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=xf.current,le(xf)}function Rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function If(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var I=0;I<i.length;I++)if(b.context===i[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Rf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Rf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function il(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Dt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&If(i,t,a,l),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Rp(js,t)}function Xu(t,i){return js===null&&zs(t),Rp(t,i)}function Rp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var b1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},w1=r.unstable_scheduleCallback,A1=r.unstable_NormalPriority,It={$$typeof:se,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new b1,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&w1(A1,function(){t.controller.abort()})}var sl=null,Cf=0,Ma=0,Va=null;function S1(t,i){if(sl===null){var a=sl=[];Cf=0,Ma=kd(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cf++,i.then(Ip,Ip),i}function Ip(){if(--Cf===0&&sl!==null){Va!==null&&(Va.status="fulfilled");var t=sl;sl=null,Ma=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function x1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Np=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&S1(t,i),Np!==null&&Np(t,i)};var Bs=te(null);function Df(){var t=Bs.current;return t!==null?t:et.pooledCache}function Zu(t,i){i===null?ie(Bs,Bs.current):ie(Bs,i.pool)}function Cp(){var t=Df();return t===null?null:{parent:It._currentValue,pool:t}}var al=Error(s(460)),Dp=Error(s(474)),Wu=Error(s(542)),kf={then:function(){}};function kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ju(){}function Op(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ju,Ju),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vp(t),t;default:if(typeof i.status=="string")i.then(Ju,Ju);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vp(t),t}throw ol=i,al}}var ol=null;function Mp(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function Vp(t){if(t===al||t===Wu)throw Error(s(483))}var wr=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Sr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Gu(t),Tp(t,null,a),i}return Fu(t,l,i,a),Gu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}function Vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Pf=!1;function ul(){if(Pf){var t=Va;if(t!==null)throw t}}function cl(t,i,a,l){Pf=!1;var h=t.updateQueue;wr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,q=I.next;I.next=null,v===null?d=q:v.next=q,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==v&&(b===null?Y.firstBaseUpdate=q:b.next=q,Y.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,Y=q=I=null,b=d;do{var F=b.lane&-536870913,G=F!==b.lane;if(G?(Le&F)===F:(l&F)===F){F!==0&&F===Ma&&(Pf=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,_e=b;F=i;var Xe=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){J=Te.call(Xe,J,F);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,F=typeof Te=="function"?Te.call(Xe,J,F):Te,F==null)break e;J=E({},J,F);break e;case 2:wr=!0}}F=b.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(q=Y=G,I=J):Y=Y.next=G,v|=F;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(I=J),h.baseState=I,h.firstBaseUpdate=q,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Or|=v,t.lanes=v,t.memoizedState=J}}function Pp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Lp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pp(a[t],i)}var Pa=te(null),ec=te(0);function Up(t,i){t=er,ie(ec,t),ie(Pa,i),er=t|i.baseLanes}function Lf(){ie(ec,er),ie(Pa,Pa.current)}function Uf(){er=ec.current,le(Pa),le(ec)}var xr=0,Re=null,Ke=null,_t=null,tc=!1,La=!1,qs=!1,nc=0,hl=0,Ua=null,R1=0;function dt(){throw Error(s(321))}function jf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!fn(t[a],i[a]))return!1;return!0}function zf(t,i,a,l,h,d){return xr=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Ty:by,qs=!1,d=a(l,h),qs=!1,La&&(d=zp(i,a,l,h)),jp(t),d}function jp(t){K.H=lc;var i=Ke!==null&&Ke.next!==null;if(xr=0,_t=Ke=Re=null,tc=!1,hl=0,Ua=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&Yu(t)&&(Mt=!0))}function zp(t,i,a,l){Re=t;var h=0;do{if(La&&(Ua=null),hl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,_t=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=M1,d=i(a,l)}while(La);return d}function I1(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Re.flags|=1024),i}function Bf(){var t=nc!==0;return nc=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(tc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}tc=!1}xr=0,_t=Ke=Re=null,La=!1,hl=nc=0,Ua=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Re.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Ke===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var i=_t===null?Re.memoizedState:_t.next;if(i!==null)_t=i,Ke=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},_t===null?Re.memoizedState=_t=t:_t=_t.next=t}return _t}function Ff(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var i=hl;return hl+=1,Ua===null&&(Ua=[]),t=Op(Ua,t,i),i=Re,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Ty:by),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===se)return Kt(t)}throw Error(s(438,String(t)))}function Gf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ff(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function rc(t){var i=vt();return Qf(i,Ke,t)}function Qf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,I=null,q=i,Y=!1;do{var J=q.lane&-536870913;if(J!==q.lane?(Le&J)===J:(xr&J)===J){var F=q.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),J===Ma&&(Y=!0);else if((xr&F)===F){q=q.next,F===Ma&&(Y=!0);continue}else J={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=J,v=d):I=I.next=J,Re.lanes|=F,Or|=F;J=q.action,qs&&a(d,J),d=q.hasEagerState?q.eagerState:a(d,J)}else F={lane:J,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},I===null?(b=I=F,v=d):I=I.next=F,Re.lanes|=J,Or|=J;q=q.next}while(q!==null&&q!==i);if(I===null?v=d:I.next=b,!fn(d,t.memoizedState)&&(Mt=!0,Y&&(a=Va,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $f(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Bp(t,i,a){var l=Re,h=vt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn((Ke||h).memoizedState,a);v&&(h.memoizedState=a,Mt=!0),h=h.queue;var b=Fp.bind(null,l,h,t);if(dl(2048,8,b,[t]),h.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,ja(9,sc(),Hp.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(xr&124)!==0||qp(l,i,a)}return a}function qp(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Ff(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Hp(t,i,a,l){i.value=a,i.getSnapshot=l,Gp(i)&&Qp(t)}function Fp(t,i,a){return a(function(){Gp(i)&&Qp(t)})}function Gp(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!fn(t,a)}catch{return!0}}function Qp(t){var i=Ca(t,2);i!==null&&_n(i,t,2)}function Kf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),qs){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function $p(t,i,a,l){return t.baseState=a,Qf(t,Ke,typeof l=="function"?l:Ki)}function N1(t,i,a,l,h){if(oc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Kp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Kp(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=K.T,v={};K.T=v;try{var b=a(h,l),I=K.S;I!==null&&I(v,b),Yp(t,i,b)}catch(q){Yf(t,i,q)}finally{K.T=d}}else try{d=a(h,l),Yp(t,i,d)}catch(q){Yf(t,i,q)}}function Yp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xp(t,i,l)},function(l){return Yf(t,i,l)}):Xp(t,i,a)}function Xp(t,i,a){i.status="fulfilled",i.value=a,Zp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Kp(t,a)))}function Yf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Zp(i),i=i.next;while(i!==l)}t.action=null}function Zp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Wp(t,i){return i}function Jp(t,i){if(Be){var a=et.formState;if(a!==null){e:{var l=Re;if(Be){if(ct){t:{for(var h=ct,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Bn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=Bn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wp,lastRenderedState:i},a.queue=l,a=_y.bind(null,Re,l),l.dispatch=a,l=Kf(!1),d=ed.bind(null,Re,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=N1.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ey(t){var i=vt();return ty(i,Ke,t)}function ty(t,i,a){if(i=Qf(t,i,Wp)[0],t=rc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=fl(i)}catch(v){throw v===al?Wu:v}else l=i;i=vt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,ja(9,sc(),C1.bind(null,h,a),null)),[l,d,t]}function C1(t,i){t.action=i}function ny(t){var i=vt(),a=Ke;if(a!==null)return ty(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=Ff(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function sc(){return{destroy:void 0,resource:void 0}}function iy(){return vt().memoizedState}function ac(t,i,a,l){var h=an();l=l===void 0?null:l,Re.flags|=t,h.memoizedState=ja(1|i,sc(),a,l)}function dl(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&jf(l,Ke.memoizedState.deps)?h.memoizedState=ja(i,d,a,l):(Re.flags|=t,h.memoizedState=ja(1|i,d,a,l))}function ry(t,i){ac(8390656,8,t,i)}function sy(t,i){dl(2048,8,t,i)}function ay(t,i){return dl(4,2,t,i)}function oy(t,i){return dl(4,4,t,i)}function ly(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function uy(t,i,a){a=a!=null?a.concat([t]):null,dl(4,4,ly.bind(null,i,t),a)}function Xf(){}function cy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&jf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function hy(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&jf(i,l[1]))return l[0];if(l=t(),qs){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function Zf(t,i,a){return a===void 0||(xr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=m_(),Re.lanes|=t,Or|=t,a)}function fy(t,i,a,l){return fn(a,i)?a:Pa.current!==null?(t=Zf(t,a,l),fn(t,i)||(Mt=!0),t):(xr&42)===0?(Mt=!0,t.memoizedState=a):(t=m_(),Re.lanes|=t,Or|=t,i)}function dy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=K.T,b={};K.T=b,ed(t,!1,i,a);try{var I=h(),q=K.S;if(q!==null&&q(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=x1(I,l);ml(t,i,Y,yn(t))}else ml(t,i,l,yn(t))}catch(J){ml(t,i,{then:function(){},status:"rejected",reason:J},yn())}finally{oe.p=d,K.T=v}}function D1(){}function Wf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=my(t).queue;dy(t,h,i,me,a===null?D1:function(){return gy(t),a(l)})}function my(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function gy(t){var i=my(t).next.queue;ml(t,i,{},yn())}function Jf(){return Kt(kl)}function py(){return vt().memoizedState}function yy(){return vt().memoizedState}function k1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();t=Ar(a);var l=Sr(i,t,a);l!==null&&(_n(l,i,a),ll(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function O1(t,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?vy(i,a):(a=vf(t,i,a,l),a!==null&&(_n(a,t,l),Ey(a,i,l)))}function _y(t,i,a){var l=yn();ml(t,i,a,l)}function ml(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,fn(b,v))return Fu(t,i,h,0),et===null&&Hu(),!1}catch{}finally{}if(a=vf(t,i,h,l),a!==null)return _n(a,t,l),Ey(a,i,l),!0}return!1}function ed(t,i,a,l){if(l={lane:2,revertLane:kd(),action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(i)throw Error(s(479))}else i=vf(t,a,l,2),i!==null&&_n(i,t,2)}function oc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function vy(t,i){La=tc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ey(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}var lc={readContext:Kt,use:ic,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Ty={readContext:Kt,use:ic,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:ry,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ac(4194308,4,ly.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ac(4194308,4,t,i)},useInsertionEffect:function(t,i){ac(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(qs){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(qs){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=O1.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Kf(t);var i=t.queue,a=_y.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,i){var a=an();return Zf(a,t,i)},useTransition:function(){var t=Kf(!1);return t=dy.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=an();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Le&124)!==0||qp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ry(Fp.bind(null,l,d,t),[t]),l.flags|=2048,ja(9,sc(),Hp.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=et.identifierPrefix;if(Be){var a=Gi,l=Fi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=nc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=R1++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Jf,useFormState:Jp,useActionState:Jp,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Gf,useCacheRefresh:function(){return an().memoizedState=k1.bind(null,Re)}},by={readContext:Kt,use:ic,useCallback:cy,useContext:Kt,useEffect:sy,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:rc,useRef:iy,useState:function(){return rc(Ki)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=vt();return fy(a,Ke.memoizedState,t,i)},useTransition:function(){var t=rc(Ki)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Bp,useId:py,useHostTransitionStatus:Jf,useFormState:ey,useActionState:ey,useOptimistic:function(t,i){var a=vt();return $p(a,Ke,t,i)},useMemoCache:Gf,useCacheRefresh:yy},M1={readContext:Kt,use:ic,useCallback:cy,useContext:Kt,useEffect:sy,useImperativeHandle:uy,useInsertionEffect:ay,useLayoutEffect:oy,useMemo:hy,useReducer:$f,useRef:iy,useState:function(){return $f(Ki)},useDebugValue:Xf,useDeferredValue:function(t,i){var a=vt();return Ke===null?Zf(a,t,i):fy(a,Ke.memoizedState,t,i)},useTransition:function(){var t=$f(Ki)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Bp,useId:py,useHostTransitionStatus:Jf,useFormState:ny,useActionState:ny,useOptimistic:function(t,i){var a=vt();return Ke!==null?$p(a,Ke,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Gf,useCacheRefresh:yy},za=null,gl=0;function uc(t){var i=gl;return gl+=1,za===null&&(za=[]),Op(za,t,i)}function pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function cc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wy(t){var i=t._init;return i(t._payload)}function Ay(t){function i(L,D){if(t){var z=L.deletions;z===null?(L.deletions=[D],L.flags|=16):z.push(D)}}function a(L,D){if(!t)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function l(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=Hi(L,D),L.index=0,L.sibling=null,L}function d(L,D,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<D?(L.flags|=67108866,D):z):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,D,z,Z){return D===null||D.tag!==6?(D=Tf(z,L.mode,Z),D.return=L,D):(D=h(D,z),D.return=L,D)}function I(L,D,z,Z){var fe=z.type;return fe===U?Y(L,D,z.props.children,Z,z.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===x&&wy(fe)===D.type)?(D=h(D,z.props),pl(D,z),D.return=L,D):(D=Qu(z.type,z.key,z.props,null,L.mode,Z),pl(D,z),D.return=L,D)}function q(L,D,z,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=bf(z,L.mode,Z),D.return=L,D):(D=h(D,z.children||[]),D.return=L,D)}function Y(L,D,z,Z,fe){return D===null||D.tag!==7?(D=Ms(z,L.mode,Z,fe),D.return=L,D):(D=h(D,z),D.return=L,D)}function J(L,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Tf(""+D,L.mode,z),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return z=Qu(D.type,D.key,D.props,null,L.mode,z),pl(z,D),z.return=L,z;case M:return D=bf(D,L.mode,z),D.return=L,D;case x:var Z=D._init;return D=Z(D._payload),J(L,D,z)}if(lt(D)||P(D))return D=Ms(D,L.mode,z,null),D.return=L,D;if(typeof D.then=="function")return J(L,uc(D),z);if(D.$$typeof===se)return J(L,Xu(L,D),z);cc(L,D)}return null}function F(L,D,z,Z){var fe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:b(L,D,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===fe?I(L,D,z,Z):null;case M:return z.key===fe?q(L,D,z,Z):null;case x:return fe=z._init,z=fe(z._payload),F(L,D,z,Z)}if(lt(z)||P(z))return fe!==null?null:Y(L,D,z,Z,null);if(typeof z.then=="function")return F(L,D,uc(z),Z);if(z.$$typeof===se)return F(L,D,Xu(L,z),Z);cc(L,z)}return null}function G(L,D,z,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,b(D,L,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?z:Z.key)||null,I(D,L,Z,fe);case M:return L=L.get(Z.key===null?z:Z.key)||null,q(D,L,Z,fe);case x:var Ne=Z._init;return Z=Ne(Z._payload),G(L,D,z,Z,fe)}if(lt(Z)||P(Z))return L=L.get(z)||null,Y(D,L,Z,fe,null);if(typeof Z.then=="function")return G(L,D,z,uc(Z),fe);if(Z.$$typeof===se)return G(L,D,z,Xu(D,Z),fe);cc(D,Z)}return null}function Te(L,D,z,Z){for(var fe=null,Ne=null,de=D,ve=D=0,Pt=null;de!==null&&ve<z.length;ve++){de.index>ve?(Pt=de,de=null):Pt=de.sibling;var je=F(L,de,z[ve],Z);if(je===null){de===null&&(de=Pt);break}t&&de&&je.alternate===null&&i(L,de),D=d(je,D,ve),Ne===null?fe=je:Ne.sibling=je,Ne=je,de=Pt}if(ve===z.length)return a(L,de),Be&&Ps(L,ve),fe;if(de===null){for(;ve<z.length;ve++)de=J(L,z[ve],Z),de!==null&&(D=d(de,D,ve),Ne===null?fe=de:Ne.sibling=de,Ne=de);return Be&&Ps(L,ve),fe}for(de=l(de);ve<z.length;ve++)Pt=G(de,L,ve,z[ve],Z),Pt!==null&&(t&&Pt.alternate!==null&&de.delete(Pt.key===null?ve:Pt.key),D=d(Pt,D,ve),Ne===null?fe=Pt:Ne.sibling=Pt,Ne=Pt);return t&&de.forEach(function(qr){return i(L,qr)}),Be&&Ps(L,ve),fe}function _e(L,D,z,Z){if(z==null)throw Error(s(151));for(var fe=null,Ne=null,de=D,ve=D=0,Pt=null,je=z.next();de!==null&&!je.done;ve++,je=z.next()){de.index>ve?(Pt=de,de=null):Pt=de.sibling;var qr=F(L,de,je.value,Z);if(qr===null){de===null&&(de=Pt);break}t&&de&&qr.alternate===null&&i(L,de),D=d(qr,D,ve),Ne===null?fe=qr:Ne.sibling=qr,Ne=qr,de=Pt}if(je.done)return a(L,de),Be&&Ps(L,ve),fe;if(de===null){for(;!je.done;ve++,je=z.next())je=J(L,je.value,Z),je!==null&&(D=d(je,D,ve),Ne===null?fe=je:Ne.sibling=je,Ne=je);return Be&&Ps(L,ve),fe}for(de=l(de);!je.done;ve++,je=z.next())je=G(de,L,ve,je.value,Z),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?ve:je.key),D=d(je,D,ve),Ne===null?fe=je:Ne.sibling=je,Ne=je);return t&&de.forEach(function(Vw){return i(L,Vw)}),Be&&Ps(L,ve),fe}function Xe(L,D,z,Z){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var fe=z.key;D!==null;){if(D.key===fe){if(fe=z.type,fe===U){if(D.tag===7){a(L,D.sibling),Z=h(D,z.props.children),Z.return=L,L=Z;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===x&&wy(fe)===D.type){a(L,D.sibling),Z=h(D,z.props),pl(Z,z),Z.return=L,L=Z;break e}a(L,D);break}else i(L,D);D=D.sibling}z.type===U?(Z=Ms(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=Qu(z.type,z.key,z.props,null,L.mode,Z),pl(Z,z),Z.return=L,L=Z)}return v(L);case M:e:{for(fe=z.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(L,D.sibling),Z=h(D,z.children||[]),Z.return=L,L=Z;break e}else{a(L,D);break}else i(L,D);D=D.sibling}Z=bf(z,L.mode,Z),Z.return=L,L=Z}return v(L);case x:return fe=z._init,z=fe(z._payload),Xe(L,D,z,Z)}if(lt(z))return Te(L,D,z,Z);if(P(z)){if(fe=P(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),_e(L,D,z,Z)}if(typeof z.then=="function")return Xe(L,D,uc(z),Z);if(z.$$typeof===se)return Xe(L,D,Xu(L,z),Z);cc(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(a(L,D.sibling),Z=h(D,z),Z.return=L,L=Z):(a(L,D),Z=Tf(z,L.mode,Z),Z.return=L,L=Z),v(L)):a(L,D)}return function(L,D,z,Z){try{gl=0;var fe=Xe(L,D,z,Z);return za=null,fe}catch(de){if(de===al||de===Wu)throw de;var Ne=dn(29,de,null,L.mode);return Ne.lanes=Z,Ne.return=L,Ne}finally{}}}var Ba=Ay(!0),Sy=Ay(!1),Dn=te(null),fi=null;function Rr(t){var i=t.alternate;ie(Nt,Nt.current&1),ie(Dn,t),fi===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(fi=t)}function xy(t){if(t.tag===22){if(ie(Nt,Nt.current),ie(Dn,t),fi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(fi=t)}}else Ir()}function Ir(){ie(Nt,Nt.current),ie(Dn,Dn.current)}function Yi(t){le(Dn),fi===t&&(fi=null),le(Nt)}var Nt=te(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Fd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function td(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yn(),h=Ar(l);h.payload=i,a!=null&&(h.callback=a),i=Sr(t,h,l),i!==null&&(_n(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yn(),h=Ar(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Sr(t,h,l),i!==null&&(_n(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yn(),l=Ar(a);l.tag=2,i!=null&&(l.callback=i),i=Sr(t,l,a),i!==null&&(_n(i,t,a),ll(i,t,a))}};function Ry(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Iy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&nd.enqueueReplaceState(i,i.state,null)}function Hs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ny(t){fc(t)}function Cy(t){console.error(t)}function Dy(t){fc(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ky(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function id(t,i,a){return a=Ar(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function Oy(t){return t=Ar(t),t.tag=3,t}function My(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ky(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ky(i,a,l),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function V1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&il(i,a,h,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return fi===null?Rd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===kf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nd(t,l,h)),!1;case 22:return a.flags|=65536,l===kf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nd(t,l,h)),!1}throw Error(s(435,a.tag))}return Nd(t,l,h),Rd(),!1}if(Be)return i=Dn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sf&&(t=Error(s(422),{cause:l}),nl(Rn(t,a)))):(l!==Sf&&(i=Error(s(423),{cause:l}),nl(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=id(t.stateNode,l,h),Vf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),wl===null?wl=[d]:wl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=id(a.stateNode,l,t),Vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mr===null||!Mr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Oy(h),My(h,t,a,l),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var Vy=Error(s(461)),Mt=!1;function Bt(t,i,a,l){i.child=t===null?Sy(i,null,a,l):Ba(i,t.child,a,l)}function Py(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return zs(i),l=zf(t,i,a,v,d,h),b=Bf(),t!==null&&!Mt?(qf(t,i,h),Xi(t,i,h)):(Be&&b&&wf(i),i.flags|=1,Bt(t,i,l,h),i.child)}function Ly(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ef(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,h)):(t=Qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!hd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(v,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Hi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(Mt=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return rd(t,i,a,l,h)}function jy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return zy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Zu(i,d!==null?d.cachePool:null),d!==null?Up(i,d):Lf(),xy(i);else return i.lanes=i.childLanes=536870912,zy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Zu(i,d.cachePool),Up(i,d),Ir(),i.memoizedState=null):(t!==null&&Zu(i,null),Lf(),Ir());return Bt(t,i,h,a),i.child}function zy(t,i,a,l){var h=Df();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Zu(i,null),Lf(),xy(i),t!==null&&il(t,i,l,!0),null}function mc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function rd(t,i,a,l,h){return zs(i),a=zf(t,i,a,l,void 0,h),l=Bf(),t!==null&&!Mt?(qf(t,i,h),Xi(t,i,h)):(Be&&l&&wf(i),i.flags|=1,Bt(t,i,a,h),i.child)}function By(t,i,a,l,h,d){return zs(i),i.updateQueue=null,a=zp(i,l,a,h),jp(t),l=Bf(),t!==null&&!Mt?(qf(t,i,d),Xi(t,i,d)):(Be&&l&&wf(i),i.flags|=1,Bt(t,i,a,d),i.child)}function qy(t,i,a,l,h){if(zs(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Of(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(td(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&nd.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,I=Hs(a,b);d.props=I;var q=d.context,Y=a.contextType;v=Da,typeof Y=="object"&&Y!==null&&(v=Kt(Y));var J=a.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||q!==v)&&Iy(i,d,l,v),wr=!1;var F=i.memoizedState;d.state=F,cl(i,l,d,h),ul(),q=i.memoizedState,b||F!==q||wr?(typeof J=="function"&&(td(i,a,J,l),q=i.memoizedState),(I=wr||Ry(i,a,I,l,F,q,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Mf(t,i),v=i.memoizedProps,Y=Hs(a,v),d.props=Y,J=i.pendingProps,F=d.context,q=a.contextType,I=Da,typeof q=="object"&&q!==null&&(I=Kt(q)),b=a.getDerivedStateFromProps,(q=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==I)&&Iy(i,d,l,I),wr=!1,F=i.memoizedState,d.state=F,cl(i,l,d,h),ul();var G=i.memoizedState;v!==J||F!==G||wr||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof b=="function"&&(td(i,a,b,l),G=i.memoizedState),(Y=wr||Ry(i,a,Y,l,F,G,I)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,mc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ba(i,t.child,null,h),i.child=Ba(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function Hy(t,i,a,l){return tl(),i.flags|=256,Bt(t,i,a,l),i.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:Cp()}}function od(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function Fy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Rr(i):Ir(),Be){var b=ct,I;if(I=b){e:{for(I=b,b=hi;I.nodeType!==8;){if(!b){b=null;break e}if(I=Bn(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(i.memoizedState={dehydrated:b,treeContext:Vs!==null?{id:Fi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=b,I.return=i,i.child=I,rn=i,ct=null,I=!0):I=!1}I||Us(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Fd(b)?i.lanes=32:i.lanes=536870912,null;Yi(i)}return b=l.children,l=l.fallback,h?(Ir(),h=i.mode,b=gc({mode:"hidden",children:b},h),l=Ms(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=ad(a),h.childLanes=od(t,v,a),i.memoizedState=sd,l):(Rr(i),ld(i,b))}if(I=t.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=ud(t,i,a)):i.memoizedState!==null?(Ir(),i.child=t.child,i.flags|=128,i=null):(Ir(),h=l.fallback,b=i.mode,l=gc({mode:"visible",children:l.children},b),h=Ms(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ba(i,t.child,null,a),l=i.child,l.memoizedState=ad(a),l.childLanes=od(t,v,a),i.memoizedState=sd,i=h);else if(Rr(i),Fd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),i=ud(t,i,a)}else if(Mt||il(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=et,v!==null&&(l=a&-a,l=(l&42)!==0?1:gr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ca(t,l),_n(v,t,l),Vy;b.data==="$?"||Rd(),i=ud(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ct=Bn(b.nextSibling),rn=i,Be=!0,Ls=null,hi=!1,t!==null&&(Nn[Cn++]=Fi,Nn[Cn++]=Gi,Nn[Cn++]=Vs,Fi=t.id,Gi=t.overflow,Vs=i),i=ld(i,l.children),i.flags|=4096);return i}return h?(Ir(),h=l.fallback,b=i.mode,I=t.child,q=I.sibling,l=Hi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,q!==null?h=Hi(q,h):(h=Ms(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=ad(a):(I=b.cachePool,I!==null?(q=It._currentValue,I=I.parent!==q?{parent:q,pool:q}:I):I=Cp(),b={baseLanes:b.baseLanes|a,cachePool:I}),h.memoizedState=b,h.childLanes=od(t,v,a),i.memoizedState=sd,l):(Rr(i),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ld(t,i){return i=gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function gc(t,i){return t=dn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ud(t,i,a){return Ba(i,t.child,null,a),t=ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Gy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Rf(t.return,i,a)}function cd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Qy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Bt(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gy(t,a,i);else if(t.tag===19)Gy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Nt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(i,!0,a,null,d);break;case"together":cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Or|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(il(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function P1(t,i,a){switch(i.tag){case 3:Je(i,i.stateNode.containerInfo),br(i,It,t.memoizedState.cache),tl();break;case 27:case 5:mr(i);break;case 4:Je(i,i.stateNode.containerInfo);break;case 10:br(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Fy(t,i,a):(Rr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Rr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(il(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Qy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,jy(t,i,a);case 24:br(i,It,t.memoizedState.cache)}return Xi(t,i,a)}function $y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!hd(t,a)&&(i.flags&128)===0)return Mt=!1,P1(t,i,a);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(i.flags&1048576)!==0&&wp(i,Ku,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ef(l)?(t=Hs(l,t),i.tag=1,i=qy(null,i,l,t,a)):(i.tag=0,i=rd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ne){i.tag=11,i=Py(null,i,l,t,a);break e}else if(h===k){i.tag=14,i=Ly(null,i,l,t,a);break e}}throw i=Ut(l)||l,Error(s(306,i,""))}}return i;case 0:return rd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Hs(l,i.pendingProps),qy(t,i,l,h,a);case 3:e:{if(Je(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),cl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,br(i,It,l),l!==d.cache&&If(i,[It],a,!0),ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hy(t,i,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),i),nl(h),i=Hy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=Bn(t.firstChild),rn=i,Be=!0,Ls=null,hi=!0,a=Sy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===h){i=Xi(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return mc(t,i),t===null?(a=Z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Nc(we.current).createElement(a),l[St]=i,l[pt]=t,Ht(l,a,t),ft(l),i.stateNode=l):i.memoizedState=Z_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return mr(i),t===null&&Be&&(l=i.stateNode=K_(i.type,i.pendingProps,we.current),rn=i,hi=!0,h=ct,Lr(i.type)?(Gd=h,ct=Bn(l.firstChild)):ct=h),Bt(t,i,i.pendingProps.children,a),mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ct)&&(l=cw(l,i.type,i.pendingProps,hi),l!==null?(i.stateNode=l,rn=i,ct=Bn(l.firstChild),hi=!1,h=!0):h=!1),h||Us(i)),mr(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:v!==null&&Bd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(t,i,I1,null,null,a),kl._currentValue=h),mc(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ct)&&(a=hw(a,i.pendingProps,hi),a!==null?(i.stateNode=a,rn=i,ct=null,t=!0):t=!1),t||Us(i)),null;case 13:return Fy(t,i,a);case 4:return Je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ba(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return Py(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,br(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zs(i),h=Kt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return Ly(t,i,i.type,i.pendingProps,a);case 15:return Uy(t,i,i.type,i.pendingProps,a);case 19:return Qy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=gc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Hi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return jy(t,i,a);case 24:return zs(i),l=Kt(It),t===null?(h=Df(),h===null&&(h=et,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Of(i),br(i,It,h)):((t.lanes&a)!==0&&(Mf(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),br(i,It,l)):(l=d.cache,br(i,It,l),l!==h.cache&&If(i,[It],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Zi(t){t.flags|=4}function Ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!n0(i)){if(i=Dn.current,i!==null&&((Le&4194048)===Le?fi!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==fi))throw ol=kf,Dp;t.flags|=8192}}function pc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Mo():536870912,t.lanes|=i,Ga|=i)}function yl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function L1(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(It),Jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(i)?Zi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xp())),at(i),null;case 26:return a=i.memoizedState,t===null?(Zi(i),a!==null?(at(i),Ky(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Zi(i),at(i),Ky(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&Zi(i),at(i),i.flags&=-16777217),null;case 27:Ci(i),a=we.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=pe.current,el(i)?Ap(i):(t=K_(h,l,a),i.stateNode=t,Zi(i))}return at(i),null;case 5:if(Ci(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=pe.current,el(i))Ap(i);else{switch(h=Nc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zi(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Zi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,el(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||B_(t.nodeValue,a)),t||Us(i)}else t=Nc(t).createTextNode(l),t[St]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=xp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Yi(i),i):(Yi(i),null)}if(Yi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),pc(i,i.updateQueue),at(i),null;case 4:return Jn(),t===null&&Pd(i.stateNode.containerInfo),at(i),null;case 10:return $i(i.type),at(i),null;case 19:if(le(Nt),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,yl(h,!1),t=d.updateQueue,i.updateQueue=t,pc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)bp(a,t),a=a.sibling;return ie(Nt,Nt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Tn()>vc&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304)}else{if(!l)if(t=hc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,pc(i,t),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return at(i),null}else 2*Tn()-h.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Tn(),i.sibling=null,t=Nt.current,ie(Nt,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return Yi(i),Uf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&pc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&le(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(It),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function U1(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(It),Jn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ci(i),null;case 13:if(Yi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));tl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return le(Nt),null;case 4:return Jn(),null;case 10:return $i(i.type),null;case 22:case 23:return Yi(i),Uf(),t!==null&&le(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(It),null;case 25:return null;default:return null}}function Yy(t,i){switch(Af(i),i.tag){case 3:$i(It),Jn();break;case 26:case 27:case 5:Ci(i);break;case 4:Jn();break;case 13:Yi(i);break;case 19:le(Nt);break;case 10:$i(i.type);break;case 22:case 23:Yi(i),Uf(),t!==null&&le(Bs);break;case 24:$i(It)}}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){We(i,i.return,b)}}function Nr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var I=a,q=b;try{q()}catch(Y){We(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){We(i,i.return,Y)}}function Xy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Lp(i,a)}catch(l){We(t,t.return,l)}}}function Zy(t,i,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function di(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function Wy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function fd(t,i,a){try{var l=t.stateNode;sw(l,t.type,a,i),l[pt]=i}catch(h){We(t,t.return,h)}}function Jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Lr(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ic));else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(md(t,i,a),t=t.sibling;t!==null;)md(t,i,a),t=t.sibling}function yc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Lr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yc(t,i,a),t=t.sibling;t!==null;)yc(t,i,a),t=t.sibling}function e_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,a),i[St]=t,i[pt]=a}catch(d){We(t,t.return,d)}}var Wi=!1,mt=!1,gd=!1,t_=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function j1(t,i){if(t=t.containerInfo,jd=Vc,t=fp(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,I=-1,q=0,Y=0,J=t,F=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(b=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===t)break t;if(F===a&&++q===h&&(b=v),F===d&&++Y===l&&(I=v),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Vc=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function n_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cr(t,a),l&4&&_l(5,a);break;case 1:if(Cr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Xy(a),l&512&&vl(a,a.return);break;case 3:if(Cr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Lp(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&e_(a);case 26:case 5:Cr(t,a),i===null&&l&4&&Wy(a),l&512&&vl(a,a.return);break;case 12:Cr(t,a);break;case 13:Cr(t,a),l&4&&s_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=K1.bind(null,a),fw(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||mt,h=Wi;var d=mt;Wi=l,(mt=i)&&!d?Dr(t,a,(a.subtreeFlags&8772)!==0):Cr(t,a),Wi=h,mt=d}break;case 30:break;default:Cr(t,a)}}function i_(t){var i=t.alternate;i!==null&&(t.alternate=null,i_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_r(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var rt=null,on=!1;function Ji(t,i,a){for(a=a.child;a!==null;)r_(t,i,a),a=a.sibling}function r_(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||di(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||di(a,i);var l=rt,h=on;Lr(a.type)&&(rt=a.stateNode,on=!1),Ji(t,i,a),Il(a.stateNode),rt=l,on=h;break;case 5:mt||di(a,i);case 6:if(l=rt,h=on,rt=null,Ji(t,i,a),rt=l,on=h,rt!==null)if(on)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{rt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:rt!==null&&(on?(t=rt,Q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Pl(t)):Q_(rt,a.stateNode));break;case 4:l=rt,h=on,rt=a.stateNode.containerInfo,on=!0,Ji(t,i,a),rt=l,on=h;break;case 0:case 11:case 14:case 15:mt||Nr(2,a,i),mt||Nr(4,a,i),Ji(t,i,a);break;case 1:mt||(di(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Ji(t,i,a),mt=l;break;default:Ji(t,i,a)}}function s_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(a){We(i,i.return,a)}}function z1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new t_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new t_),i;default:throw Error(s(435,t.tag))}}function pd(t,i){var a=z1(t);i.forEach(function(l){var h=Y1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Lr(b.type)){rt=b.stateNode,on=!1;break e}break;case 5:rt=b.stateNode,on=!1;break e;case 3:case 4:rt=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(rt===null)throw Error(s(160));r_(d,v,h),rt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)a_(i,t),i=i.sibling}var zn=null;function a_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),gn(t),l&4&&(Nr(3,t,t.return),_l(3,t),Nr(5,t,t.return));break;case 1:mn(i,t),gn(t),l&512&&(mt||a===null||di(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(mn(i,t),gn(t),l&512&&(mt||a===null||di(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ht(d,l,a),d[St]=t,ft(d),l=d;break e;case"link":var v=e0("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;case"meta":if(v=e0("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Ht(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,ft(d),l=d}t.stateNode=l}else t0(h,t.type,t.stateNode);else t.stateNode=J_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?t0(h,t.type,t.stateNode):J_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),gn(t),l&512&&(mt||a===null||di(a,a.return)),a!==null&&l&4&&fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),gn(t),l&512&&(mt||a===null||di(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gd=!0);break;case 6:if(mn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(kc=null,h=zn,zn=Cc(i.containerInfo),mn(i,t),zn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(i.containerInfo)}catch(G){We(t,t.return,G)}gd&&(gd=!1,o_(t));break;case 4:l=zn,zn=Cc(t.stateNode.containerInfo),mn(i,t),gn(t),zn=l;break;case 12:mn(i,t),gn(t);break;case 13:mn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=Tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,q=Wi,Y=mt;if(Wi=q||h,mt=Y||I,mn(i,t),mt=Y,Wi=q,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Wi||mt||Fs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){We(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){We(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(t,a))));break;case 19:mn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 30:break;case 21:break;default:mn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Jy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=dd(t);yc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var b=dd(t);yc(t,b,v);break;case 3:case 4:var I=a.stateNode.containerInfo,q=dd(t);md(t,q,I);break;default:throw Error(s(161))}}catch(Y){We(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function o_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;o_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Cr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(t,i.alternate,i),i=i.sibling}function Fs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Nr(4,i,i.return),Fs(i);break;case 1:di(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zy(i,i.return,a),Fs(i);break;case 27:Il(i.stateNode);case 26:case 5:di(i,i.return),Fs(i);break;case 22:i.memoizedState===null&&Fs(i);break;case 30:Fs(i);break;default:Fs(i)}t=t.sibling}}function Dr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Dr(h,d,a),_l(4,d);break;case 1:if(Dr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){We(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Pp(I[h],b)}catch(q){We(l,l.return,q)}}a&&v&64&&Xy(d),vl(d,d.return);break;case 27:e_(d);case 26:case 5:Dr(h,d,a),a&&l===null&&v&4&&Wy(d),vl(d,d.return);break;case 12:Dr(h,d,a);break;case 13:Dr(h,d,a),a&&v&4&&s_(h,d);break;case 22:d.memoizedState===null&&Dr(h,d,a),vl(d,d.return);break;case 30:break;default:Dr(h,d,a)}i=i.sibling}}function yd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function _d(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function mi(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(t,i,a,l),i=i.sibling}function l_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:mi(t,i,a,l),h&2048&&_l(9,i);break;case 1:mi(t,i,a,l);break;case 3:mi(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){mi(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else mi(t,i,a,l);break;case 13:mi(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?mi(t,i,a,l):El(t,i):d._visibility&2?mi(t,i,a,l):(d._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&yd(v,i);break;case 24:mi(t,i,a,l),h&2048&&_d(i.alternate,i);break;default:mi(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,b=a,I=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:qa(d,v,b,I,h),_l(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?qa(d,v,b,I,h):El(d,v):(Y._visibility|=2,qa(d,v,b,I,h)),h&&q&2048&&yd(v.alternate,v);break;case 24:qa(d,v,b,I,h),h&&q&2048&&_d(v.alternate,v);break;default:qa(d,v,b,I,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&yd(l.alternate,l);break;case 24:El(a,l),h&2048&&_d(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ha(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)u_(t),t=t.sibling}function u_(t){switch(t.tag){case 26:Ha(t),t.flags&Tl&&t.memoizedState!==null&&Sw(zn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=zn;zn=Cc(t.stateNode.containerInfo),Ha(t),zn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Tl,Tl=16777216,Ha(t),Tl=i):Ha(t));break;default:Ha(t)}}function c_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,f_(l,t)}c_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h_(t),t=t.sibling}function h_(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Nr(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,_c(t)):bl(t);break;default:bl(t)}}function _c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,f_(l,t)}c_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Nr(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,_c(i));break;default:_c(i)}t=t.sibling}}function f_(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Nr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var h=l.sibling,d=l.return;if(i_(l),l===a){Vt=null;break e}if(h!==null){h.return=d,Vt=h;break e}Vt=d}}}var B1={getCacheForType:function(t){var i=Kt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},q1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ce=null,Le=0,Qe=0,pn=null,kr=!1,Fa=!1,vd=!1,er=0,ht=0,Or=0,Gs=0,Ed=0,kn=0,Ga=0,wl=null,ln=null,Td=!1,bd=0,vc=1/0,Ec=null,Mr=null,qt=0,Vr=null,Qa=null,$a=0,wd=0,Ad=null,d_=null,Al=0,Sd=null;function yn(){if((Ge&2)!==0&&Le!==0)return Le&-Le;if(K.T!==null){var t=Ma;return t!==0?t:kd()}return pr()}function m_(){kn===0&&(kn=(Le&536870912)===0||Be?Oo():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),kn}function _n(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Pr(t,Le,kn,!1)),ki(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Gs|=a),ht===4&&Pr(t,Le,kn,!1)),gi(t))}function g_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ys(t,i),h=l?G1(t,i):Id(t,i,!0),d=l;do{if(h===0){Fa&&!l&&Pr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!H1(a)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=wl;var I=b.current.memoizedState.isDehydrated;if(I&&(Ka(b,v).flags|=256),v=Id(b,v,!1),v!==2){if(vd&&!I){b.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Pr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pr(l,i,kn,!kr);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bd+300-Tn(),10<h)){if(Pr(l,i,kn,!kr),ha(l,0,!0)!==0)break e;l.timeoutHandle=F_(p_.bind(null,l,a,ln,Ec,Td,i,kn,Gs,Ga,kr,d,2,-0,0),h);break e}p_(l,a,ln,Ec,Td,i,kn,Gs,Ga,kr,d,0,-0,0)}}break}while(!0);gi(t)}function p_(t,i,a,l,h,d,v,b,I,q,Y,J,F,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:Aw},u_(i),J=xw(),J!==null)){t.cancelPendingCommit=J(w_.bind(null,t,i,d,a,l,h,v,b,I,Y,1,F,G)),Pr(t,d,v,!q);return}w_(t,i,d,a,l,h,v,b,I)}function H1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(t,i,a,l){i&=~Ed,i&=~Gs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-$t(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ei(t,a,i)}function Tc(){return(Ge&6)===0?(Sl(0),!1):!0}function xd(){if(Ce!==null){if(Qe===0)var t=Ce.return;else t=Ce,Qi=js=null,Hf(t),za=null,gl=0,t=Ce;for(;t!==null;)Yy(t.alternate,t),t=t.return;Ce=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ow(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xd(),et=t,Ce=a=Hi(t.current,null),Le=i,Qe=0,pn=null,kr=!1,Fa=ys(t,i),vd=!1,Ga=kn=Ed=Gs=Or=ht=0,ln=wl=null,Td=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-$t(l),d=1<<h;i|=t[h],l&=~d}return er=i,Hu(),a}function y_(t,i){Re=null,K.H=lc,i===al||i===Wu?(i=Mp(),Qe=3):i===Dp?(i=Mp(),Qe=4):Qe=i===Vy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Ce===null&&(ht=1,dc(t,Rn(i,t.current)))}function __(){var t=K.H;return K.H=lc,t===null?lc:t}function v_(){var t=K.A;return K.A=B1,t}function Rd(){ht=4,kr||(Le&4194048)!==Le&&Dn.current!==null||(Fa=!0),(Or&134217727)===0&&(Gs&134217727)===0||et===null||Pr(et,Le,kn,!1)}function Id(t,i,a){var l=Ge;Ge|=2;var h=__(),d=v_();(et!==t||Le!==i)&&(Ec=null,Ka(t,i)),i=!1;var v=ht;e:do try{if(Qe!==0&&Ce!==null){var b=Ce,I=pn;switch(Qe){case 8:xd(),v=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(i=!0);var q=Qe;if(Qe=0,pn=null,Ya(t,b,I,q),a&&Fa){v=0;break e}break;default:q=Qe,Qe=0,pn=null,Ya(t,b,I,q)}}F1(),v=ht;break}catch(Y){y_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Qi=js=null,Ge=l,K.H=h,K.A=d,Ce===null&&(et=null,Le=0,Hu()),v}function F1(){for(;Ce!==null;)E_(Ce)}function G1(t,i){var a=Ge;Ge|=2;var l=__(),h=v_();et!==t||Le!==i?(Ec=null,vc=Tn()+500,Ka(t,i)):Fa=ys(t,i);e:do try{if(Qe!==0&&Ce!==null){i=Ce;var d=pn;t:switch(Qe){case 1:Qe=0,pn=null,Ya(t,i,d,1);break;case 2:case 9:if(kp(d)){Qe=0,pn=null,T_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),gi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:kp(d)?(Qe=0,pn=null,T_(i)):(Qe=0,pn=null,Ya(t,i,d,7));break;case 5:var v=null;switch(Ce.tag){case 26:v=Ce.memoizedState;case 5:case 27:var b=Ce;if(!v||n0(v)){Qe=0,pn=null;var I=b.sibling;if(I!==null)Ce=I;else{var q=b.return;q!==null?(Ce=q,bc(q)):Ce=null}break t}}Qe=0,pn=null,Ya(t,i,d,5);break;case 6:Qe=0,pn=null,Ya(t,i,d,6);break;case 8:xd(),ht=6;break e;default:throw Error(s(462))}}Q1();break}catch(Y){y_(t,Y)}while(!0);return Qi=js=null,K.H=l,K.A=h,Ge=a,Ce!==null?0:(et=null,Le=0,Hu(),ht)}function Q1(){for(;Ce!==null&&!No();)E_(Ce)}function E_(t){var i=$y(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?bc(t):Ce=i}function T_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=By(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=By(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Hf(i);default:Yy(a,i),i=Ce=bp(i,er),i=$y(a,i,er)}t.memoizedProps=t.pendingProps,i===null?bc(t):Ce=i}function Ya(t,i,a,l){Qi=js=null,Hf(i),za=null,gl=0;var h=i.return;try{if(V1(t,h,i,a,Le)){ht=1,dc(t,Rn(a,t.current)),Ce=null;return}}catch(d){if(h!==null)throw Ce=h,d;ht=1,dc(t,Rn(a,t.current)),Ce=null;return}i.flags&32768?(Be||l===1?t=!0:Fa||(Le&536870912)!==0?t=!1:(kr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),b_(i,t)):bc(i)}function bc(t){var i=t;do{if((i.flags&32768)!==0){b_(i,kr);return}t=i.return;var a=L1(i.alternate,i,er);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);ht===0&&(ht=5)}function b_(t,i){do{var a=U1(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ht=6,Ce=null}function w_(t,i,a,l,h,d,v,b,I){t.cancelPendingCommit=null;do wc();while(qt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=_f,Vo(t,a,d,v,b,I),t===et&&(Ce=et=null,Le=0),Qa=i,Vr=t,$a=a,wd=d,Ad=h,d_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X1(ds,function(){return I_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=oe.p,oe.p=2,v=Ge,Ge|=4;try{j1(t,i,a)}finally{Ge=v,oe.p=h,K.T=l}}qt=1,A_(),S_(),x_()}}function A_(){if(qt===1){qt=0;var t=Vr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{a_(i,t);var d=zd,v=fp(t.containerInfo),b=d.focusedElem,I=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&hp(b.ownerDocument.documentElement,b)){if(I!==null&&df(b)){var q=I.start,Y=I.end;if(Y===void 0&&(Y=q),"selectionStart"in b)b.selectionStart=q,b.selectionEnd=Math.min(Y,b.value.length);else{var J=b.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),Te=b.textContent.length,_e=Math.min(I.start,Te),Xe=I.end===void 0?_e:Math.min(I.end,Te);!G.extend&&_e>Xe&&(v=Xe,Xe=_e,_e=v);var L=cp(b,_e),D=cp(b,Xe);if(L&&D&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var z=J.createRange();z.setStart(L.node,L.offset),G.removeAllRanges(),_e>Xe?(G.addRange(z),G.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),G.addRange(z))}}}}for(J=[],G=b;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Vc=!!jd,zd=jd=null}finally{Ge=h,oe.p=l,K.T=a}}t.current=i,qt=2}}function S_(){if(qt===2){qt=0;var t=Vr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{n_(t,i.alternate,i)}finally{Ge=h,oe.p=l,K.T=a}}qt=3}}function x_(){if(qt===4||qt===3){qt=0,_u();var t=Vr,i=Qa,a=$a,l=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Qa=Vr=null,R_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Mr=null),fa(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ut,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=oe.p,oe.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{K.T=i,oe.p=h}}($a&3)!==0&&wc(),gi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Sd?Al++:(Al=0,Sd=t):Al=0,Sl(0)}}function R_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function wc(t){return A_(),S_(),x_(),I_()}function I_(){if(qt!==5)return!1;var t=Vr,i=wd;wd=0;var a=fa($a),l=K.T,h=oe.p;try{oe.p=32>a?32:a,K.T=null,a=Ad,Ad=null;var d=Vr,v=$a;if(qt=0,Qa=Vr=null,$a=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,h_(d.current),l_(d,d.current,v,a),Ge=b,Sl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{oe.p=h,K.T=l,R_(t,i)}}function N_(t,i,a){i=Rn(a,i),i=id(t.stateNode,i,2),t=Sr(t,i,2),t!==null&&(ki(t,2),gi(t))}function We(t,i,a){if(t.tag===3)N_(t,t,a);else for(;i!==null;){if(i.tag===3){N_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mr===null||!Mr.has(l))){t=Rn(a,t),a=Oy(2),l=Sr(i,a,2),l!==null&&(My(a,l,i,t),ki(l,2),gi(l));break}}i=i.return}}function Nd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new q1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(vd=!0,h.add(a),t=$1.bind(null,t,i,a),i.then(t,t))}function $1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Le&a)===a&&(ht===4||ht===3&&(Le&62914560)===Le&&300>Tn()-bd?(Ge&2)===0&&Ka(t,0):Ed|=a,Ga===Le&&(Ga=0)),gi(t)}function C_(t,i){i===0&&(i=Mo()),t=Ca(t,i),t!==null&&(ki(t,i),gi(t))}function K1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),C_(t,a)}function Y1(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),C_(t,a)}function X1(t,i){return hs(t,i)}var Ac=null,Xa=null,Cd=!1,Sc=!1,Dd=!1,Qs=0;function gi(t){t!==Xa&&t.next===null&&(Xa===null?Ac=Xa=t:Xa=Xa.next=t),Sc=!0,Cd||(Cd=!0,W1())}function Sl(t,i){if(!Dd&&Sc){Dd=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,M_(l,d))}else d=Le,d=ha(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,M_(l,d));l=l.next}while(a);Dd=!1}}function Z1(){D_()}function D_(){Sc=Cd=!1;var t=0;Qs!==0&&(aw()&&(t=Qs),Qs=0);for(var i=Tn(),a=null,l=Ac;l!==null;){var h=l.next,d=k_(l,i);d===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}Sl(t)}function k_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-$t(d),b=1<<v,I=h[v];I===-1?((b&a)===0||(b&l)!==0)&&(h[v]=ko(b,i)):I<=i&&(t.expiredLanes|=b),d&=~b}if(i=et,a=Le,a=ha(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fs(l),fa(a)){case 2:case 8:a=ua;break;case 32:a=ds;break;case 268435456:a=ca;break;default:a=ds}return l=O_.bind(null,t),a=hs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function O_(t,i){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var l=Le;return l=ha(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(g_(t,l,i),k_(t,Tn()),t.callbackNode!=null&&t.callbackNode===a?O_.bind(null,t):null)}function M_(t,i){if(wc())return null;g_(t,i,!0)}function W1(){lw(function(){(Ge&6)!==0?hs(Co,Z1):D_()})}function kd(){return Qs===0&&(Qs=Oo()),Qs}function V_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function P_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function J1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=V_((h[pt]||null).action),v=l.submitter;v&&(i=(i=v[pt]||null)?V_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new va("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var I=v?P_(h,v):new FormData(h);Wf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=v?P_(h,v):new FormData(h),Wf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Od=0;Od<yf.length;Od++){var Md=yf[Od],ew=Md.toLowerCase(),tw=Md[0].toUpperCase()+Md.slice(1);jn(ew,"on"+tw)}jn(gp,"onAnimationEnd"),jn(pp,"onAnimationIteration"),jn(yp,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(_1,"onTransitionRun"),jn(v1,"onTransitionStart"),jn(E1,"onTransitionCancel"),jn(_p,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function L_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],I=b.instance,q=b.currentTarget;if(b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(Y){fc(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(b=l[v],I=b.instance,q=b.currentTarget,b=b.listener,I!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=q;try{d(h)}catch(Y){fc(Y)}h.currentTarget=null,d=I}}}}function De(t,i){var a=i[Lo];a===void 0&&(a=i[Lo]=new Set);var l=t+"__bubble";a.has(l)||(U_(i,t,2,!1),a.add(l))}function Vd(t,i,a){var l=0;i&&(l|=4),U_(a,t,l,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Pd(t){if(!t[xc]){t[xc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(nw.has(a)||Vd(a,!1,t),Vd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,Vd("selectionchange",!1,i))}}function U_(t,i,a,l){switch(l0(i)){case 2:var h=Nw;break;case 8:h=Cw;break;default:h=Xd}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ld(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Oi(b),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Iu(function(){var q=d,Y=An(a),J=[];e:{var F=vp.get(t);if(F!==void 0){var G=va,Te=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":G=Sa;break;case"focusin":Te="focus",G=ba;break;case"focusout":Te="blur",G=ba;break;case"beforeblur":case"afterblur":G=ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=xn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Pu;break;case gp:case pp:case yp:G=wa;break;case _p:G=Uu;break;case"scroll":case"scrollend":G=Nu;break;case"wheel":G=xa;break;case"copy":case"cut":case"paste":G=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Xo;break;case"toggle":case"beforetoggle":G=zu}var _e=(i&4)!==0,Xe=!_e&&(t==="scroll"||t==="scrollend"),L=_e?F!==null?F+"Capture":null:F;_e=[];for(var D=q,z;D!==null;){var Z=D;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=Ss(D,L),Z!=null&&_e.push(Rl(D,Z,z))),Xe)break;D=D.return}0<_e.length&&(F=new G(F,Te,null,a,Y),J.push({event:F,listeners:_e}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Li&&(Te=a.relatedTarget||a.fromElement)&&(Oi(Te)||Te[bn]))break e;if((G||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=q,Te=Te?Oi(Te):null,Te!==null&&(Xe=u(Te),_e=Te.tag,Te!==Xe||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(G=null,Te=q),G!==Te)){if(_e=xn,Z="onMouseLeave",L="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Xo,Z="onPointerLeave",L="onPointerEnter",D="pointer"),Xe=G==null?F:ni(G),z=Te==null?F:ni(Te),F=new _e(Z,D+"leave",G,a,Y),F.target=Xe,F.relatedTarget=z,Z=null,Oi(Y)===q&&(_e=new _e(L,D+"enter",Te,a,Y),_e.target=z,_e.relatedTarget=Xe,Z=_e),Xe=Z,G&&Te)t:{for(_e=G,L=Te,D=0,z=_e;z;z=Za(z))D++;for(z=0,Z=L;Z;Z=Za(Z))z++;for(;0<D-z;)_e=Za(_e),D--;for(;0<z-D;)L=Za(L),z--;for(;D--;){if(_e===L||L!==null&&_e===L.alternate)break t;_e=Za(_e),L=Za(L)}_e=null}else _e=null;G!==null&&j_(J,F,G,_e,!1),Te!==null&&Xe!==null&&j_(J,Xe,Te,_e,!0)}}e:{if(F=q?ni(q):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var fe=rp;else if(Rt(F))if(sp)fe=g1;else{fe=d1;var Ne=f1}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Ho(q.elementType)&&(fe=rp):fe=m1;if(fe&&(fe=fe(t,q))){qi(J,fe,a,Y);break e}Ne&&Ne(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&Er(F,"number",F.value)}switch(Ne=q?ni(q):window,t){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(Ra=Ne,mf=q,Jo=null);break;case"focusout":Jo=mf=Ra=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,dp(J,a,Y);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":dp(J,a,Y)}var de;if(ui)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?$(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(de=Go()):(si=Y,Tr="value"in si?si.value:si.textContent,Ve=!0)),Ne=Rc(q,ve),0<Ne.length&&(ve=new Ko(ve,t,null,a,Y),J.push({event:ve,listeners:Ne}),de?ve.data=de:(de=ae(a),de!==null&&(ve.data=de)))),(de=p?xt(t,a):Pe(t,a))&&(ve=Rc(q,"onBeforeInput"),0<ve.length&&(Ne=new Ko("onBeforeInput","beforeinput",null,a,Y),J.push({event:Ne,listeners:ve}),Ne.data=de)),J1(J,t,q,a,Y)}L_(J,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Rc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ss(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=Ss(t,i),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function j_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,I=b.alternate,q=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||q===null||(I=q,h?(q=Ss(a,d),q!=null&&v.unshift(Rl(a,q,I))):h||(q=Ss(a,d),q!=null&&v.push(Rl(a,q,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var iw=/\r\n?/g,rw=/\u0000|\uFFFD/g;function z_(t){return(typeof t=="string"?t:""+t).replace(iw,`
`).replace(rw,"")}function B_(t,i){return i=z_(i),z_(t)===i}function Ic(){}function Ye(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":ii(t,"class",l);break;case"tabIndex":ii(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(i!=="object"){ii(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ye(t,i,"name",h.name,h,null),Ye(t,i,"formEncType",h.formEncType,h,null),Ye(t,i,"formMethod",h.formMethod,h,null),Ye(t,i,"formTarget",h.formTarget,h,null)):(Ye(t,i,"encType",h.encType,h,null),Ye(t,i,"method",h.method,h,null),Ye(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=_a(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=_a(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),vr(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,vr(t,a,l))}}function Ud(t,i,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):vr(t,a,l)}}}function Ht(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,d,v,a,null)}}h&&Ye(t,i,"srcSet",a.srcSet,a,null),l&&Ye(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=v=h=null,I=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ye(t,i,l,Y,a,null)}}bs(t,d,b,I,q,v,h,!1),ya(t);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:Ye(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Pi(t,!!l,i,!1):a!=null&&Pi(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ye(t,i,v,b,a,null)}ws(t,l,h,d),ya(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,i,I,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)De(xl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ye(t,i,q,l,a,null)}return;default:if(Ho(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Ud(t,i,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ye(t,i,b,l,a,null))}function sw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,I=null,q=null,Y=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||Ye(t,i,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":Y=G;break;case"value":v=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&Ye(t,i,F,G,l,J)}}hn(t,v,b,I,q,Y,d,h);return;case"select":G=v=b=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Ye(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==I&&Ye(t,i,h,d,l,I)}i=b,a=v,l=G,F!=null?Pi(t,!!a,F,!1):!!l!=!!a&&(i!=null?Pi(t,!!a,i,!0):Pi(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,i,v,h,l,d)}$e(t,F,G);return;case"option":for(var Te in a)if(F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:Ye(t,i,Te,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ye(t,i,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&Ye(t,i,_e,null,l,F);for(q in l)if(F=l[q],G=a[q],l.hasOwnProperty(q)&&F!==G&&(F!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ye(t,i,q,F,l,G)}return;default:if(Ho(i)){for(var Xe in a)F=a[Xe],a.hasOwnProperty(Xe)&&F!==void 0&&!l.hasOwnProperty(Xe)&&Ud(t,i,Xe,void 0,l,F);for(Y in l)F=l[Y],G=a[Y],!l.hasOwnProperty(Y)||F===G||F===void 0&&G===void 0||Ud(t,i,Y,F,l,G);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&Ye(t,i,L,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||Ye(t,i,J,F,l,G)}var jd=null,zd=null;function Nc(t){return t.nodeType===9?t:t.ownerDocument}function q_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function aw(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,ow=typeof clearTimeout=="function"?clearTimeout:void 0,G_=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof G_<"u"?function(t){return G_.resolve(null).then(t).catch(uw)}:F_;function uw(t){setTimeout(function(){throw t})}function Lr(t){return t==="head"}function Q_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Il(v.documentElement),a&2&&Il(v.body),a&4)for(a=v.head,Il(a),v=a.firstChild;v;){var b=v.nextSibling,I=v.nodeName;v[_s]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Pl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Pl(i)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),_r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function hw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Gd=null;function $_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function K_(t,i,a){switch(i=Nc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Il(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_r(t)}var On=new Map,Y_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var tr=oe.d;oe.d={f:dw,r:mw,D:gw,C:pw,L:yw,m:_w,X:Ew,S:vw,M:Tw};function dw(){var t=tr.f(),i=Tc();return t||i}function mw(t){var i=ti(t);i!==null&&i.tag===5&&i.type==="form"?gy(i):tr.r(t)}var Wa=typeof document>"u"?null:document;function X_(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Y_.has(h)||(Y_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",t),ft(i),l.head.appendChild(i)))}}function gw(t){tr.D(t),X_("dns-prefetch",t,null)}function pw(t,i){tr.C(t,i),X_("preconnect",t,i)}function yw(t,i,a){tr.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+yt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+yt(a.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(i){case"style":d=Ja(t);break;case"script":d=eo(t)}On.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Ht(i,"link",t),ft(i),l.head.appendChild(i)))}}function _w(t,i){tr.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Ht(l,"link",t),ft(l),a.head.appendChild(l)}}}function vw(t,i,a){tr.S(t,i,a);var l=Wa;if(l&&t){var h=en(l).hoistableStyles,d=Ja(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Nl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&Qd(t,a);var I=v=l.createElement("link");ft(I),Ht(I,"link",t),I._p=new Promise(function(q,Y){I.onload=q,I.onerror=Y}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Dc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function Ew(t,i){tr.X(t,i);var a=Wa;if(a&&t){var l=en(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=E({src:t,async:!0},i),(i=On.get(h))&&$d(t,i),d=a.createElement("script"),ft(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Tw(t,i){tr.M(t,i);var a=Wa;if(a&&t){var l=en(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=On.get(h))&&$d(t,i),d=a.createElement("script"),ft(d),Ht(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Z_(t,i,a,l){var h=(h=we.current)?Cc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Nl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||bw(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+yt(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function W_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function bw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),ft(i),t.head.appendChild(i))}function eo(t){return'[src="'+yt(t)+'"]'}function Cl(t){return"script[async]"+t}function J_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yt(a.href)+'"]');if(l)return i.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Ht(l,"style",h),Dc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var d=t.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,ft(d),d;l=W_(a),(h=On.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Ht(d,"link",l),i.state.loading|=4,Dc(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(Cl(d)))?(i.instance=h,ft(h),h):(l=a,(h=On.get(d))&&(l=E({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Ht(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,t));return i.instance}function Dc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function e0(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function t0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ww(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function n0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function Aw(){}function Sw(t,i,a){if(Dl===null)throw Error(s(475));var l=Dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ja(a.href),d=t.querySelector(Nl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Oc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ft(d);return}d=t.ownerDocument||t,a=W_(a),(h=On.get(h))&&Qd(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(b,I){v.onload=b,v.onerror=I}),Ht(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Oc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function xw(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&Kd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Oc(){if(this.count--,this.count===0){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mc=null;function Kd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mc=new Map,i.forEach(Rw,t),Mc=null,Oc.call(t))}function Rw(t,i){if(!(i.state.loading&4)){var a=Mc.get(t);if(a)var l=a.get(null);else{a=new Map,Mc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Oc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:se,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Iw(t,i,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function i0(t,i,a,l,h,d,v,b,I,q,Y,J){return t=new Iw(t,i,a,v,b,I,q,J),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Of(d),t}function r0(t){return t?(t=Da,t):Da}function s0(t,i,a,l,h,d){h=r0(h),l.context===null?l.context=h:l.pendingContext=h,l=Ar(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Sr(t,l,i),a!==null&&(_n(a,t,i),ll(a,t,i))}function a0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Yd(t,i){a0(t,i),(t=t.alternate)&&a0(t,i)}function o0(t){if(t.tag===13){var i=Ca(t,67108864);i!==null&&_n(i,t,67108864),Yd(t,67108864)}}var Vc=!0;function Nw(t,i,a,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=2,Xd(t,i,a,l)}finally{oe.p=d,K.T=h}}function Cw(t,i,a,l){var h=K.T;K.T=null;var d=oe.p;try{oe.p=8,Xd(t,i,a,l)}finally{oe.p=d,K.T=h}}function Xd(t,i,a,l){if(Vc){var h=Zd(l);if(h===null)Ld(t,i,l,Pc,a),u0(t,l);else if(kw(h,t,i,a,l))l.stopPropagation();else if(u0(t,l),i&4&&-1<Dw.indexOf(t)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var I=1<<31-$t(v);b.entanglements[1]|=I,v&=~I}gi(d),(Ge&6)===0&&(vc=Tn()+500,Sl(0))}}break;case 13:b=Ca(d,2),b!==null&&_n(b,d,2),Tc(),Yd(d,2)}if(d=Zd(l),d===null&&Ld(t,i,l,Pc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,i,l,null,a)}}function Zd(t){return t=An(t),Wd(t)}var Pc=null;function Wd(t){if(Pc=null,t=Oi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Pc=t,null}function l0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ef()){case Co:return 2;case ua:return 8;case ds:case tf:return 32;case ca:return 268435456;default:return 32}default:return 32}}var Jd=!1,Ur=null,jr=null,zr=null,Ol=new Map,Ml=new Map,Br=[],Dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u0(t,i){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ti(i),i!==null&&o0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function kw(t,i,a,l,h){switch(i){case"focusin":return Ur=Vl(Ur,t,i,a,l,h),!0;case"dragenter":return jr=Vl(jr,t,i,a,l,h),!0;case"mouseover":return zr=Vl(zr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,a,l,h)),!0}return!1}function c0(t){var i=Oi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Tu(t.priority,function(){if(a.tag===13){var l=yn();l=gr(l);var h=Ca(a,l);h!==null&&_n(h,a,l),Yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Li=l,a.target.dispatchEvent(l),Li=null}else return i=ti(a),i!==null&&o0(i),t.blockedOn=a,!1;i.shift()}return!0}function h0(t,i,a){Lc(t)&&a.delete(i)}function Ow(){Jd=!1,Ur!==null&&Lc(Ur)&&(Ur=null),jr!==null&&Lc(jr)&&(jr=null),zr!==null&&Lc(zr)&&(zr=null),Ol.forEach(h0),Ml.forEach(h0)}function Uc(t,i){t.blockedOn===i&&(t.blockedOn=null,Jd||(Jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ow)))}var jc=null;function f0(t){jc!==t&&(jc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){jc===t&&(jc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=ti(a);d!==null&&(t.splice(i,3),i-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(t){function i(I){return Uc(I,t)}Ur!==null&&Uc(Ur,t),jr!==null&&Uc(jr,t),zr!==null&&Uc(zr,t),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)c0(a),a.blockedOn===null&&Br.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pt]||null;if(typeof d=="function")v||f0(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pt]||null)b=v.formAction;else if(Wd(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),f0(a)}}}function em(t){this._internalRoot=t}zc.prototype.render=em.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();s0(a,l,t,i,null,null)},zc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;s0(t.current,2,null,t,null,null),Tc(),i[bn]=null}};function zc(t){this._internalRoot=t}zc.prototype.unstable_scheduleHydration=function(t){if(t){var i=pr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Br.length&&i!==0&&i<Br[a].priority;a++);Br.splice(a,0,t),a===0&&c0(t)}};var d0=e.version;if(d0!=="19.1.1")throw Error(s(527,d0,"19.1.1"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Mw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{ut=Bc.inject(Mw),Fe=Bc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ny,d=Cy,v=Dy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=i0(t,1,!1,null,null,a,l,h,d,v,b,null),t[bn]=i.current,Pd(t),new em(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ny,v=Cy,b=Dy,I=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=i0(t,1,!0,i,a??null,l,h,d,v,b,I,q),i.context=r0(null),a=i.current,l=yn(),l=gr(l),h=Ar(l),h.callback=null,Sr(a,h,l),a=l,i.current.lanes=a,ki(i,a),gi(i),t[bn]=i.current,Pd(t),new zc(i)},Ul.version="19.1.1",Ul}var w0;function Fw(){if(w0)return im.exports;w0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),im.exports=Hw(),im.exports}var Gw=Fw();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A0="popstate";function Qw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return bm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xl(o)}return Kw(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $w(){return Math.random().toString(36).substring(2,10)}function S0(r,e){return{usr:r.state,key:r.key,idx:e}}function bm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?vo(e):e,state:n,key:e&&e.key||s||$w()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function vo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Kw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let H=E(),X=H==null?null:H-y;y=H,g&&g({action:m,location:Q.location,delta:X})}function S(H,X){m="PUSH";let ue=bm(Q.location,H,X);y=E()+1;let se=S0(ue,y),ne=Q.createHref(ue);try{f.pushState(se,"",ne)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ne)}u&&g&&g({action:m,location:Q.location,delta:1})}function M(H,X){m="REPLACE";let ue=bm(Q.location,H,X);y=E();let se=S0(ue,y),ne=Q.createHref(ue);f.replaceState(se,"",ne),u&&g&&g({action:m,location:Q.location,delta:0})}function U(H){return Yw(H)}let Q={get action(){return m},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(A0,w),g=H,()=>{o.removeEventListener(A0,w),g=null}},createHref(H){return e(o,H)},createURL:U,encodeLocation(H){let X=U(H);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:S,replace:M,go(H){return f.go(H)}};return Q}function Yw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function mE(r,e,n="/"){return Xw(r,e,n,!1)}function Xw(r,e,n,s){let o=typeof e=="string"?vo(e):e,u=ar(o.pathname||"/",n);if(u==null)return null;let f=gE(r);Zw(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=lA(u);m=aA(f[g],y,s)}return m}function gE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(st(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=rr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),gE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:rA(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of pE(u.path))o(u,f,m)}),e}function pE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=pE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function Zw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:sA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ww=/^:[\w-]+$/,Jw=3,eA=2,tA=1,nA=10,iA=-2,x0=r=>r==="*";function rA(r,e){let n=r.split("/"),s=n.length;return n.some(x0)&&(s+=iA),e&&(s+=eA),n.filter(o=>!x0(o)).reduce((o,u)=>o+(Ww.test(u)?Jw:u===""?tA:nA),s)}function sA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function aA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=lh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:rr([u,w.pathname]),pathnameBase:fA(rr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=rr([u,w.pathnameBase]))}return f}function lh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=oA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:w},S)=>{if(E==="*"){let U=m[S]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const M=m[S];return w&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function oA(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function lA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ar(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function uA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?vo(r):r;return{pathname:n?n.startsWith("/")?n:cA(n,e):e,search:dA(s),hash:mA(o)}}function cA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jm(r){let e=hA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function eg(r,e,n,s=!1){let o;typeof r=="string"?o=vo(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),om("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),om("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),om("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let g=uA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),fA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),dA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var yE=["POST","PUT","PATCH","DELETE"];new Set(yE);var pA=["GET",...yE];new Set(pA);var Eo=B.createContext(null);Eo.displayName="DataRouter";var Dh=B.createContext(null);Dh.displayName="DataRouterState";B.createContext(!1);var _E=B.createContext({isTransitioning:!1});_E.displayName="ViewTransition";var yA=B.createContext(new Map);yA.displayName="Fetchers";var _A=B.createContext(null);_A.displayName="Await";var Zn=B.createContext(null);Zn.displayName="Navigation";var au=B.createContext(null);au.displayName="Location";var Wn=B.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var tg=B.createContext(null);tg.displayName="RouteError";function vA(r,{relative:e}={}){st(To(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Zn),{hash:o,pathname:u,search:f}=ou(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function To(){return B.useContext(au)!=null}function Ri(){return st(To(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(au).location}var vE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(r){B.useContext(Zn).static||B.useLayoutEffect(r)}function us(){let{isDataRoute:r}=B.useContext(Wn);return r?OA():EA()}function EA(){st(To(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Eo),{basename:e,navigator:n}=B.useContext(Zn),{matches:s}=B.useContext(Wn),{pathname:o}=Ri(),u=JSON.stringify(Jm(s)),f=B.useRef(!1);return EE(()=>{f.current=!0}),B.useCallback((g,y={})=>{if(Kn(f.current,vE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=eg(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:rr([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}B.createContext(null);function TA(){let{matches:r}=B.useContext(Wn),e=r[r.length-1];return e?e.params:{}}function ou(r,{relative:e}={}){let{matches:n}=B.useContext(Wn),{pathname:s}=Ri(),o=JSON.stringify(Jm(n));return B.useMemo(()=>eg(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function bA(r,e){return TE(r,e)}function TE(r,e,n,s){st(To(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(Zn),{matches:u}=B.useContext(Wn),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let X=E&&E.path||"";bE(g,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let w=Ri(),S;if(e){let X=typeof e=="string"?vo(e):e;st(y==="/"||X.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=w;let M=S.pathname||"/",U=M;if(y!=="/"){let X=y.replace(/^\//,"").split("/");U="/"+M.replace(/^\//,"").split("/").slice(X.length).join("/")}let Q=mE(r,{pathname:U});Kn(E||Q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Kn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=RA(Q&&Q.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:rr([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:rr([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),u,n,s);return e&&H?B.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},H):H}function wA(){let r=kA(),e=gA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var AA=B.createElement(wA,null),SA=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Wn.Provider,{value:this.props.routeContext},B.createElement(tg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xA({routeContext:r,match:e,children:n}){let s=B.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Wn.Provider,{value:r},n)}function RA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);st(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:w}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let w,S=!1,M=null,U=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||AA,f&&(m<0&&E===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,U=null):m===E&&(S=!0,U=y.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,E+1)),H=()=>{let X;return w?X=M:S?X=U:y.route.Component?X=B.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=g,B.createElement(xA,{match:y,routeContext:{outlet:g,matches:Q,isDataRoute:n!=null},children:X})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?B.createElement(SA,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:H(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):H()},null)}function ng(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(r){let e=B.useContext(Eo);return st(e,ng(r)),e}function NA(r){let e=B.useContext(Dh);return st(e,ng(r)),e}function CA(r){let e=B.useContext(Wn);return st(e,ng(r)),e}function ig(r){let e=CA(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function DA(){return ig("useRouteId")}function kA(){let r=B.useContext(tg),e=NA("useRouteError"),n=ig("useRouteError");return r!==void 0?r:e.errors?.[n]}function OA(){let{router:r}=IA("useNavigate"),e=ig("useNavigate"),n=B.useRef(!1);return EE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Kn(n.current,vE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var R0={};function bE(r,e,n){!e&&!R0[r]&&(R0[r]=!0,Kn(!1,n))}B.memo(MA);function MA({routes:r,future:e,state:n}){return TE(r,void 0,n,e)}function wE({to:r,replace:e,state:n,relative:s}){st(To(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(Zn);Kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Wn),{pathname:f}=Ri(),m=us(),g=eg(r,Jm(u),f,s==="path"),y=JSON.stringify(g);return B.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function sn(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!To(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=vo(n));let{pathname:g="/",search:y="",hash:E="",state:w=null,key:S="default"}=n,M=B.useMemo(()=>{let U=ar(g,f);return U==null?null:{location:{pathname:U,search:y,hash:E,state:w,key:S},navigationType:s}},[f,g,y,E,w,S,s]);return Kn(M!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:B.createElement(Zn.Provider,{value:m},B.createElement(au.Provider,{children:e,value:M}))}function PA({children:r,location:e}){return bA(wm(r),e)}function wm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,wm(s.props.children,u));return}st(s.type===sn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=wm(s.props.children,u)),n.push(f)}),n}var Xc="get",Zc="application/x-www-form-urlencoded";function kh(r){return r!=null&&typeof r.tagName=="string"}function LA(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function UA(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function jA(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function zA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function BA(r,e){return r.button===0&&(!e||e==="_self")&&!zA(r)}var qc=null;function qA(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var HA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lm(r){return r!=null&&!HA.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function FA(r,e){let n,s,o,u,f;if(UA(r)){let m=r.getAttribute("action");s=m?ar(m,e):null,n=r.getAttribute("method")||Xc,o=lm(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(LA(r)||jA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?ar(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Xc,o=lm(r.getAttribute("formenctype"))||lm(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!qA()){let{name:y,type:E,value:w}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,w)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function GA(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function QA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $A(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function KA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await QA(u,n);return f.links?f.links():[]}return[]}));return WA(s.flat(1).filter($A).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function I0(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function YA(r,e,{includeHydrateFallback:n}={}){return XA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function XA(r){return[...new Set(r)]}function ZA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function WA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ZA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function AE(){let r=B.useContext(Eo);return rg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JA(){let r=B.useContext(Dh);return rg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sg=B.createContext(void 0);sg.displayName="FrameworkContext";function SE(){let r=B.useContext(sg);return rg(r,"You must render this element inside a <HydratedRouter> element"),r}function eS(r,e){let n=B.useContext(sg),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=X=>{X.forEach(ue=>{f(ue.isIntersecting)})},H=new IntersectionObserver(Q,{threshold:.5});return S.current&&H.observe(S.current),()=>{H.disconnect()}}},[r]),B.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let M=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:jl(m,M),onBlur:jl(g,U),onMouseEnter:jl(y,M),onMouseLeave:jl(E,U),onTouchStart:jl(w,M)}]:[!1,S,{}]}function jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function tS({page:r,...e}){let{router:n}=AE(),s=B.useMemo(()=>mE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(iS,{page:r,matches:s,...e}):null}function nS(r){let{manifest:e,routeModules:n}=SE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return KA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function iS({page:r,matches:e,...n}){let s=Ri(),{manifest:o,routeModules:u}=SE(),{basename:f}=AE(),{loaderData:m,matches:g}=JA(),y=B.useMemo(()=>I0(r,e,g,o,s,"data"),[r,e,g,o,s]),E=B.useMemo(()=>I0(r,e,g,o,s,"assets"),[r,e,g,o,s]),w=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,Q=!1;if(e.forEach(X=>{let ue=o.routes[X.route.id];!ue||!ue.hasLoader||(!y.some(se=>se.route.id===X.route.id)&&X.route.id in m&&u[X.route.id]?.shouldRevalidate||ue.hasClientLoader?Q=!0:U.add(X.route.id))}),U.size===0)return[];let H=GA(r,f,"data");return Q&&U.size>0&&H.searchParams.set("_routes",e.filter(X=>U.has(X.route.id)).map(X=>X.route.id).join(",")),[H.pathname+H.search]},[f,m,s,o,y,e,r,u]),S=B.useMemo(()=>YA(E,o),[E,o]),M=nS(E);return B.createElement(B.Fragment,null,w.map(U=>B.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),S.map(U=>B.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),M.map(({key:U,link:Q})=>B.createElement("link",{key:U,nonce:n.nonce,...Q})))}function rS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xE&&(window.__reactRouterVersion="7.8.0")}catch{}function sS({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=Qw({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(g=>{B.startTransition(()=>f(g))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(VA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var RE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oh=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:w,...S},M){let{basename:U}=B.useContext(Zn),Q=typeof y=="string"&&RE.test(y),H,X=!1;if(typeof y=="string"&&Q&&(H=y,xE))try{let R=new URL(window.location.href),O=y.startsWith("//")?new URL(R.protocol+y):new URL(y),V=ar(O.pathname,U);O.origin===R.origin&&V!=null?y=V+O.search+O.hash:X=!0}catch{Kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ue=vA(y,{relative:o}),[se,ne,re]=eS(s,S),ye=uS(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:w});function k(R){e&&e(R),R.defaultPrevented||ye(R)}let x=B.createElement("a",{...S,...re,href:H||ue,onClick:X||u?e:k,ref:rS(M,ne),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return se&&!Q?B.createElement(B.Fragment,null,x,B.createElement(tS,{page:ue})):x});Oh.displayName="Link";var aS=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let w=ou(f,{relative:y.relative}),S=Ri(),M=B.useContext(Dh),{navigator:U,basename:Q}=B.useContext(Zn),H=M!=null&&mS(w)&&m===!0,X=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,ue=S.pathname,se=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ue=ue.toLowerCase(),se=se?se.toLowerCase():null,X=X.toLowerCase()),se&&Q&&(se=ar(se,Q)||se);const ne=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let re=ue===X||!o&&ue.startsWith(X)&&ue.charAt(ne)==="/",ye=se!=null&&(se===X||!o&&se.startsWith(X)&&se.charAt(X.length)==="/"),k={isActive:re,isPending:ye,isTransitioning:H},x=re?e:void 0,R;typeof s=="function"?R=s(k):R=[s,re?"active":null,ye?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(k):u;return B.createElement(Oh,{...y,"aria-current":x,className:R,ref:E,style:O,to:f,viewTransition:m},typeof g=="function"?g(k):g)});aS.displayName="NavLink";var oS=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Xc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:w,...S},M)=>{let U=fS(),Q=dS(m,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&RE.test(m),ue=se=>{if(g&&g(se),se.defaultPrevented)return;se.preventDefault();let ne=se.nativeEvent.submitter,re=ne?.getAttribute("formmethod")||f;U(ne||se.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return B.createElement("form",{ref:M,method:H,action:Q,onSubmit:s?g:ue,...S,"data-discover":!X&&r==="render"?"true":void 0})});oS.displayName="Form";function lS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(r){let e=B.useContext(Eo);return st(e,lS(r)),e}function uS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=us(),g=Ri(),y=ou(r,{relative:u});return B.useCallback(E=>{if(BA(E,e)){E.preventDefault();let w=n!==void 0?n:Xl(g)===Xl(y);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,r,o,u,f])}var cS=0,hS=()=>`__${String(++cS)}__`;function fS(){let{router:r}=IE("useSubmit"),{basename:e}=B.useContext(Zn),n=DA();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=FA(s,e);if(o.navigate===!1){let E=o.fetcherKey||hS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function dS(r,{relative:e}={}){let{basename:n}=B.useContext(Zn),s=B.useContext(Wn);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ou(r||".",{relative:e})},f=Ri();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Xl(u)}function mS(r,{relative:e}={}){let n=B.useContext(_E);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=IE("useViewTransitionState"),o=ou(r,{relative:e});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,f)!=null||lh(o.pathname,u)!=null}const NE=B.createContext(),CE=()=>{const r=B.useContext(NE);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},gS=({children:r})=>{const[e,n]=B.useState(()=>!0);B.useEffect(()=>{const o=localStorage.getItem("darkMode");o!==null&&n(JSON.parse(o))},[]),B.useEffect(()=>{const o=window.document.documentElement;e?o.classList.add("dark"):o.classList.remove("dark"),localStorage.setItem("darkMode",JSON.stringify(e))},[e]);const s=()=>{n(o=>!o)};return T.jsx(NE.Provider,{value:{isDarkMode:e,toggleDarkMode:s},children:r})};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),N0=r=>{const e=yS(r);return e.charAt(0).toUpperCase()+e.slice(1)},DE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),_S=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},g)=>B.createElement("svg",{ref:g,...vS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:DE("lucide",o),...!u&&!_S(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,E])=>B.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(r,e)=>{const n=B.forwardRef(({className:s,...o},u)=>B.createElement(ES,{ref:u,iconNode:e,className:DE(`lucide-${pS(N0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=N0(r),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bS=Ze("arrow-left",TS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ag=Ze("arrow-right",wS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],SS=Ze("book-open",AS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],RS=Ze("book",xS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],kE=Ze("brain",IS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],CS=Ze("calendar",NS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],OE=Ze("circle-check-big",DS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OS=Ze("circle-play",kS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mh=Ze("clock",MS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C0=Ze("eye",VS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Am=Ze("file-text",PS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Sm=Ze("headphones",LS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jS=Ze("heart",US);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],BS=Ze("house",zS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],HS=Ze("message-square",qS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ME=Ze("moon",FS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],D0=Ze("pen-line",GS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Xr=Ze("play",QS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],k0=Ze("plus",$S);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],YS=Ze("save",KS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZS=Ze("settings",XS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],JS=Ze("sparkles",WS);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tx=Ze("star",ex);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],VE=Ze("sun",nx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],PE=Ze("target",ix);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],O0=Ze("trash-2",rx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],og=Ze("user",sx);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],xm=Ze("video",ax),ox=()=>{};var M0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lx=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,M=y&63;g||(M=64,f||(S=64)),s.push(n[E],n[w],n[S],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lx(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new ux;const S=u<<2|m>>4;if(s.push(S),y!==64){const M=m<<4&240|y>>2;if(s.push(M),w!==64){const U=y<<6&192|w;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ux extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cx=function(r){const e=LE(r);return UE.encodeByteArray(e,!0)},uh=function(r){return cx(r).replace(/\./g,"")},jE=function(r){try{return UE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=()=>hx().__FIREBASE_DEFAULTS__,dx=()=>{if(typeof process>"u"||typeof M0>"u")return;const r=M0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jE(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return ox()||fx()||dx()||mx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zE=r=>Vh()?.emulatorHosts?.[r],BE=r=>{const e=zE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qE=()=>Vh()?.config,HE=r=>Vh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lg(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[uh(JSON.stringify(n)),uh(JSON.stringify(f)),""].join(".")}const Fl={};function px(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function yx(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let V0=!1;function ug(r,e){if(typeof window>"u"||typeof document>"u"||!na(window.location.host)||Fl[r]===e||Fl[r]||V0)return;Fl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=px().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{V0=!0,f()},S}function E(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=yx(s),M=n("text"),U=document.getElementById(M)||document.createElement("span"),Q=n("learnmore"),H=document.getElementById(Q)||document.createElement("a"),X=n("preprendIcon"),ue=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const se=S.element;m(se),E(H,Q);const ne=y();g(ue,X),se.append(ue,U,H,ne),document.body.appendChild(se)}u?(U.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _x(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function vx(){const r=Vh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ex(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Tx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function bx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wx(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ax(){return!vx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sx(){try{return typeof indexedDB=="object"}catch{return!1}}function xx(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="FirebaseError";class Ii extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Rx,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Ix(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ii(o,m,s)}}function Ix(r,e){return r.replace(Nx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Nx=/\{\$([^}]+)}/g;function Cx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Zs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(P0(u)&&P0(f)){if(!Zs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function P0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Dx(r,e){const n=new kx(r,e);return n.subscribe.bind(n)}class kx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Ox(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=um),o.error===void 0&&(o.error=um),o.complete===void 0&&(o.complete=um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ox(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(r){return r&&r._delegate?r._delegate:r}class ts{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Px(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Vx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Vx(r){return r===$s?void 0:r}function Px(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ke||(ke={}));const Ux={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},jx=ke.INFO,zx={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Bx=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=zx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cg{constructor(e){this.name=e,this._logLevel=jx,this._logHandler=Bx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ux[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const qx=(r,e)=>e.some(n=>r instanceof n);let L0,U0;function Hx(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fx(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,Rm=new WeakMap,QE=new WeakMap,cm=new WeakMap,hg=new WeakMap;function Gx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,r)}).catch(()=>{}),hg.set(e,r),e}function Qx(r){if(Rm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,e)}let Im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||QE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $x(r){Im=r(Im)}function Kx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(hm(this),e,...n);return QE.set(s,e.sort?e.sort():[e]),Zr(s)}:Fx().includes(r)?function(...e){return r.apply(hm(this),e),Zr(GE.get(this))}:function(...e){return Zr(r.apply(hm(this),e))}}function Yx(r){return typeof r=="function"?Kx(r):(r instanceof IDBTransaction&&Qx(r),qx(r,Hx())?new Proxy(r,Im):r)}function Zr(r){if(r instanceof IDBRequest)return Gx(r);if(cm.has(r))return cm.get(r);const e=Yx(r);return e!==r&&(cm.set(r,e),hg.set(e,r)),e}const hm=r=>hg.get(r);function Xx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Zr(f.result),g.oldVersion,g.newVersion,Zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Zx=["get","getKey","getAll","getAllKeys","count"],Wx=["put","add","delete","clear"],fm=new Map;function j0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Wx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Zx.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return fm.set(e,u),u}$x(r=>({...r,get:(e,n,s)=>j0(e,n)||r.get(e,n,s),has:(e,n)=>!!j0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function eR(r){return r.getComponent()?.type==="VERSION"}const Nm="@firebase/app",z0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new cg("@firebase/app"),tR="@firebase/app-compat",nR="@firebase/analytics-compat",iR="@firebase/analytics",rR="@firebase/app-check-compat",sR="@firebase/app-check",aR="@firebase/auth",oR="@firebase/auth-compat",lR="@firebase/database",uR="@firebase/data-connect",cR="@firebase/database-compat",hR="@firebase/functions",fR="@firebase/functions-compat",dR="@firebase/installations",mR="@firebase/installations-compat",gR="@firebase/messaging",pR="@firebase/messaging-compat",yR="@firebase/performance",_R="@firebase/performance-compat",vR="@firebase/remote-config",ER="@firebase/remote-config-compat",TR="@firebase/storage",bR="@firebase/storage-compat",wR="@firebase/firestore",AR="@firebase/ai",SR="@firebase/firestore-compat",xR="firebase",RR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",IR={[Nm]:"fire-core",[tR]:"fire-core-compat",[iR]:"fire-analytics",[nR]:"fire-analytics-compat",[sR]:"fire-app-check",[rR]:"fire-app-check-compat",[aR]:"fire-auth",[oR]:"fire-auth-compat",[lR]:"fire-rtdb",[uR]:"fire-data-connect",[cR]:"fire-rtdb-compat",[hR]:"fire-fn",[fR]:"fire-fn-compat",[dR]:"fire-iid",[mR]:"fire-iid-compat",[gR]:"fire-fcm",[pR]:"fire-fcm-compat",[yR]:"fire-perf",[_R]:"fire-perf-compat",[vR]:"fire-rc",[ER]:"fire-rc-compat",[TR]:"fire-gcs",[bR]:"fire-gcs-compat",[wR]:"fire-fst",[SR]:"fire-fst-compat",[AR]:"fire-vertex","fire-js":"fire-js",[xR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,NR=new Map,Dm=new Map;function B0(r,e){try{r.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ws(r){const e=r.name;if(Dm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of ch.values())B0(n,r);for(const n of NR.values())B0(n,r);return!0}function Ph(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new lu("app","Firebase",CR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=RR;function $E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Cm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Wr.create("bad-app-name",{appName:String(o)});if(n||(n=qE()),!n)throw Wr.create("no-options");const u=ch.get(o);if(u){if(Zs(n,u.options)&&Zs(s,u.config))return u;throw Wr.create("duplicate-app",{appName:o})}const f=new Lx(o);for(const g of Dm.values())f.addComponent(g);const m=new DR(n,s,f);return ch.set(o,m),m}function fg(r=Cm){const e=ch.get(r);if(!e&&r===Cm&&qE())return $E();if(!e)throw Wr.create("no-app",{appName:r});return e}function yi(r,e,n){let s=IR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(f.join(" "));return}Ws(new ts(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",OR=1,Zl="firebase-heartbeat-store";let dm=null;function KE(){return dm||(dm=Xx(kR,OR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wr.create("idb-open",{originalErrorMessage:r.message})})),dm}async function MR(r){try{const n=(await KE()).transaction(Zl),s=await n.objectStore(Zl).get(YE(r));return await n.done,s}catch(e){if(e instanceof Ii)or.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}}async function q0(r,e){try{const s=(await KE()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,YE(r)),await s.done}catch(n){if(n instanceof Ii)or.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n?.message});or.warn(s.message)}}}function YE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1024,PR=30;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=H0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>PR){const o=zR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){or.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=H0(),{heartbeatsToSend:n,unsentEntries:s}=UR(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return or.warn(e),""}}}function H0(){return new Date().toISOString().substring(0,10)}function UR(r,e=VR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),F0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),F0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sx()?xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await MR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return q0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function F0(r){return uh(JSON.stringify({version:2,heartbeats:r})).length}function zR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(r){Ws(new ts("platform-logger",e=>new Jx(e),"PRIVATE")),Ws(new ts("heartbeat",e=>new LR(e),"PRIVATE")),yi(Nm,z0,r),yi(Nm,z0,"esm2020"),yi("fire-js","")}BR("");var qR="firebase",HR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi(qR,HR,"app");function XE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FR=XE,ZE=new lu("auth","Firebase",XE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new cg("@firebase/auth");function GR(r,...e){hh.logLevel<=ke.WARN&&hh.warn(`Auth (${ia}): ${r}`,...e)}function Wc(r,...e){hh.logLevel<=ke.ERROR&&hh.error(`Auth (${ia}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(r,...e){throw dg(r,...e)}function _i(r,...e){return dg(r,...e)}function WE(r,e,n){const s={...FR(),[e]:n};return new lu("auth","Firebase",s).create(e,{appName:r.name})}function Ys(r){return WE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ZE.create(r,...e)}function be(r,e,...n){if(!r)throw dg(e,...n)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wc(e),new Error(e)}function ur(r,e){r||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){return typeof self<"u"&&self.location?.href||""}function QR(){return G0()==="http:"||G0()==="https:"}function G0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QR()||Tx()||"connection"in navigator)?navigator.onLine:!0}function KR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=_x()||bx()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZR=new cu(3e4,6e4);function gg(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function bo(r,e,n,s,o={}){return eT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return Ex()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&na(r.emulatorConfig.host)&&(y.credentials="include"),JE.fetch()(await tT(r,r.config.apiHost,n,m),y)})}async function eT(r,e,n){r._canInitEmulator=!1;const s={...YR,...e};try{const o=new JR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Hc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Hc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Hc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw WE(r,E,y);lr(r,E)}}catch(o){if(o instanceof Ii)throw o;lr(r,"network-request-failed",{message:String(o)})}}async function WR(r,e,n,s,o={}){const u=await bo(r,e,n,s,o);return"mfaPendingCredential"in u&&lr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?mg(r.config,o):`${r.config.apiScheme}://${o}`;return XR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class JR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),ZR.get())})}}function Hc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=_i(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(r,e){return bo(r,"POST","/v1/accounts:delete",e)}async function fh(r,e){return bo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t2(r,e=!1){const n=En(r),s=await n.getIdToken(e),o=pg(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(mm(o.auth_time)),issuedAtTime:Gl(mm(o.iat)),expirationTime:Gl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function mm(r){return Number(r)*1e3}function pg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const o=jE(n);return o?JSON.parse(o):(Wc("Failed to decode base64 JWT payload"),null)}catch(o){return Wc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Q0(r){const e=pg(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ii&&n2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function n2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(r){const e=r.auth,n=await r.getIdToken(),s=await Wl(r,fh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?nT(o.providerUserInfo):[],f=s2(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function r2(r){const e=En(r);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(r,e){const n=await eT(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await tT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&na(r.emulatorConfig.host)&&(g.credentials="include"),JE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function o2(r,e){return bo(r,"POST","/v2/accounts:revokeToken",gg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=Q0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await a2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ao;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new i2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t2(this,e)}reload(){return r2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Wl(this,e2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:M,providerData:U,stsTokenManager:Q}=n;be(w&&Q,e,"internal-error");const H=ao.fromJSON(this.name,Q);be(typeof w=="string",e,"internal-error"),Hr(s,e.name),Hr(o,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof M=="boolean",e,"internal-error"),Hr(u,e.name),Hr(f,e.name),Hr(m,e.name),Hr(g,e.name),Hr(y,e.name),Hr(E,e.name);const X=new Fn({uid:w,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:y,lastLoginAt:E});return U&&Array.isArray(U)&&(X.providerData=U.map(ue=>({...ue}))),g&&(X._redirectEventId=g),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ao;m.updateFromIdToken(s);const g=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function ir(r){ur(r instanceof Function,"Expected a class definition");let e=$0.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const K0=iT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(ir(K0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ir(K0);const f=Jc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let w;if(typeof E=="string"){const S=await fh(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Fn._fromGetAccountInfoResponse(e,S,E)}else w=Fn._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new oo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new oo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function rT(r=Jt()){return/firefox\//i.test(r)}function sT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(r=Jt()){return/crios\//i.test(r)}function oT(r=Jt()){return/iemobile/i.test(r)}function lT(r=Jt()){return/android/i.test(r)}function uT(r=Jt()){return/blackberry/i.test(r)}function cT(r=Jt()){return/webos/i.test(r)}function yg(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function l2(r=Jt()){return yg(r)&&!!window.navigator?.standalone}function u2(){return wx()&&document.documentMode===10}function hT(r=Jt()){return yg(r)||lT(r)||cT(r)||uT(r)||/windows phone/i.test(r)||oT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r,e=[]){let n;switch(r){case"Browser":n=Y0(Jt());break;case"Worker":n=`${Y0(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ia}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2(r,e={}){return bo(r,"GET","/v2/passwordPolicy",gg(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=6;class d2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??f2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X0(this),this.idTokenSubscription=new X0(this),this.beforeStateQueue=new c2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fh(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Hn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Ys(this));const n=e?En(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h2(this),n=new d2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await o2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&GR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _g(r){return En(r)}class X0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dx(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g2(r){vg=r}function p2(r){return vg.loadJS(r)}function y2(){return vg.gapiScript}function _2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(r,e){const n=Ph(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zs(u,e??{}))return o;lr(o,"already-initialized")}return n.initialize({options:e})}function E2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function T2(r,e,n){const s=_g(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=dT(e),{host:f,port:m}=b2(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Zs(y,s.config.emulator)&&Zs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,na(f)?(lg(`${u}//${f}${g}`),ug("Auth",!0)):w2()}function dT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function b2(r){const e=dT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Z0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Z0(f)}}}function Z0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function w2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,e){return WR(r,"POST","/v1/accounts:signInWithIdp",gg(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="http://localhost";class Js extends mT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:A2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends gT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends hu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Gr.credential(n,s)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends hu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends hu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),f=W0(s);return new ho({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=W0(s);return new ho({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function W0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Ii{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new mh(e,n,s,o)}}function pT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(r,u,e,s):u})}async function S2(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ho._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x2(r,e,n=!1){const{auth:s}=r;if(Hn(s.app))return Promise.reject(Ys(s));const o="reauthenticate";try{const u=await Wl(r,pT(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=pg(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),ho._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&lr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(r,e,n=!1){if(Hn(r.app))return Promise.reject(Ys(r));const s="signIn",o=await pT(r,s,e),u=await ho._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function I2(r,e,n,s){return En(r).onIdTokenChanged(e,n,s)}function N2(r,e,n){return En(r).beforeAuthStateChanged(e,n)}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=1e3,D2=10;class _T extends yT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);u2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},C2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_T.type="LOCAL";const k2=_T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends yT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vT.type="SESSION";const ET=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Lh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await O2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Eg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function V2(r){vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function P2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L2(){return navigator?.serviceWorker?.controller||null}function U2(){return TT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="firebaseLocalStorageDb",j2=1,ph="firebaseLocalStorage",wT="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,e){return r.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function z2(){const r=indexedDB.deleteDatabase(bT);return new fu(r).toPromise()}function Mm(){const r=indexedDB.open(bT,j2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ph,{keyPath:wT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ph)?e(s):(s.close(),await z2(),e(await Mm()))})})}async function J0(r,e,n){const s=Uh(r,!0).put({[wT]:e,value:n});return new fu(s).toPromise()}async function B2(r,e){const n=Uh(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function ev(r,e){const n=Uh(r,!0).delete(e);return new fu(n).toPromise()}const q2=800,H2=3;class AT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>H2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(U2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P2(),!this.activeServiceWorker)return;this.sender=new M2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await J0(e,gh,"1"),await ev(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>J0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>B2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ev(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AT.type="LOCAL";const F2=AT;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r,e){return e?ir(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends mT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Q2(r){return R2(r.auth,new Tg(r),r.bypassAuthState)}function $2(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),x2(n,new Tg(r),r.bypassAuthState)}async function K2(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),S2(n,new Tg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Q2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return $2;default:lr(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new cu(2e3,1e4);class so extends ST{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y2.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2="pendingRedirect",eh=new Map;class Z2 extends ST{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await W2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W2(r,e){const n=tI(e),s=eI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function J2(r,e){eh.set(r._key(),e)}function eI(r){return ir(r._redirectPersistence)}function tI(r){return Jc(X2,r.config.apiKey,r.name)}async function nI(r,e,n=!1){if(Hn(r.app))return Promise.reject(Ys(r));const s=_g(r),o=G2(s,e),f=await new Z2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=600*1e3;class rI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(_i(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iI&&this.cachedEventUids.clear(),this.cachedEventUids.has(tv(e))}saveEventToCache(e){this.cachedEventUids.add(tv(e)),this.lastProcessedEventTime=Date.now()}}function tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function sI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(r,e={}){return bo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lI=/^https?/;async function uI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await aI(r);for(const n of e)try{if(cI(n))return}catch{}lr(r,"unauthorized-domain")}function cI(r){const e=km(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!lI.test(n))return!1;if(oI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=new cu(3e4,6e4);function nv(){const r=vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function fI(r){return new Promise((e,n)=>{function s(){nv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nv(),n(_i(r,"network-request-failed"))},timeout:hI.get()})}if(vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vi().gapi?.load)s();else{const o=_2("iframefcb");return vi()[o]=()=>{gapi.load?s():n(_i(r,"network-request-failed"))},p2(`${y2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function dI(r){return th=th||fI(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new cu(5e3,15e3),gI="__/auth/iframe",pI="emulator/auth/iframe",yI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_I=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vI(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mg(e,pI):`https://${r.config.authDomain}/${gI}`,s={apiKey:e.apiKey,appName:r.name,v:ia},o=_I.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function EI(r){const e=await dI(r),n=vi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:vI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=_i(r,"network-request-failed"),m=vi().setTimeout(()=>{u(f)},mI.get());function g(){vi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bI=500,wI=600,AI="_blank",SI="http://localhost";class iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xI(r,e,n,s=bI,o=wI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...TI,width:s.toString(),height:o.toString(),top:u,left:f},y=Jt().toLowerCase();n&&(m=aT(y)?AI:n),rT(y)&&(e=e||SI,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[M,U])=>`${S}${M}=${U},`,"");if(l2(y)&&m!=="_self")return RI(e||"",m),new iv(null);const w=window.open(e||"",m,E);be(w,r,"popup-blocked");try{w.focus()}catch{}return new iv(w)}function RI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="__/auth/handler",NI="emulator/auth/handler",CI=encodeURIComponent("fac");async function rv(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ia,eventId:o};if(e instanceof gT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Cx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof hu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${CI}=${encodeURIComponent(g)}`:"";return`${DI(r)}?${uu(m).slice(1)}${y}`}function DI({config:r}){return r.emulator?mg(r,NI):`https://${r.authDomain}/${II}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class kI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=nI,this._overrideRedirectResult=J2}async _openPopup(e,n,s,o){ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await rv(e,n,s,km(),o);return xI(e,u,Eg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await rv(e,n,s,km(),o);return V2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await EI(e),s=new rI(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},o=>{const u=o?.[0]?.[gm];u!==void 0&&n(!!u),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||sT()||yg()}}const OI=kI;var sv="@firebase/auth",av="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PI(r){Ws(new ts("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(r)},y=new m2(s,o,u,g);return E2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ws(new ts("auth-internal",e=>{const n=_g(e.getProvider("auth").getImmediate());return(s=>new MI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),yi(sv,av,VI(r)),yi(sv,av,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=300,UI=HE("authIdTokenMaxAge")||LI;let ov=null;const jI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>UI)return;const o=n?.token;ov!==o&&(ov=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zI(r=fg()){const e=Ph(r,"auth");if(e.isInitialized())return e.getImmediate();const n=v2(r,{popupRedirectResolver:OI,persistence:[F2,k2,ET]}),s=HE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=jI(u.toString());N2(n,f,()=>f(n.currentUser)),I2(n,m=>f(m))}}const o=zE("auth");return o&&T2(n,`http://${o}`),n}function BI(){return document.getElementsByTagName("head")?.[0]??document}g2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=_i("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",BI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PI("Browser");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,RT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,x){function R(){}R.prototype=x.prototype,k.D=x.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(O,V,P){for(var N=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)N[Ut-2]=arguments[Ut];return x.prototype[V].apply(O,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,x,R){R||(R=0);var O=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)O[V]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(V=0;16>V;++V)O[V]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=k.g[0],R=k.g[1],V=k.g[2];var P=k.g[3],N=x+(P^R&(V^P))+O[0]+3614090360&4294967295;x=R+(N<<7&4294967295|N>>>25),N=P+(V^x&(R^V))+O[1]+3905402710&4294967295,P=x+(N<<12&4294967295|N>>>20),N=V+(R^P&(x^R))+O[2]+606105819&4294967295,V=P+(N<<17&4294967295|N>>>15),N=R+(x^V&(P^x))+O[3]+3250441966&4294967295,R=V+(N<<22&4294967295|N>>>10),N=x+(P^R&(V^P))+O[4]+4118548399&4294967295,x=R+(N<<7&4294967295|N>>>25),N=P+(V^x&(R^V))+O[5]+1200080426&4294967295,P=x+(N<<12&4294967295|N>>>20),N=V+(R^P&(x^R))+O[6]+2821735955&4294967295,V=P+(N<<17&4294967295|N>>>15),N=R+(x^V&(P^x))+O[7]+4249261313&4294967295,R=V+(N<<22&4294967295|N>>>10),N=x+(P^R&(V^P))+O[8]+1770035416&4294967295,x=R+(N<<7&4294967295|N>>>25),N=P+(V^x&(R^V))+O[9]+2336552879&4294967295,P=x+(N<<12&4294967295|N>>>20),N=V+(R^P&(x^R))+O[10]+4294925233&4294967295,V=P+(N<<17&4294967295|N>>>15),N=R+(x^V&(P^x))+O[11]+2304563134&4294967295,R=V+(N<<22&4294967295|N>>>10),N=x+(P^R&(V^P))+O[12]+1804603682&4294967295,x=R+(N<<7&4294967295|N>>>25),N=P+(V^x&(R^V))+O[13]+4254626195&4294967295,P=x+(N<<12&4294967295|N>>>20),N=V+(R^P&(x^R))+O[14]+2792965006&4294967295,V=P+(N<<17&4294967295|N>>>15),N=R+(x^V&(P^x))+O[15]+1236535329&4294967295,R=V+(N<<22&4294967295|N>>>10),N=x+(V^P&(R^V))+O[1]+4129170786&4294967295,x=R+(N<<5&4294967295|N>>>27),N=P+(R^V&(x^R))+O[6]+3225465664&4294967295,P=x+(N<<9&4294967295|N>>>23),N=V+(x^R&(P^x))+O[11]+643717713&4294967295,V=P+(N<<14&4294967295|N>>>18),N=R+(P^x&(V^P))+O[0]+3921069994&4294967295,R=V+(N<<20&4294967295|N>>>12),N=x+(V^P&(R^V))+O[5]+3593408605&4294967295,x=R+(N<<5&4294967295|N>>>27),N=P+(R^V&(x^R))+O[10]+38016083&4294967295,P=x+(N<<9&4294967295|N>>>23),N=V+(x^R&(P^x))+O[15]+3634488961&4294967295,V=P+(N<<14&4294967295|N>>>18),N=R+(P^x&(V^P))+O[4]+3889429448&4294967295,R=V+(N<<20&4294967295|N>>>12),N=x+(V^P&(R^V))+O[9]+568446438&4294967295,x=R+(N<<5&4294967295|N>>>27),N=P+(R^V&(x^R))+O[14]+3275163606&4294967295,P=x+(N<<9&4294967295|N>>>23),N=V+(x^R&(P^x))+O[3]+4107603335&4294967295,V=P+(N<<14&4294967295|N>>>18),N=R+(P^x&(V^P))+O[8]+1163531501&4294967295,R=V+(N<<20&4294967295|N>>>12),N=x+(V^P&(R^V))+O[13]+2850285829&4294967295,x=R+(N<<5&4294967295|N>>>27),N=P+(R^V&(x^R))+O[2]+4243563512&4294967295,P=x+(N<<9&4294967295|N>>>23),N=V+(x^R&(P^x))+O[7]+1735328473&4294967295,V=P+(N<<14&4294967295|N>>>18),N=R+(P^x&(V^P))+O[12]+2368359562&4294967295,R=V+(N<<20&4294967295|N>>>12),N=x+(R^V^P)+O[5]+4294588738&4294967295,x=R+(N<<4&4294967295|N>>>28),N=P+(x^R^V)+O[8]+2272392833&4294967295,P=x+(N<<11&4294967295|N>>>21),N=V+(P^x^R)+O[11]+1839030562&4294967295,V=P+(N<<16&4294967295|N>>>16),N=R+(V^P^x)+O[14]+4259657740&4294967295,R=V+(N<<23&4294967295|N>>>9),N=x+(R^V^P)+O[1]+2763975236&4294967295,x=R+(N<<4&4294967295|N>>>28),N=P+(x^R^V)+O[4]+1272893353&4294967295,P=x+(N<<11&4294967295|N>>>21),N=V+(P^x^R)+O[7]+4139469664&4294967295,V=P+(N<<16&4294967295|N>>>16),N=R+(V^P^x)+O[10]+3200236656&4294967295,R=V+(N<<23&4294967295|N>>>9),N=x+(R^V^P)+O[13]+681279174&4294967295,x=R+(N<<4&4294967295|N>>>28),N=P+(x^R^V)+O[0]+3936430074&4294967295,P=x+(N<<11&4294967295|N>>>21),N=V+(P^x^R)+O[3]+3572445317&4294967295,V=P+(N<<16&4294967295|N>>>16),N=R+(V^P^x)+O[6]+76029189&4294967295,R=V+(N<<23&4294967295|N>>>9),N=x+(R^V^P)+O[9]+3654602809&4294967295,x=R+(N<<4&4294967295|N>>>28),N=P+(x^R^V)+O[12]+3873151461&4294967295,P=x+(N<<11&4294967295|N>>>21),N=V+(P^x^R)+O[15]+530742520&4294967295,V=P+(N<<16&4294967295|N>>>16),N=R+(V^P^x)+O[2]+3299628645&4294967295,R=V+(N<<23&4294967295|N>>>9),N=x+(V^(R|~P))+O[0]+4096336452&4294967295,x=R+(N<<6&4294967295|N>>>26),N=P+(R^(x|~V))+O[7]+1126891415&4294967295,P=x+(N<<10&4294967295|N>>>22),N=V+(x^(P|~R))+O[14]+2878612391&4294967295,V=P+(N<<15&4294967295|N>>>17),N=R+(P^(V|~x))+O[5]+4237533241&4294967295,R=V+(N<<21&4294967295|N>>>11),N=x+(V^(R|~P))+O[12]+1700485571&4294967295,x=R+(N<<6&4294967295|N>>>26),N=P+(R^(x|~V))+O[3]+2399980690&4294967295,P=x+(N<<10&4294967295|N>>>22),N=V+(x^(P|~R))+O[10]+4293915773&4294967295,V=P+(N<<15&4294967295|N>>>17),N=R+(P^(V|~x))+O[1]+2240044497&4294967295,R=V+(N<<21&4294967295|N>>>11),N=x+(V^(R|~P))+O[8]+1873313359&4294967295,x=R+(N<<6&4294967295|N>>>26),N=P+(R^(x|~V))+O[15]+4264355552&4294967295,P=x+(N<<10&4294967295|N>>>22),N=V+(x^(P|~R))+O[6]+2734768916&4294967295,V=P+(N<<15&4294967295|N>>>17),N=R+(P^(V|~x))+O[13]+1309151649&4294967295,R=V+(N<<21&4294967295|N>>>11),N=x+(V^(R|~P))+O[4]+4149444226&4294967295,x=R+(N<<6&4294967295|N>>>26),N=P+(R^(x|~V))+O[11]+3174756917&4294967295,P=x+(N<<10&4294967295|N>>>22),N=V+(x^(P|~R))+O[2]+718787259&4294967295,V=P+(N<<15&4294967295|N>>>17),N=R+(P^(V|~x))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+P&4294967295}s.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var R=x-this.blockSize,O=this.B,V=this.h,P=0;P<x;){if(V==0)for(;P<=R;)o(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<x;)if(O[V++]=k.charCodeAt(P++),V==this.blockSize){o(this,O),V=0;break}}else for(;P<x;)if(O[V++]=k[P++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=x},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var R=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=R&255,R/=256;for(this.u(k),k=Array(16),x=R=0;4>x;++x)for(var O=0;32>O;O+=8)k[R++]=this.g[x]>>>O&255;return k};function u(k,x){var R=m;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=x(k)}function f(k,x){this.h=x;for(var R=[],O=!0,V=k.length-1;0<=V;V--){var P=k[V]|0;O&&P==x||(R[V]=P,O=!1)}this.g=R}var m={};function g(k){return-128<=k&&128>k?u(k,function(x){return new f([x|0],0>x?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return H(y(-k));for(var x=[],R=1,O=0;k>=R;O++)x[O]=k/R|0,R*=4294967296;return new f(x,0)}function E(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return H(E(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(x,8)),O=w,V=0;V<k.length;V+=8){var P=Math.min(8,k.length-V),N=parseInt(k.substring(V,V+P),x);8>P?(P=y(Math.pow(x,P)),O=O.j(P).add(y(N))):(O=O.j(R),O=O.add(y(N)))}return O}var w=g(0),S=g(1),M=g(16777216);r=f.prototype,r.m=function(){if(Q(this))return-H(this).m();for(var k=0,x=1,R=0;R<this.g.length;R++){var O=this.i(R);k+=(0<=O?O:4294967296+O)*x,x*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(U(this))return"0";if(Q(this))return"-"+H(this).toString(k);for(var x=y(Math.pow(k,6)),R=this,O="";;){var V=ne(R,x).g;R=X(R,V.j(x));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=V,U(R))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function U(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function Q(k){return k.h==-1}r.l=function(k){return k=X(this,k),Q(k)?-1:U(k)?0:1};function H(k){for(var x=k.g.length,R=[],O=0;O<x;O++)R[O]=~k.g[O];return new f(R,~k.h).add(S)}r.abs=function(){return Q(this)?H(this):this},r.add=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],O=0,V=0;V<=x;V++){var P=O+(this.i(V)&65535)+(k.i(V)&65535),N=(P>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);O=N>>>16,P&=65535,N&=65535,R[V]=N<<16|P}return new f(R,R[R.length-1]&-2147483648?-1:0)};function X(k,x){return k.add(H(x))}r.j=function(k){if(U(this)||U(k))return w;if(Q(this))return Q(k)?H(this).j(H(k)):H(H(this).j(k));if(Q(k))return H(this.j(H(k)));if(0>this.l(M)&&0>k.l(M))return y(this.m()*k.m());for(var x=this.g.length+k.g.length,R=[],O=0;O<2*x;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<k.g.length;V++){var P=this.i(O)>>>16,N=this.i(O)&65535,Ut=k.i(V)>>>16,lt=k.i(V)&65535;R[2*O+2*V]+=N*lt,ue(R,2*O+2*V),R[2*O+2*V+1]+=P*lt,ue(R,2*O+2*V+1),R[2*O+2*V+1]+=N*Ut,ue(R,2*O+2*V+1),R[2*O+2*V+2]+=P*Ut,ue(R,2*O+2*V+2)}for(O=0;O<x;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=x;O<2*x;O++)R[O]=0;return new f(R,0)};function ue(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function se(k,x){this.g=k,this.h=x}function ne(k,x){if(U(x))throw Error("division by zero");if(U(k))return new se(w,w);if(Q(k))return x=ne(H(k),x),new se(H(x.g),H(x.h));if(Q(x))return x=ne(k,H(x)),new se(H(x.g),x.h);if(30<k.g.length){if(Q(k)||Q(x))throw Error("slowDivide_ only works with positive integers.");for(var R=S,O=x;0>=O.l(k);)R=re(R),O=re(O);var V=ye(R,1),P=ye(O,1);for(O=ye(O,2),R=ye(R,2);!U(O);){var N=P.add(O);0>=N.l(k)&&(V=V.add(R),P=N),O=ye(O,1),R=ye(R,1)}return x=X(k,V.j(x)),new se(V,x)}for(V=w;0<=k.l(x);){for(R=Math.max(1,Math.floor(k.m()/x.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(R),N=P.j(x);Q(N)||0<N.l(k);)R-=O,P=y(R),N=P.j(x);U(P)&&(P=S),V=V.add(P),k=X(k,N)}return new se(V,k)}r.A=function(k){return ne(this,k).h},r.and=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)&k.i(O);return new f(R,this.h&k.h)},r.or=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)|k.i(O);return new f(R,this.h|k.h)},r.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),R=[],O=0;O<x;O++)R[O]=this.i(O)^k.i(O);return new f(R,this.h^k.h)};function re(k){for(var x=k.g.length+1,R=[],O=0;O<x;O++)R[O]=k.i(O)<<1|k.i(O-1)>>>31;return new f(R,k.h)}function ye(k,x){var R=x>>5;x%=32;for(var O=k.g.length-R,V=[],P=0;P<O;P++)V[P]=0<x?k.i(P+R)>>>x|k.i(P+R+1)<<32-x:k.i(P+R);return new f(V,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,RT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Jr=f}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,zl,NT,nh,Vm,CT,DT,kT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in _))break e;_=_[j]}c=c[c.length-1],A=_[c],p=p(A),p!=A&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,A=!1,j={next:function(){if(!A&&_<c.length){var $=_++;return{value:p($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function w(c,p,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function S(c,p,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function M(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,j,$){for(var ae=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ae[Ve-2]=arguments[Ve];return p.prototype[j].apply(A,ae)}}function Q(c){const p=c.length;if(0<p){const _=Array(p);for(let A=0;A<p;A++)_[A]=c[A];return _}return[]}function H(c,p){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const j=c.length||0,$=A.length||0;c.length=j+$;for(let ae=0;ae<$;ae++)c[j+ae]=A[ae]}else c.push(A)}}class X{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ue(c){return/^[\s\xa0]*$/.test(c)}function se(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var re=se().indexOf("Gecko")!=-1&&!(se().toLowerCase().indexOf("webkit")!=-1&&se().indexOf("Edge")==-1)&&!(se().indexOf("Trident")!=-1||se().indexOf("MSIE")!=-1)&&se().indexOf("Edge")==-1;function ye(c,p,_){for(const A in c)p.call(_,c[A],A,c)}function k(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function x(c){const p={};for(const _ in c)p[_]=c[_];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,p){let _,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(_ in A)c[_]=A[_];for(let $=0;$<R.length;$++)_=R[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function P(c){m.setTimeout(()=>{throw c},0)}function N(){var c=ze;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ut{constructor(){this.h=this.g=null}add(p,_){const A=lt.get();A.set(p,_),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new X(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ze=new Ut,C=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){P(_)}var p=lt;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c})();function Ie(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(re){e:{try{ne(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}U(Ie,ie);var we={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function Jn(c,p,_,A,j){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!A,this.ha=j,this.key=++Je,this.da=this.fa=!1}function mr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ci(c){this.src=c,this.g={},this.h=0}Ci.prototype.add=function(c,p,_,A,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=hs(c,p,A,j);return-1<ae?(p=c[ae],_||(p.fa=!1)):(p=new Jn(p,this.src,$,!!A,j),p.fa=_,c.push(p)),p};function cs(c,p){var _=p.type;if(_ in c.g){var A=c.g[_],j=Array.prototype.indexOf.call(A,p,void 0),$;($=0<=j)&&Array.prototype.splice.call(A,j,1),$&&(mr(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function hs(c,p,_,A){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==p&&$.capture==!!_&&$.ha==A)return j}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),No={};function _u(c,p,_,A,j){if(Array.isArray(p)){for(var $=0;$<p.length;$++)_u(c,p[$],_,A,j);return null}return _=vu(_),c&&c[Dt]?c.K(p,_,y(A)?!!A.capture:!1,j):Tn(c,p,_,!1,A,j)}function Tn(c,p,_,A,j,$){if(!p)throw Error("Invalid event type");var ae=y(j)?!!j.capture:!!j,Ve=ca(c);if(Ve||(c[fs]=Ve=new Ci(c)),_=Ve.add(p,_,A,ae,$),_.proxy)return _;if(A=ef(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)pe||(j=ae),j===void 0&&(j=!1),c.addEventListener(p.toString(),A,j);else if(c.attachEvent)c.attachEvent(ds(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ef(){function c(_){return p.call(c.src,c.listener,_)}const p=tf;return c}function Co(c,p,_,A,j){if(Array.isArray(p))for(var $=0;$<p.length;$++)Co(c,p[$],_,A,j);else A=y(A)?!!A.capture:!!A,_=vu(_),c&&c[Dt]?(c=c.i,p=String(p).toString(),p in c.g&&($=c.g[p],_=hs($,_,A,j),-1<_&&(mr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[p],c.h--)))):c&&(c=ca(c))&&(p=c.g[p.toString()],c=-1,p&&(c=hs(p,_,A,j)),(_=-1<c?p[c]:null)&&ua(_))}function ua(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])cs(p.i,c);else{var _=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(_,A,c.capture):p.detachEvent?p.detachEvent(ds(_),A):p.addListener&&p.removeListener&&p.removeListener(A),(_=ca(p))?(cs(_,c),_.h==0&&(_.src=null,p[fs]=null)):mr(c)}}}function ds(c){return c in No?No[c]:No[c]="on"+c}function tf(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var _=c.listener,A=c.ha||c.src;c.fa&&ua(c),c=_.call(A,p)}return c}function ca(c){return c=c[fs],c instanceof Ci?c:null}var Do="__closure_events_fn_"+(1e9*Math.random()>>>0);function vu(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(p){return c.handleEvent(p)}),c[Do])}function ut(){le.call(this),this.i=new Ci(this),this.M=this,this.F=null}U(ut,le),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(c,p,_,A){Co(this,c,p,_,A)};function Fe(c,p){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var j=p;p=new ie(A,c),O(p,j)}if(j=!0,_)for(var $=_.length-1;0<=$;$--){var ae=p.g=_[$];j=cn(ae,A,!0,p)&&j}if(ae=p.g=c,j=cn(ae,A,!0,p)&&j,j=cn(ae,A,!1,p)&&j,_)for($=0;$<_.length;$++)ae=p.g=_[$],j=cn(ae,A,!1,p)&&j}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],A=0;A<_.length;A++)mr(_[A]);delete c.g[p],c.h--}}this.F=null},ut.prototype.K=function(c,p,_,A){return this.i.add(String(c),p,!1,_,A)},ut.prototype.L=function(c,p,_,A){return this.i.add(String(c),p,!0,_,A)};function cn(c,p,_,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,$=0;$<p.length;++$){var ae=p[$];if(ae&&!ae.da&&ae.capture==_){var Ve=ae.listener,xt=ae.ha||ae.src;ae.fa&&cs(c.i,ae),j=Ve.call(xt,A)!==!1&&j}}return j&&!A.defaultPrevented}function $t(c,p,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Eu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class nf extends le{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){le.call(this),this.h=c,this.g={}}U(ms,le);var gs=[];function ps(c){ye(c.g,function(p,_){this.g.hasOwnProperty(_)&&ua(p)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),ps(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,ha=m.JSON.parse,ys=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Oo(c){return c.h||(c.h=c.i())}function Mo(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){ie.call(this,"d")}U(ki,ie);function Vo(){ie.call(this,"c")}U(Vo,ie);var ei={},Po=null;function gr(){return Po=Po||new ut}ei.La="serverreachability";function fa(c){ie.call(this,ei.La,c)}U(fa,ie);function pr(c){const p=gr();Fe(p,new fa(p))}ei.STAT_EVENT="statevent";function Tu(c,p){ie.call(this,ei.STAT_EVENT,c),this.stat=p}U(Tu,ie);function it(c){const p=gr();Fe(p,new Tu(p,c))}ei.Ma="timingevent";function St(c,p){ie.call(this,ei.Ma,c),this.size=p}U(St,ie);function pt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function bn(){this.g=!0}bn.prototype.xa=function(){this.g=!1};function Lo(c,p,_,A,j,$){c.info(function(){if(c.g)if($)for(var ae="",Ve=$.split("&"),xt=0;xt<Ve.length;xt++){var Pe=Ve[xt].split("=");if(1<Pe.length){var Ot=Pe[0];Pe=Pe[1];var Rt=Ot.split("_");ae=2<=Rt.length&&Rt[1]=="type"?ae+(Ot+"="+Pe+"&"):ae+(Ot+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+p+`
`+_+`
`+ae})}function rf(c,p,_,A,j,$,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+p+`
`+_+`
`+$+" "+ae})}function yr(c,p,_,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+_s(c,_)+(A?" "+A:"")})}function bu(c,p){c.info(function(){return"TIMEOUT: "+p})}bn.prototype.info=function(){};function _s(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return Pn(_)}catch{return p}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}U(ni,ko),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function en(c,p,_,A){this.j=c,this.i=p,this.l=_,this.R=A||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Uo={},da={};function Ln(c,p,_){c.L=1,c.v=ws(hn(p)),c.m=_,c.P=!0,Mi(c,null)}function Mi(c,p){c.F=Date.now(),vs(c),c.A=hn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Fo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new ft,c.g=Uu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new nf(S(c.Y,c,c.g),c.O)),p=c.U,_=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(gs[0]=j.toString()),j=gs);for(var $=0;$<j.length;$++){var ae=_u(_,j[$],A||p.handleEvent,!1,p.h||p);if(!ae)break;p.g[ae.key]=ae}p=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),pr(),Lo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const p=this.M;p&&xn(c)==3?p.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=xn(this.g);var p=this.g.Ba();const qi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Cu(this.g)))){this.J||Rt!=4||p==7||(p==8||0>=qi?pr(3):pr(2)),vr(this);var _=this.g.Z();this.X=_;t:if(wu(this)){var A=Cu(this.g);c="";var j=A.length,$=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),ii(this);var ae="";break t}this.h.i=new m.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!($&&p==j-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,rf(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,xt=this.g;if((Ve=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ue(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)yr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,_);else{this.o=!1,this.s=3,it(12),jt(this),ii(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=Au(this,ae),zt==da){Rt==4&&(this.s=4,it(14),_=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Uo){this.s=4,it(15),yr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else yr(this.i,this.l,zt,null),Es(this,zt);if(wu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ae.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)yr(this.i,this.l,ae,"[Invalid Chunked Response]"),jt(this),ii(this);else if(0<ae.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ds(Ot),Ot.M=!0,it(11))}}else yr(this.i,this.l,ae,null),Es(this,ae);Rt==4&&jt(this),this.o&&!this.J&&(Rt==4?Vu(this.j,this):(this.o=!1,vs(this)))}else uf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),jt(this),ii(this)}}}catch{}finally{}};function wu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Au(c,p){var _=c.C,A=p.indexOf(`
`,_);return A==-1?da:(_=Number(p.substring(_,A)),isNaN(_)?Uo:(A+=1,A+_>p.length?da:(p=p.slice(A,A+_),c.C=A+_,p)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function vs(c){c.S=Date.now()+c.I,Su(c,c.I)}function Su(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pt(S(c.ba,c),p)}function vr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(bu(this.i,this.A),this.L!=2&&(pr(),it(17)),jt(this),this.s=2,ii(this)):Su(this,this.S-c)};function ii(c){c.j.G==0||c.J||Vu(c.j,c)}function jt(c){vr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,ps(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Es(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||jo(_.h,c))){if(!c.K&&jo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Sa(_),wa(_);else break e;Yo(_),it(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=pt(S(_.Za,_),6e3));if(1>=ga(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Bi(_,11)}else if((c.K||_.g==c)&&Sa(_),!ue(p))for(j=_.Da.g.parse(p),p=0;p<j.length;p++){let Pe=j[p];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Ot=Pe[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const Rt=Pe[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const qi=Pe[5];qi!=null&&typeof qi=="number"&&0<qi&&(A=1.5*qi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const ci=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var $=A.h;$.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(pa($,$.h),$.h=null))}if(A.D){const Zo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(A.ya=Zo,$e(A.I,A.D,Zo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=c;if(A.qa=Lu(A,A.J?A.ia:null,A.W),ae.K){tn(A.h,ae);var Ve=ae,xt=A.L;xt&&(Ve.I=xt),Ve.B&&(vr(Ve),vs(Ve)),A.g=ae}else Ou(A);0<_.i.length&&Aa(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Bi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Bi(_,7):$o(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}pr(4)}catch{}}var xu=class{constructor(c,p){this.g=c,this.map=p}};function Vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ma(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ga(c){return c.h?1:c.g?c.g.size:0}function jo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function pa(c,p){c.g?c.g.add(p):c.h=p}function tn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Vi.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Q(c.i)}function sf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,A=0;A<_;A++)p.push(c[A]);return p}p=[],_=0;for(A in c)p[_++]=c[A];return p}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const A in c)p[_++]=A;return p}}}function Bo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=ya(c),A=sf(c),j=A.length,$=0;$<j;$++)p.call(void 0,A[$],_&&_[$],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function af(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),j=null;if(0<=A){var $=c[_].substring(0,A);j=c[_].substring(A+1)}else $=c[_];p($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof yt){this.h=c.h,bs(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.s),this.l=c.l;var p=c.i,_=new Li;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Pi(this,_),this.m=c.m}else c&&(p=String(c).match(Ts))?(this.h=!1,bs(this,p[1]||"",!0),this.o=wn(p[2]||""),this.g=wn(p[3]||"",!0),Er(this,p[4]),this.l=wn(p[5]||"",!0),Pi(this,p[6]||"",!0),this.m=wn(p[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}yt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(As(p,qo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(As(p,qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(As(_,_.charAt(0)=="/"?of:Ho,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",As(_,_a)),c.join("")};function hn(c){return new yt(c)}function bs(c,p,_){c.j=_?wn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Pi(c,p,_){p instanceof Li?(c.i=p,Iu(c.i,c.h)):(_||(p=As(p,lf)),c.i=new Li(p,c.h))}function $e(c,p,_){c.i.set(p,_)}function ws(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function As(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Ru),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,of=/[#\?]/g,lf=/[#\?@]/g,_a=/#/g;function Li(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&af(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Li.prototype,r.add=function(c,p){An(this),this.i=null,c=ri(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Ui(c,p){An(c),p=ri(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ji(c,p){return An(c),p=ri(c,p),c.g.has(p)}r.forEach=function(c,p){An(this),this.g.forEach(function(_,A){_.forEach(function(j){c.call(p,j,A,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let A=0;A<p.length;A++){const j=c[A];for(let $=0;$<j.length;$++)_.push(p[A])}return _},r.V=function(c){An(this);let p=[];if(typeof c=="string")ji(this,c)&&(p=p.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return An(this),this.i=null,c=ri(this,c),ji(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Fo(c,p,_){Ui(c,p),0<_.length&&(c.i=null,c.g.set(ri(c,p),Q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var A=p[_];const $=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var j=$;ae[A]!==""&&(j+="="+encodeURIComponent(String(ae[A]))),c.push(j)}}return this.i=c.join("&")};function ri(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Iu(c,p){p&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,A){var j=A.toLowerCase();A!=j&&(Ui(this,A),Fo(this,j,_))},c)),c.j=p}function Ss(c,p){const _=new bn;if(m.Image){const A=new Image;A.onload=M(Sn,_,"TestLoadImage: loaded",!0,p,A),A.onerror=M(Sn,_,"TestLoadImage: error",!1,p,A),A.onabort=M(Sn,_,"TestLoadImage: abort",!1,p,A),A.ontimeout=M(Sn,_,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Un(c,p){const _=new bn,A=new AbortController,j=setTimeout(()=>{A.abort(),Sn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(j),$.ok?Sn(_,"TestPingServer: ok",!0,p):Sn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Sn(_,"TestPingServer: error",!1,p)})}function Sn(c,p,_,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(_)}catch{}}function xs(){this.g=new ys}function si(c,p,_){const A=_||"";try{Bo(c,function(j,$){let ae=j;y(j)&&(ae=Pn(j)),p.push(A+$+"="+encodeURIComponent(ae))})}catch(j){throw p.push(A+"type="+encodeURIComponent("_badmap")),j}}function Tr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Tr,ko),Tr.prototype.g=function(){return new zi(this.l,this.j)},Tr.prototype.i=(function(c){return function(){return c}})({});function zi(c,p){ut.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(zi,ut),r=zi.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,oi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ai(this):oi(this),this.readyState==3&&Go(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},r.Qa=function(c){this.g&&(this.response=c,ai(this))},r.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let p="";return ye(c,function(_,A){p+=A,p+=":",p+=_,p+=`\r
`}),p}function kt(c,p,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,p,_))}function qe(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(qe,ut);var va=/^https?$/i,Rs=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Oo(this.o):Oo(ti),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch($){Nu(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)_.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,p,void 0))||A||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of _)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Nu(this,$)}};function Nu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,Ea(c),li(c)}function Ea(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},r.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||xn(c)!=4||c.Z()!=2)){if(c.u&&xn(c)==4)$t(c.Ea,0,c);else if(Fe(c,"readystatechange"),xn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var A;if(A=ae===0){var j=String(c.D).match(Ts)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!va.test(j?j.toLowerCase():"")}_=A}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var $=2<xn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ea(c)}}finally{li(c)}}}}function li(c,p){if(c.g){Is(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Fe(c,"ready");try{_.onreadystatechange=A}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function xn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ha(p)}};function Cu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const p={};c=(c.g&&2<=xn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ue(c[A]))continue;var _=V(c[A]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=p[j]||[];p[j]=$,$.push(_)}k(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ba(c){this.Aa=0,this.i=[],this.j=new bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,c),this.cb=Ns("retryDelaySeedMs",1e4,c),this.Wa=Ns("forwardChannelMaxRetries",2,c),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ba.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,A){it(0),this.W=c,this.H=p||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Lu(this,null,this.W),Aa(this)};function $o(c){if(Du(c),c.G==3){var p=c.U++,_=hn(c.I);if($e(_,"SID",c.K),$e(_,"RID",p),$e(_,"TYPE","terminate"),Cs(c,_),p=new en(c,c.j,p),p.L=2,p.v=ws(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Uu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),vs(p)}Pu(c)}function wa(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function Du(c){wa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Aa(c){if(!ma(c.h)&&!c.s){c.s=!0;var p=c.Ga;oe||C(),me||(oe(),me=!0),ze.add(p,c),c.B=0}}function cf(c,p){return ga(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pt(S(c.Ga,c,p),Xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new en(this,this.j,c);let $=this.o;if(this.S&&($?($=x($),O($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=ku(this,j,p),_=hn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Cs(this,_),$&&(this.O?p="headers="+encodeURIComponent(String(Qo($)))+"&"+p:this.m&&kt(_,this.m,$)),pa(this.h,j),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",p),$e(_,"SID","null"),j.T=!0,Ln(j,_,null)):Ln(j,_,p),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||ma(this.h)||Ko(this))};function Ko(c,p){var _;p?_=p.l:_=c.U++;const A=hn(c.I);$e(A,"SID",c.K),$e(A,"RID",_),$e(A,"AID",c.T),Cs(c,A),c.m&&c.o&&kt(A,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=ku(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pa(c.h,_),Ln(_,A,p)}function Cs(c,p){c.H&&ye(c.H,function(_,A){$e(p,A,_)}),c.l&&Bo({},function(_,A){$e(p,A,_)})}function ku(c,p,_){_=Math.min(c.i.length,_);var A=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const ae=["count="+_];$==-1?0<_?($=j[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let Ve=!0;for(let xt=0;xt<_;xt++){let Pe=j[xt].g;const Ot=j[xt].map;if(Pe-=$,0>Pe)$=Math.max(0,j[xt].g-100),Ve=!1;else try{si(Ot,ae,"req"+Pe+"_")}catch{A&&A(Ot)}}if(Ve){A=ae.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,A}function Ou(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;oe||C(),me||(oe(),me=!0),ze.add(p,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pt(S(c.Fa,c),Xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),wa(this),Mu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Mu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=hn(c.qa);$e(p,"RID","rpc"),$e(p,"SID",c.K),$e(p,"AID",c.T),$e(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(p,"TO",c.ja),$e(p,"TYPE","xmlhttp"),Cs(c,p),c.m&&c.o&&kt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ws(hn(p)),_.m=null,_.P=!0,Mi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,wa(this),Yo(this),it(19))};function Sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Vu(c,p){var _=null;if(c.g==p){Sa(c),Ds(c),c.g=null;var A=2}else if(jo(c.h,p))_=p.D,tn(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;A=gr(),Fe(A,new St(A,_)),Aa(c)}else Ou(c);else if(j=p.s,j==3||j==0&&0<p.X||!(A==1&&cf(c,p)||A==2&&Yo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),j){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Xo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Bi(c,p){if(c.j.info("Error code "+p),p==2){var _=S(c.fb,c),A=c.Xa;const j=!A;A=new yt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||bs(A,"https"),ws(A),j?Ss(A.toString(),_):Un(A.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(p),Pu(c),Du(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Pu(c){if(c.G=0,c.ka=[],c.l){const p=zo(c.h);(p.length!=0||c.i.length!=0)&&(H(c.ka,p),H(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Lu(c,p,_){var A=_ instanceof yt?hn(_):new yt(_);if(A.g!="")p&&(A.g=p+"."+A.g),Er(A,A.s);else{var j=m.location;A=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var $=new yt(null);A&&bs($,A),p&&($.g=p),j&&Er($,j),_&&($.l=_),A=$}return _=c.D,p=c.ya,_&&p&&$e(A,_,p),$e(A,"VER",c.la),Cs(c,A),A}function Uu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new qe(new Tr({eb:_})):new qe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ju(){}r=ju.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ut.call(this),this.g=new ba(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ue(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ue(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ui(this)}U(nn,ut),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$o(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);p.i.push(new xu(p.Ya++,c)),p.G==3&&Aa(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,nn.aa.N.call(this)};function zu(c){ki.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}U(zu,ki);function Bu(){Vo.call(this),this.status=1}U(Bu,Vo);function ui(c){this.g=c}U(ui,ju),ui.prototype.ua=function(){Fe(this.g,"a")},ui.prototype.ta=function(c){Fe(this.g,new zu(c))},ui.prototype.sa=function(c){Fe(this.g,new Bu)},ui.prototype.ra=function(){Fe(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,kT=function(){return new xa},DT=function(){return gr()},CT=ei,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,nh=_r,Oi.COMPLETE="complete",NT=Oi,Mo.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",ut.prototype.listen=ut.prototype.K,zl=Mo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,IT=qe}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore",cv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new cg("@firebase/firestore");function to(){return ea.logLevel}function he(r,...e){if(ea.logLevel<=ke.DEBUG){const n=e.map(bg);ea.debug(`Firestore (${wo}): ${r}`,...n)}}function cr(r,...e){if(ea.logLevel<=ke.ERROR){const n=e.map(bg);ea.error(`Firestore (${wo}): ${r}`,...n)}}function fo(r,...e){if(ea.logLevel<=ke.WARN){const n=e.map(bg);ea.warn(`Firestore (${wo}): ${r}`,...n)}}function bg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,OT(r,s,n)}function OT(r,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function He(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||OT(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ii{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class HI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class FI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new MT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class GI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new GI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $I{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=KI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function Pm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return pm(o)===pm(u)?Oe(o,u):pm(o)?1:-1}return Oe(r.length,e.length)}const YI=55296,XI=57343;function pm(r){const e=r.charCodeAt(0);return e>=YI&&e<=XI}function mo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class pi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=pi.isNumericId(e),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(e).compare(pi.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}}class tt extends pi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends pi{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Gt([fv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r,e,n){if(!n)throw new ce(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function WI(r,e,n,s){if(e===!0&&s===!0)throw new ce(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function dv(r){if(!ge.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mv(r){if(ge.isDocumentKey(r))throw new ce(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function PT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new ce(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r,e){const n={typeString:r};return e&&(n.value=e),n}function du(r,e){if(!PT(r))throw new ce(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-62135596800,pv=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pv);return new nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gv)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(du(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:wt("string",nt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new nt(0,0))}static max(){return new Ae(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function JI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new nt(n+1,0):new nt(n,s));return new ns(o,ge.empty(),e)}function eN(r){return new ns(r.readTime,r.key,Jl)}class ns{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ns(Ae.min(),ge.empty(),Jl)}static max(){return new ns(Ae.max(),ge.empty(),Jl)}}function tN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==nN)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function rN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function Bh(r){return r==null}function yh(r){return r===0&&1/r==-1/0}function sN(r){return typeof r=="number"&&Number.isInteger(r)&&!yh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function aN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=yv(e)),e=oN(r.get(n),e);return yv(e)}function oN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case LT:n+="";break;default:n+=u}}return n}function yv(r){return r+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ra(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function UT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(e){return new vv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class vv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Ct(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jT("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const lN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(r){if(He(!!r,39018),typeof r=="string"){let e=0;const n=lN.exec(r);if(He(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rs(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="server_timestamp",BT="__type__",qT="__previous_value__",HT="__local_write_time__";function Sg(r){return(r?.mapValue?.fields||{})[BT]?.stringValue===zT}function qh(r){const e=r.mapValue.fields[qT];return Sg(e)?qh(e):e}function eu(r){const e=is(r.mapValue.fields[HT].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,s,o,u,f,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const _h="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||_h}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===_h}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",cN="__max__",Qc={mapValue:{}},GT="__vector__",vh="value";function ss(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sg(r)?4:fN(r)?9007199254740991:hN(r)?10:11:Ee(28295,{value:r})}function Ai(r,e){if(r===e)return!0;const n=ss(r);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=is(o.timestampValue),m=is(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return rs(o.bytesValue).isEqual(rs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?yh(f)===yh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(_v(f)!==_v(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ai(f[g],m[g])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>Ai(n,e)))!==void 0}function go(r,e){if(r===e)return 0;const n=ss(r),s=ss(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Ev(r.timestampValue,e.timestampValue);case 4:return Ev(eu(r),eu(e));case 5:return Pm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=rs(u),g=rs(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Oe(m[y],g[y]);if(E!==0)return E}return Oe(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Oe(gt(u.latitude),gt(f.latitude));return m!==0?m:Oe(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Tv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[vh]?.arrayValue,E=g[vh]?.arrayValue,w=Oe(y?.values?.length||0,E?.values?.length||0);return w!==0?w:Tv(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const S=Pm(g[w],E[w]);if(S!==0)return S;const M=go(m[g[w]],y[E[w]]);if(M!==0)return M}return Oe(g.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function Ev(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=is(r),s=is(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function Tv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function po(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=is(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return rs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function ih(r){switch(ss(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ra(s.fields,((u,f)=>{o+=u.length+ih(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function bv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function xg(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function hN(r){return(r?.mapValue?.fields||{})[FT]?.stringValue===GT}function Ql(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ra(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Ql(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(r.arrayValue.values[n]);return e}return{...r}}function fN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ra(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Mn(Ql(this.value))}}function QT(r){const e=[];return ra(r.fields,((n,s)=>{const o=new Gt([n]);if(rh(s)){const u=QT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function Sv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function xv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ai(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function dN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{}class bt extends $T{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new gN(e,n,s):n==="array-contains"?new _N(e,s):n==="in"?new vN(e,s):n==="not-in"?new EN(e,s):n==="array-contains-any"?new TN(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pN(e,s):new yN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends $T{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yn(e,n)}matches(e){return KT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KT(r){return r.op==="and"}function YT(r){return mN(r)&&KT(r)}function mN(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function jm(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+po(r.value);if(YT(r))return r.filters.map((e=>jm(e))).join(",");{const e=r.filters.map((n=>jm(n))).join(",");return`${r.op}(${e})`}}function XT(r,e){return r instanceof bt?(function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Ai(s.value,o.value)})(r,e):r instanceof Yn?(function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&XT(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function ZT(r){return r instanceof bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof Yn?(function(n){return n.op.toString()+" {"+n.getFilters().map(ZT).join(" ,")+"}"})(r):"Filter"}class gN extends bt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class pN extends bt{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yN extends bt{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function WT(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class _N extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xg(n)&&nu(n.arrayValue,this.value)}}class vN extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class EN extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class TN extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Rv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new bN(r,e,n,s,o,u,f)}function Rg(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>jm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function Ig(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!dN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!XT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!xv(r.startAt,e.startAt)&&xv(r.endAt,e.endAt)}function zm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function wN(r,e,n,s,o,u,f,m){return new xo(r,e,n,s,o,u,f,m)}function Ng(r){return new xo(r)}function Iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function JT(r){return r.collectionGroup!==null}function $l(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ct(Gt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new iu(u,s))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new iu(Gt.keyField(),s))}return e.Ie}function Ei(r){const e=Se(r);return e.Ee||(e.Ee=AN(e,$l(r))),e.Ee}function AN(r,e){if(r.limitType==="F")return Rv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)}));const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return Rv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Bm(r,e){const n=r.filters.concat([e]);return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return Ig(Ei(r),Ei(e))&&r.limitType===e.limitType}function eb(r){return`${Rg(Ei(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ZT(o))).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ei(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=Sv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,g){const y=Sv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,$l(s),o))})(r,e)}function SN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tb(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=xN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function xN(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?go(g,y):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new ot(ge.comparator);function fr(){return RN}const nb=new ot(ge.comparator);function Bl(...r){let e=nb;for(const n of r)e=e.insert(n.key,n);return e}function ib(r){let e=nb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ks(){return Kl()}function rb(){return Kl()}function Kl(){return new sa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const IN=new ot(ge.comparator),NN=new Ct(ge.comparator);function Me(...r){let e=NN;for(const n of r)e=e.add(n);return e}const CN=new Ct(Oe);function DN(){return CN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function sb(r){return{integerValue:""+r}}function kN(r,e){return sN(e)?sb(e):Cg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this._=void 0}}function ON(r,e,n){return r instanceof Th?(function(o,u){const f={fields:{[BT]:{stringValue:zT},[HT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sg(u)&&(u=qh(u)),u&&(f.fields[qT]=u),{mapValue:f}})(n,e):r instanceof ru?ob(r,e):r instanceof su?lb(r,e):(function(o,u){const f=ab(o,u),m=Nv(f)+Nv(o.Ae);return Um(f)&&Um(o.Ae)?sb(m):Cg(o.serializer,m)})(r,e)}function MN(r,e,n){return r instanceof ru?ob(r,e):r instanceof su?lb(r,e):n}function ab(r,e){return r instanceof bh?(function(s){return Um(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Th extends Gh{}class ru extends Gh{constructor(e){super(),this.elements=e}}function ob(r,e){const n=ub(e);for(const s of r.elements)n.some((o=>Ai(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Gh{constructor(e){super(),this.elements=e}}function lb(r,e){let n=ub(e);for(const s of r.elements)n=n.filter((o=>!Ai(o,s)));return{arrayValue:{values:n}}}class bh extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nv(r){return gt(r.integerValue||r.doubleValue)}function ub(r){return xg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function VN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?mo(s.elements,o.elements,Ai):s instanceof bh&&o instanceof bh?Ai(s.Ae,o.Ae):s instanceof Th&&o instanceof Th})(r.transform,e.transform)}class PN{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function cb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dg(r.key,$n.none()):new mu(r.key,r.data,$n.none());{const n=r.data,s=Mn.empty();let o=new Ct(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new aa(r.key,s,new Gn(o.toArray()),$n.none())}}function LN(r,e,n){r instanceof mu?(function(o,u,f){const m=o.value.clone(),g=Dv(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof aa?(function(o,u,f){if(!sh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Dv(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(hb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Yl(r,e,n,s){return r instanceof mu?(function(u,f,m,g){if(!sh(u.precondition,f))return m;const y=u.value.clone(),E=kv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof aa?(function(u,f,m,g){if(!sh(u.precondition,f))return m;const y=kv(u.fieldTransforms,g,f),E=f.data;return E.setAll(hb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function UN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ab(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function Cv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((u,f)=>VN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function hb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Dv(r,e,n){const s=new Map;He(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,MN(f,m,n[o]))}return s}function kv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,ON(u,f,e))}return s}class Dg extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jN extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&LN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=rb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=cb(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Ae.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,s)=>Cv(n,s)))&&mo(this.baseMutations,e.baseMutations,((n,s)=>Cv(n,s)))}}class kg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return IN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new kg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ue;function HN(r){switch(r){case W.OK:return Ee(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function fb(r){if(r===void 0)return cr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Et.OK:return W.OK;case Et.CANCELLED:return W.CANCELLED;case Et.UNKNOWN:return W.UNKNOWN;case Et.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Et.INTERNAL:return W.INTERNAL;case Et.UNAVAILABLE:return W.UNAVAILABLE;case Et.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Et.NOT_FOUND:return W.NOT_FOUND;case Et.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Et.ABORTED:return W.ABORTED;case Et.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Et.DATA_LOSS:return W.DATA_LOSS;default:return Ee(39323,{code:r})}}(Ue=Et||(Et={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=new Jr([4294967295,4294967295],0);function Ov(r){const e=FN().encode(r),n=new RT;return n.update(e),new Uint8Array(n.digest())}function Mv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Jr([n,s],0),new Jr([o,u],0)]}class Og{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Jr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Jr.fromNumber(s)));return o.compare(GN)===1&&(o=new Jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ov(e),[s,o]=Mv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Og(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Ov(e),[s,o]=Mv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $h(Ae.min(),o,new ot(Oe),fr(),Me())}}class gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class db{constructor(e,n){this.targetId=e,this.Ce=n}}class mb{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Vv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Me(),n=Me(),s=Me();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QN{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=$c(),this.He=$c(),this.Ye=new ot(Oe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(zm(u))if(s===0){const f=new ge(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else He(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=rs(s).toUint8Array()}catch(g){if(g instanceof jT)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Og(f,o,u)}catch(g){return fo(g instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zm(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Wt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Me();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new $h(e,n,this.Ye,this.je,s);return this.je=fr(),this.Je=$c(),this.He=$c(),this.Ye=new ot(Oe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Vv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(Oe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(Oe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Vv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function $c(){return new ot(ge.comparator)}function Pv(){return new ot(ge.comparator)}const $N={asc:"ASCENDING",desc:"DESCENDING"},KN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YN={and:"AND",or:"OR"};class XN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function wh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ZN(r,e){return wh(r,e.toTimestamp())}function Ti(r){return He(!!r,49232),Ae.fromTimestamp((function(n){const s=is(n);return new nt(s.seconds,s.nanos)})(r))}function Mg(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function pb(r){const e=tt.fromString(r);return He(Tb(e),10190,{key:e.toString()}),e}function Gm(r,e){return Mg(r.databaseId,e.path)}function ym(r,e){const n=pb(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(_b(n))}function yb(r,e){return Mg(r.databaseId,e)}function WN(r){const e=pb(r);return e.length===4?tt.emptyPath():_b(e)}function Qm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function _b(r){return He(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Lv(r,e,n){return{name:Gm(r,e),fields:n.value.mapValue.fields}}function JN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(He(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?W.UNKNOWN:fb(y.code);return new ce(E,y.message||"")})(f);n=new mb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),u=Ti(s.document.updateTime),f=s.document.createTime?Ti(s.document.createTime):Ae.min(),m=new Mn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new ah(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ym(r,s.document),u=s.readTime?Ti(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ym(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new qN(o,u),m=s.targetId;n=new db(m,f)}}return n}function eC(r,e){let n;if(e instanceof mu)n={update:Lv(r,e.key,e.value)};else if(e instanceof Dg)n={delete:Gm(r,e.key)};else if(e instanceof aa)n={update:Lv(r,e.key,e.data),updateMask:uC(e.fieldMask)};else{if(!(e instanceof jN))return Ee(16599,{Vt:e.type});n={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Th)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof bh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:ZN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function tC(r,e){return r&&r.length>0?(He(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ti(o.updateTime):Ti(u);return f.isEqual(Ae.min())&&(f=Ti(u)),new PN(f,o.transformResults||[])})(n,e)))):[]}function nC(r,e){return{documents:[yb(r,e.path)]}}function iC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yb(r,o);const u=(function(y){if(y.length!==0)return Eb(Yn.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:io(S.field),direction:aC(S.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Hm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function rC(r){let e=WN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(w){const S=vb(w);return S instanceof Yn&&YT(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(U){return new iu(ro(U.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let S;return S=typeof w=="object"?w.value:w,Bh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(w){const S=!!w.before,M=w.values||[];return new Eh(M,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const S=!w.before,M=w.values||[];return new Eh(M,S)})(n.endAt)),wN(e,o,f,u,m,"F",g,y)}function sC(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return bt.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Yn.create(n.compositeFilter.filters.map((s=>vb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function aC(r){return $N[r]}function oC(r){return KN[r]}function lC(r){return YN[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Gt.fromServerFormat(r.fieldPath)}function Eb(r){return r instanceof bt?(function(n){if(n.op==="=="){if(Av(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Av(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:oC(n.op),value:n.value}}})(r):r instanceof Yn?(function(n){const s=n.getFilters().map((o=>Eb(o)));return s.length===1?s[0]:{compositeFilter:{op:lC(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function uC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Tb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.yt=e}}function hC(r){const e=rC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.Cn=new dC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(ns.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class dC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bb=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(bb,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="LruGarbageCollector",mC=1048576;function zv([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class gC{constructor(e){this.Ir=e,this.buffer=new Ct(zv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();zv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(jv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?he(jv,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)}))}}class yC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(zh.ce);const s=new gC(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Uv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(y=Date.now(),to()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function _C(r,e){return new yC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.changes=new sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Yl(s.mutation,o,Gn.empty(),nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Me()){const o=Ks();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ks();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Me())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=fr();const f=Kl(),m=(function(){return Kl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof aa)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Yl(E.mutation,y,E.mutation.getFieldMask(),nt.now())):f.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new EC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Kl();let o=new ot(((f,m)=>f-m)),u=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Gn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const w=(o.get(m.batchId)||Me()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,w=rb();E.forEach((S=>{if(!u.has(S)){const M=cb(n.get(S),s.get(S));M!==null&&w.set(S,M),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Ks());let m=Jl,g=u;return f.next((y=>ee.forEach(y,((E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((S=>{g=g.insert(E,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Me()))).next((E=>({batchId:m,changes:ib(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(g=>{const y=(function(w,S){return new xo(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Yl(E.mutation,y,Gn.empty(),nt.now()),Fh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ti(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:hC(o.bundledQuery),readTime:Ti(o.readTime)}})(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.overlays=new ot(ge.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ks();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Ks(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ks(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ks(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new BN(n,s));let u=this.qr.get(n);u===void 0&&(u=Me(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.Qr=new Ct(Lt.$r),this.Ur=new Ct(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new tt([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Me();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Lt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Oe(e.Yr,n.Yr)}static Kr(e,n){return Oe(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Lt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new zN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ag:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(Oe);return n.forEach((o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ge(u),0);let m=new Ct(Oe);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){He(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.ri=e,this.docs=(function(){return new ot(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||tN(eN(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new RC(this)}getSize(e){return ee.resolve(this.size)}}class RC extends vC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.persistence=e,this.si=new sa((n=>Rg(n)),Ig),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Vg,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new AC,this.referenceDelegate=e(this),this.Pi=new IC(this),this.indexManager=new fC,this.remoteDocumentCache=(function(o){return new xC(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new cC(n),this.Ii=new bC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new SC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new NC(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class NC extends iN{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new Vg,this.Vi=null}static mi(e){return new Pg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.pi=new sa((s=>aN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=_C(this,n)}static mi(e,n){return new Ah(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Ae.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Me(),o=Me();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Lg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ax()?8:rN(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new CC;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(to()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(to()<=ke.DEBUG&&he("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(to()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(n))):ee.resolve())}ys(e,n){if(Iv(n))return ee.resolve(null);let s=Ei(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=qm(n,null,"F"),s=Ei(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Me(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return Iv(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(to()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.vs(e,f,n,JI(o,Jl)).next((m=>m)))}))}Ds(e,n){let s=new Ct(tb(e));return n.forEach(((o,u)=>{Fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return to()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,ns.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="LocalStore",kC=3e8;class OC{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ot(Oe),this.xs=new sa((u=>Rg(u)),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function MC(r,e,n,s){return new OC(r,e,n,s)}async function Ab(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Me();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function VC(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const w=y.batch,S=w.keys();let M=ee.resolve();return S.forEach((U=>{M=M.next((()=>E.getEntry(g,U))).next((Q=>{const H=y.docVersions.get(U);He(H!==null,48541),Q.version.compareTo(H)<0&&(w.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Me();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Sb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function PC(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w))));let M=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?M=M.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(w,M),(function(Q,H,X){return Q.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=kC?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(S,M,E)&&m.push(n.Pi.updateTargetData(u,M))}));let g=fr(),y=Me();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(LC(u,f,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function LC(r,e,n){let s=Me(),o=Me();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=fr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):he(Ug,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function UC(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Ag),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function jC(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Kr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function $m(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!So(f))throw f;he(Ug,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function Bv(r,e,n){const s=Se(r);let o=Ae.min(),u=Me();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const w=Se(g),S=w.xs.get(E);return S!==void 0?ee.resolve(w.Ms.get(S)):w.Pi.getTargetData(y,E)})(s,f,Ei(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Me()))).next((m=>(zC(s,SN(e),m),{documents:m,Qs:u})))))}function zC(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class qv{constructor(){this.activeTargetIds=DN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BC{constructor(){this.Mo=new qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv="ConnectivityMonitor";class Fv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(Hv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(Hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc=null;function Km(){return Kc===null?Kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Kc++,"0x"+Kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",HC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===_h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Km(),m=this.zo(e,n.toUriEncodedString());he(_m,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=na(y);return this.Jo(e,m,g,s,E).then((w=>(he(_m,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw fo(_m,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=HC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class QC extends FC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Km();return new Promise(((m,g)=>{const y=new IT;y.setWithCredentials(!0),y.listenOnce(NT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const w=y.getResponseJson();he(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case nh.TIMEOUT:he(Xt,`RPC '${e}' ${f} timed out`),g(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=y.getStatus();if(he(Xt,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const U=M?.error;if(U&&U.status&&U.message){const Q=(function(X){const ue=X.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ue)>=0?ue:W.UNKNOWN})(U.status);g(new ce(Q,U.message))}else g(new ce(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ce(W.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);he(Xt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=kT(),m=DT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");he(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);this.I_(w);let S=!1,M=!1;const U=new GC({Yo:H=>{M?he(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(S||(he(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),he(Xt,`RPC '${e}' stream ${o} sending:`,H),w.send(H))},Zo:()=>w.close()}),Q=(H,X,ue)=>{H.listen(X,(se=>{try{ue(se)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return Q(w,zl.EventType.OPEN,(()=>{M||(he(Xt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),Q(w,zl.EventType.CLOSE,(()=>{M||(M=!0,he(Xt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(w))})),Q(w,zl.EventType.ERROR,(H=>{M||(M=!0,fo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),U.a_(new ce(W.UNAVAILABLE,"The operation could not be completed")))})),Q(w,zl.EventType.MESSAGE,(H=>{if(!M){const X=H.data[0];He(!!X,16349);const ue=X,se=ue?.error||ue[0]?.error;if(se){he(Xt,`RPC '${e}' stream ${o} received error:`,se);const ne=se.status;let re=(function(x){const R=Et[x];if(R!==void 0)return fb(R)})(ne),ye=se.message;re===void 0&&(re=W.INTERNAL,ye="Unknown error status: "+ne+" with message "+se.message),M=!0,U.a_(new ce(re,ye)),w.close()}else he(Xt,`RPC '${e}' stream ${o} received:`,X),U.u_(X)}})),Q(m,CT.STAT_EVENT,(H=>{H.stat===Vm.PROXY?he(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===Vm.NOPROXY&&he(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){return new XN(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="PersistentStream";class Rb{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ce(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(Gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(Gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $C extends Rb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=JN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?Ti(f.readTime):Ae.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=zm(g)?{documents:nC(u,g)}:{query:iC(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=gb(u,f.resumeToken);const y=Hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=wh(u,f.snapshotVersion.toTimestamp());const y=Hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=sC(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class KC extends Rb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tC(e.writeResults,e.commitTime),s=Ti(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>eC(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{}class XC extends YC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Fm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Fm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="RemoteStore";class WC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{oa(this)&&(he(ta,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Yh(y)})(this))}))})),this.Ra=new ZC(s,o)}}async function Yh(r){if(oa(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function Ib(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qg(n)?Bg(n):Ro(n).O_()&&zg(n,e))}function jg(r,e){const n=Se(r),s=Ro(n);n.Ia.delete(e),s.O_()&&Nb(n,e),n.Ia.size===0&&(s.O_()?s.L_():oa(n)&&n.Ra.set("Unknown"))}function zg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(r).Y_(e)}function Nb(r,e){r.Va.Ue(e),Ro(r).Z_(e)}function Bg(r){r.Va=new QN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.Ra.ua()}function qg(r){return oa(r)&&!Ro(r).x_()&&r.Ia.size>0}function oa(r){return Se(r).Ea.size===0}function Cb(r){r.Va=void 0}async function JC(r){r.Ra.set("Online")}async function eD(r){r.Ia.forEach(((e,n)=>{zg(r,e)}))}async function tD(r,e){Cb(r),qg(r)?(r.Ra.ha(e),Bg(r)):r.Ra.set("Unknown")}async function nD(r,e,n){if(r.Ra.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){he(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof ah?r.Va.Ze(e):e instanceof db?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await Sb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),Nb(u,g);const w=new Kr(E.target,g,y,E.sequenceNumber);zg(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ta,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!So(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>Sb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ta,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Yh(r)}))}function Db(r,e){return e().catch((n=>Sh(r,n,e)))}async function Xh(r){const e=Se(r),n=as(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ag;for(;iD(e);)try{const o=await UC(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,rD(e,o)}catch(o){await Sh(e,o)}kb(e)&&Ob(e)}function iD(r){return oa(r)&&r.Ta.length<10}function rD(r,e){r.Ta.push(e);const n=as(r);n.O_()&&n.X_&&n.ea(e.mutations)}function kb(r){return oa(r)&&!as(r).x_()&&r.Ta.length>0}function Ob(r){as(r).start()}async function sD(r){as(r).ra()}async function aD(r){const e=as(r);for(const n of r.Ta)e.ea(n.mutations)}async function oD(r,e,n){const s=r.Ta.shift(),o=kg.from(s,e,n);await Db(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Xh(r)}async function lD(r,e){e&&as(r).X_&&await(async function(s,o){if((function(f){return HN(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();as(s).B_(),await Db(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Xh(s)}})(r,e),kb(r)&&Ob(r)}async function Qv(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),he(ta,"RemoteStore received new credentials");const s=oa(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yh(n)}async function uD(r,e){const n=Se(r);e?(n.Ea.delete(2),await Yh(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function Ro(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new $C(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:JC.bind(null,r),t_:eD.bind(null,r),r_:tD.bind(null,r),H_:nD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),qg(r)?Bg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Cb(r))}))),r.ma}function as(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new KC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:sD.bind(null,r),r_:lD.bind(null,r),ta:aD.bind(null,r),na:oD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Xh(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Hg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(r,e){if(cr("AsyncQueue",`${e}: ${r}`),So(r))return new ce(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.ga=new ot(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hD{constructor(){this.queries=Kv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=Kv(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function Kv(){return new sa((r=>eb(r)),Hh)}async function Mb(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new cD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Fg(f,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gg(n)}async function Vb(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function fD(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Gg(n)}function dD(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Gg(r){r.Ca.forEach((e=>{e.next()}))}var Ym,Yv;(Yv=Ym||(Ym={})).Ma="default",Yv.Cache="cache";class Pb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class mD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Me(),this.mutatedKeys=Me(),this.eu=tb(e),this.tu=new uo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new $v,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,w)=>{const S=o.get(E),M=Fh(this.query,w)?w:null,U=!!S&&this.mutatedKeys.has(S.key),Q=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let H=!1;S&&M?S.data.isEqual(M.data)?U!==Q&&(s.track({type:3,doc:M}),H=!0):this.su(S,M)||(s.track({type:2,doc:M}),H=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(m=!0)):!S&&M?(s.track({type:0,doc:M}),H=!0):S&&!M&&(s.track({type:1,doc:S}),H=!0,(g||y)&&(m=!0)),H&&(M?(f=f.add(M),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,w)=>(function(M,U){const Q=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:H})}};return Q(M)-Q(U)})(E.type,w.type)||this.eu(E.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Me(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Ub(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Lb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qg="SyncEngine";class gD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class pD{constructor(e){this.key=e,this.hu=!1}}class yD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((m=>eb(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ge.comparator),this.Au=new Map,this.Ru=new Vg,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _D(r,e,n=!0){const s=Fb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jb(s,e,n,!0),o}async function vD(r,e){const n=Fb(r);await jb(n,e,!0,!1)}async function jb(r,e,n,s){const o=await jC(r.localStore,Ei(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ED(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Ib(r.remoteStore,o),m}async function ED(r,e,n,s,o){r.pu=(w,S,M)=>(async function(Q,H,X,ue){let se=H.view.ru(X);se.Cs&&(se=await Bv(Q.localStore,H.query,!1).then((({documents:k})=>H.view.ru(k,se))));const ne=ue&&ue.targetChanges.get(H.targetId),re=ue&&ue.targetMismatches.get(H.targetId)!=null,ye=H.view.applyChanges(se,Q.isPrimaryClient,ne,re);return Zv(Q,H.targetId,ye.au),ye.snapshot})(r,w,S,M);const u=await Bv(r.localStore,e,!0),f=new mD(e,u.Qs),m=f.ru(u.documents),g=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);Zv(r,n,y.au);const E=new gD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function TD(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await $m(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jg(s.remoteStore,o.targetId),Xm(s,o.targetId)})).catch(Ao)):(Xm(s,o.targetId),await $m(s.localStore,o.targetId,!0))}async function bD(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jg(n.remoteStore,s.targetId))}async function wD(r,e,n){const s=CD(r);try{const o=await(function(f,m){const g=Se(f),y=nt.now(),E=m.reduce(((M,U)=>M.add(U.key)),Me());let w,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let U=fr(),Q=Me();return g.Ns.getEntries(M,E).next((H=>{U=H,U.forEach(((X,ue)=>{ue.isValidDocument()||(Q=Q.add(X))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,U))).next((H=>{w=H;const X=[];for(const ue of m){const se=UN(ue,w.get(ue.key).overlayedDocument);se!=null&&X.push(new aa(ue.key,se,QT(se.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,X,m)})).next((H=>{S=H;const X=H.applyToLocalDocumentSet(w,Q);return g.documentOverlayCache.saveOverlays(M,H.batchId,X)}))})).then((()=>({batchId:S.batchId,changes:ib(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ot(Oe)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await yu(s,o.changes),await Xh(s.remoteStore)}catch(o){const u=Fg(o,"Failed to persist write");n.reject(u)}}async function zb(r,e){const n=Se(r);try{const s=await PC(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?He(f.hu,14607):o.removedDocuments.size>0&&(He(f.hu,42227),f.hu=!1))})),await yu(n,s,e)}catch(s){await Ao(s)}}function Xv(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Se(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,w)=>{for(const S of w.Sa)S.va(m)&&(y=!0)})),y&&Gg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AD(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ot(ge.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=Me().add(u),g=new $h(Ae.min(),new Map,new ot(Oe),f,m);await zb(s,g),s.du=s.du.remove(u),s.Au.delete(e),$g(s)}else await $m(s.localStore,e,!1).then((()=>Xm(s,e,n))).catch(Ao)}async function SD(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await VC(n.localStore,e);qb(n,s,null),Bb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await Ao(o)}}async function xD(r,e,n){const s=Se(r);try{const o=await(function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((w=>(He(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);qb(s,e,n),Bb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await Ao(o)}}function Bb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function qb(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Xm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Hb(r,s)}))}function Hb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(jg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),$g(r))}function Zv(r,e,n){for(const s of n)s instanceof Lb?(r.Ru.addReference(s.key,e),RD(r,s)):s instanceof Ub?(he(Qg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Hb(r,s.key)):Ee(19791,{wu:s})}function RD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(he(Qg,"New document in limbo: "+n),r.Eu.add(s),$g(r))}function $g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new pD(n)),r.du=r.du.insert(n,s),Ib(r.remoteStore,new Kr(Ei(Ng(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function yu(r,e,n){const s=Se(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Lg.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=Se(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ee.forEach(y,(S=>ee.forEach(S.Es,(M=>E.persistence.referenceDelegate.addReference(w,S.targetId,M))).next((()=>ee.forEach(S.ds,(M=>E.persistence.referenceDelegate.removeReference(w,S.targetId,M)))))))))}catch(w){if(!So(w))throw w;he(Ug,"Failed to update sequence numbers: "+w)}for(const w of y){const S=w.targetId;if(!w.fromCache){const M=E.Ms.get(S),U=M.snapshotVersion,Q=M.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(S,Q)}}})(s.localStore,u))}async function ID(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){he(Qg,"User change. New user:",e.toKey());const s=await Ab(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ce(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Ls)}}function ND(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Me().add(s.key);{let o=Me();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Fb(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ND.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AD.bind(null,e),e.Pu.H_=fD.bind(null,e.eventManager),e.Pu.yu=dD.bind(null,e.eventManager),e}function CD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MC(this.persistence,new DC,e.initialUser,this.serializer)}Cu(e){return new wb(Pg.mi,this.serializer)}Du(e){return new BC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class DD extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof Ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new pC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new wb((s=>Ah.mi(s,n)),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Xv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await uD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hD})()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=(function(u){return new QC(u)})(e.databaseInfo);return(function(u,f,m,g){return new XC(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new WC(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Xv(this.syncEngine,n,0)),(function(){return Fv.v()?new Fv:new qC})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const w=new yD(o,u,f,m,g,y);return E&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);he(ta,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class kD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(os,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(os,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Em(r,e){r.asyncQueue.verifyOperationInProgress(),he(os,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Wv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await OD(r);he(os,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Qv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>Qv(e.remoteStore,o))),r._onlineComponents=e}async function OD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(os,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new xh)}}else he(os,"Using default OfflineComponentProvider"),await Em(r,new DD(void 0));return r._offlineComponents}async function Qb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(os,"Using user provided OnlineComponentProvider"),await Wv(r,r._uninitializedComponentsProvider._online)):(he(os,"Using default OnlineComponentProvider"),await Wv(r,new Zm))),r._onlineComponents}function MD(r){return Qb(r).then((e=>e.syncEngine))}async function $b(r){const e=await Qb(r),n=e.eventManager;return n.onListen=_D.bind(null,e.syncEngine),n.onUnlisten=TD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bD.bind(null,e.syncEngine),n}function VD(r,e,n={}){const s=new sr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new Gb({next:S=>{E.Nu(),f.enqueueAndForget((()=>Vb(u,w)));const M=S.docs.has(m);!M&&S.fromCache?y.reject(new ce(W.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&g&&g.source==="server"?y.reject(new ce(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new Pb(Ng(m.path),E,{includeMetadataChanges:!0,qa:!0});return Mb(u,w)})(await $b(r),r.asyncQueue,e,n,s))),s.promise}function PD(r,e,n={}){const s=new sr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new Gb({next:S=>{E.Nu(),f.enqueueAndForget((()=>Vb(u,w))),S.fromCache&&g.source==="server"?y.reject(new ce(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),w=new Pb(m,E,{includeMetadataChanges:!0,qa:!0});return Mb(u,w)})(await $b(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firestore.googleapis.com",eE=!0;class tE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yb,this.ssl=eE}else this.host=e.host,this.ssl=e.ssl??eE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mC)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new qI;switch(s.type){case"firstParty":return new QI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Jv.get(n);s&&(he("ComponentProvider","Removing Datastore"),Jv.delete(n),s.terminate())})(this),Promise.resolve()}}function LD(r,e,n,s={}){r=hr(r,Zh);const o=na(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(lg(`https://${m}`),ug("Firestore",!0)),u.host!==Yb&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Zs(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Zt.MOCK_USER;else{y=FE(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(w)}r._authCredentials=new HI(new MT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(du(n,At._jsonSchema))return new At(e,s||null,new ge(tt.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:wt("string",At._jsonSchemaVersion),referencePath:wt("string")};class es extends la{constructor(e,n,s){super(e,n,Ng(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ge(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function vn(r,e,...n){if(r=En(r),VT("collection","path",e),r instanceof Zh){const s=tt.fromString(e,...n);return mv(s),new es(r,null,s)}{if(!(r instanceof At||r instanceof es))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return mv(s),new es(r.firestore,null,s)}}function Yr(r,e,...n){if(r=En(r),arguments.length===1&&(e=wg.newId()),VT("doc","path",e),r instanceof Zh){const s=tt.fromString(e,...n);return dv(s),new At(r,null,new ge(s))}{if(!(r instanceof At||r instanceof es))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return dv(s),new At(r.firestore,r instanceof es?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="AsyncQueue";class iE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xb(this,"async_queue_retry"),this._c=()=>{const s=vm();s&&he(nE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new sr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;he(nE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",rE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:rE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Io extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new iE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iE(e),this._firestoreClient=void 0,await e}}}function UD(r,e){const n=typeof r=="object"?r:fg(),s=typeof r=="string"?r:_h,o=Ph(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=BE("firestore");u&&LD(o,...u)}return o}function Kg(r){if(r._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jD(r),r._firestoreClient}function jD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new uN(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Kb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new kD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Qt.fromBase64String(e))}catch(n){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(du(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:wt("string",Vn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(du(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:wt("string",bi._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(du(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new wi(e.vectorValues);throw new ce(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:wt("string",wi._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^__.*__$/;class BD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}function Zb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Xg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Zb(this.Ac)&&zD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}Cc(e,n,s,o=!1){return new Xg({Ac:e,methodName:n,Dc:s,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zg(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new qD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Wb(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);t1("Data must be an object, but it was:",f,s);const m=Jb(s,f);let g,y;if(u.merge)g=new Gn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const S=FD(e,w,n);if(!f.contains(S))throw new ce(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);QD(E,S)||E.push(S)}g=new Gn(E),y=f.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=f.fieldTransforms;return new BD(new Mn(m),g,y)}function HD(r,e,n,s=!1){return Wg(n,r.Cc(s?4:3,e))}function Wg(r,e){if(e1(r=En(r)))return t1("Unsupported field value:",e,r),Jb(r,e);if(r instanceof Xb)return(function(s,o){if(!Zb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=Wg(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=En(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return kN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=nt.fromDate(s);return{timestampValue:wh(o.serializer,u)}}if(s instanceof nt){const u=new nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:wh(o.serializer,u)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:gb(o.serializer,s._byteString)};if(s instanceof At){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return(function(f,m){return{mapValue:{fields:{[FT]:{stringValue:GT},[vh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cg(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jh(s)}`)})(r,e)}function Jb(r,e){const n={};return UT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(r,((s,o)=>{const u=Wg(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function e1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof nt||r instanceof bi||r instanceof Vn||r instanceof At||r instanceof Xb||r instanceof wi)}function t1(r,e,n){if(!e1(n)||!PT(n)){const s=jh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function FD(r,e,n){if((e=En(e))instanceof Yg)return e._internalPath;if(typeof e=="string")return n1(r,e);throw Rh("Field path arguments must be of type string or ",r,!1,void 0,n)}const GD=new RegExp("[~\\*/\\[\\]]");function n1(r,e,n){if(e.search(GD)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yg(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ce(W.INVALID_ARGUMENT,m+r+g)}function QD(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $D extends i1{data(){return super.data()}}function Wh(r,e){return typeof e=="string"?n1(r,e):e instanceof Yg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jg{}class r1 extends Jg{}function dr(r,e,...n){let s=[];e instanceof Jg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof ep)).length,m=u.filter((g=>g instanceof Jh)).length;if(f>1||f>0&&m>0)throw new ce(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Jh extends r1{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Jh(e,n,s)}_apply(e){const n=this._parse(e);return s1(e._query,n),new la(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=Zg(e.firestore);return(function(u,f,m,g,y,E,w){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ce(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){aE(w,E);const U=[];for(const Q of w)U.push(sE(g,u,Q));S={arrayValue:{values:U}}}else S=sE(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||aE(w,E),S=HD(m,f,w,E==="in"||E==="not-in");return bt.create(y,E,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Si(r,e,n){const s=e,o=Wh("where",r);return Jh._create(o,s,n)}class ep extends Jg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ep(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)s1(f,g),f=Bm(f,g)})(e._query,n),new la(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tp extends r1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ce(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,f)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new xo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ls(r,e="asc"){const n=e,s=Wh("orderBy",r);return tp._create(s,n)}function sE(r,e,n){if(typeof(n=En(n))=="string"){if(n==="")throw new ce(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JT(e)&&n.indexOf("/")!==-1)throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ge.isDocumentKey(s))throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bv(r,new ge(s))}if(n instanceof At)return bv(r,n._key);throw new ce(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function aE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function s1(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YD{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ra(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[vh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new wi(n)}convertGeoPoint(e){return new bi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=is(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);He(Tb(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends i1{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Wh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:wt("string",Xs._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class oh extends Xs{data(e={}){return super.data(e)}}class co{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new oh(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:XD(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r){r=hr(r,At);const e=hr(r.firestore,Io);return VD(Kg(e),r._key).then((n=>WD(e,r,n)))}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:wt("string",co._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class o1 extends YD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Xn(r){r=hr(r,la);const e=hr(r.firestore,Io),n=Kg(e),s=new o1(e);return KD(r._query),PD(n,r._query).then((o=>new co(e,s,r,o)))}function oE(r,e,n){r=hr(r,At);const s=hr(r.firestore,Io),o=a1(r.converter,e,n);return np(s,[Wb(Zg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,$n.none())])}function ZD(r){return np(hr(r.firestore,Io),[new Dg(r._key,$n.none())])}function l1(r,e){const n=hr(r.firestore,Io),s=Yr(r),o=a1(r.converter,e);return np(n,[Wb(Zg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then((()=>s))}function np(r,e){return(function(s,o){const u=new sr;return s.asyncQueue.enqueueAndForget((async()=>wD(await MD(s),o,u))),u.promise})(Kg(r),e)}function WD(r,e,n){const s=n.docs.get(e._key),o=new o1(r);return new Xs(r,o,e._key,s,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){wo=o})(ia),Ws(new ts("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Io(new FI(s.getProvider("auth-internal")),new $I(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),yi(uv,cv,e),yi(uv,cv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebasestorage.googleapis.com",JD="storageBucket",e4=120*1e3,t4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ii{constructor(e,n,s=0){super(Tm(e),`Firebase Storage: ${n} (${Tm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xi||(xi={}));function Tm(r){return"storage/"+r}function n4(){const r="An unknown error occurred, please check the error payload for server response.";return new Ni(xi.UNKNOWN,r)}function i4(){return new Ni(xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r4(){return new Ni(xi.CANCELED,"User canceled the upload/download.")}function s4(r){return new Ni(xi.INVALID_URL,"Invalid URL '"+r+"'.")}function a4(r){return new Ni(xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function lE(r){return new Ni(xi.INVALID_ARGUMENT,r)}function c1(){return new Ni(xi.APP_DELETED,"The Firebase app was deleted.")}function o4(r){return new Ni(xi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Qn.makeFromUrl(e,n)}catch{return new Qn(e,"")}if(s.path==="")return s;throw a4(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ne){ne.path_=decodeURIComponent(ne.path)}const E="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",M=new RegExp(`^https?://${w}/${E}/b/${o}/o${S}`,"i"),U={bucket:1,path:3},Q=n===u1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,H="([^?#]*)",X=new RegExp(`^https?://${Q}/${o}/${H}`,"i"),se=[{regex:m,indices:g,postModify:u},{regex:M,indices:U,postModify:y},{regex:X,indices:{bucket:1,path:2},postModify:y}];for(let ne=0;ne<se.length;ne++){const re=se[ne],ye=re.regex.exec(e);if(ye){const k=ye[re.indices.bucket];let x=ye[re.indices.path];x||(x=""),s=new Qn(k,x),re.postModify(s);break}}if(s==null)throw s4(e);return s}}class l4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(r,e,n){let s=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let y=!1;function E(...H){y||(y=!0,e.apply(null,H))}function w(H){o=setTimeout(()=>{o=null,r(M,g())},H)}function S(){u&&clearTimeout(u)}function M(H,...X){if(y){S();return}if(H){S(),E.call(null,H,...X);return}if(g()||f){S(),E.call(null,H,...X);return}s<64&&(s*=2);let se;m===1?(m=2,se=0):se=(s+Math.random())*1e3,w(se)}let U=!1;function Q(H){U||(U=!0,S(),!y&&(o!==null?(H||(m=2),clearTimeout(o),w(0)):H||(m=1)))}return w(0),u=setTimeout(()=>{f=!0,Q(!0)},n),Q}function c4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(r){return r!==void 0}function uE(r,e,n,s){if(s<e)throw lE(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw lE(`Invalid value for '${r}'. Expected ${n} or less.`)}function f4(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Nh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Nh||(Nh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,s,o,u,f,m,g,y,E,w,S=!0,M=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,Q)=>{this.resolve_=U,this.reject_=Q,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Yc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Nh.NO_ERROR,g=u.getStatus();if(!m||d4(g,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Nh.ABORT;s(!1,new Yc(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Yc(y,u))})},n=(s,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());h4(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=n4();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?c1():r4();f(g)}else{const g=i4();f(g)}};this.canceled_?n(!1,new Yc(!1,null,!0)):this.backoffId_=u4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function g4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function p4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function _4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function v4(r,e,n,s,o,u,f=!0,m=!1){const g=f4(r.urlParams),y=r.url+g,E=Object.assign({},r.headers);return y4(E,e),g4(E,n),p4(E,u),_4(E,s),new m4(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function T4(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this._service=e,n instanceof Qn?this._location=n:this._location=Qn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ch(e,n)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T4(this._location.path)}get storage(){return this._service}get parent(){const e=E4(this._location.path);if(e===null)return null;const n=new Qn(this._location.bucket,e);return new Ch(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw o4(e)}}function cE(r,e){const n=e?.[JD];return n==null?null:Qn.makeFromBucketSpec(n,r)}function b4(r,e,n,s={}){r.host=`${e}:${n}`;const o=na(e);o&&(lg(`https://${r.host}/b`),ug("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:FE(u,r.app.options.projectId))}class w4{constructor(e,n,s,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=u1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e4,this._maxUploadRetryTime=t4,this._requests=new Set,o!=null?this._bucket=Qn.makeFromBucketSpec(o,this._host):this._bucket=cE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=cE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ch(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new l4(c1());{const f=v4(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const hE="@firebase/storage",fE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="storage";function A4(r=fg(),e){r=En(r);const s=Ph(r,h1).getImmediate({identifier:e}),o=BE("storage");return o&&S4(s,...o),s}function S4(r,e,n,s={}){b4(r,e,n,s)}function x4(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new w4(n,s,o,e,ia)}function R4(){Ws(new ts(h1,x4,"PUBLIC").setMultipleInstances(!0)),yi(hE,fE,""),yi(hE,fE,"esm2020")}R4();const I4={apiKey:"AIzaSyBT6FX2xPNhiWFT-RK1u-vTvHbUKOhUmUE",authDomain:"be-water-2eb26.firebaseapp.com",projectId:"be-water-2eb26",storageBucket:"be-water-2eb26.appspot.com",messagingSenderId:"358939922854",appId:"1:358939922854:web:abc123def456"},ip=$E(I4);zI(ip);const Tt=UD(ip);A4(ip);const N4=({position:r="top"})=>{const[e,n]=B.useState(""),[s,o]=B.useState(!0);B.useEffect(()=>{u()},[]);const u=async()=>{try{const g=vn(Tt,"motivationalMessages"),y=await Xn(g),E=[];if(y.forEach(w=>{const S=w.data();S.isActive&&E.push(S.text)}),E.length>0){const w=Math.floor(Math.random()*E.length);n(E[w])}else{const w=["La forza non viene dalla capacità fisica. Viene da una volontà indomabile. 💪","Ogni campione è stato una volta un principiante che non si è mai arreso. 🏆","Il successo è dove la preparazione e l'opportunità si incontrano. ⭐","La mente è tutto. Ciò che pensi, diventi. 🧠","Non smettere mai di credere in te stesso. Sei più forte di quanto pensi. 🚀","Oggi è il giorno perfetto per superare i tuoi limiti. 🌟","La disciplina è il ponte tra obiettivi e risultati. 🎯"],S=Math.floor(Math.random()*w.length);n(w[S])}}catch(g){console.error("Errore nel caricamento messaggio motivazionale:",g),n("Ogni passo ti avvicina ai tuoi obiettivi. Continua così! 🌟")}finally{o(!1)}};if(s||!e)return null;const f=()=>{const g=[JS,jS,PE],y=g[Math.floor(Math.random()*g.length)];return T.jsx(y,{className:"h-5 w-5 text-yellow-500"})},m={top:"mb-6",bottom:"mt-6",inline:"my-4"};return T.jsx("div",{className:`${m[r]}`,children:T.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:T.jsxs("div",{className:"flex items-start space-x-3",children:[T.jsx("div",{className:"flex-shrink-0 mt-1",children:f()}),T.jsx("div",{className:"flex-1",children:T.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 leading-relaxed",children:e})})]})})})},C4=()=>{const r=us(),[e,n]=B.useState([]),[s,o]=B.useState(!0),[u,f]=B.useState([]),[m,g]=B.useState("all");B.useEffect(()=>{(async()=>{try{let S=dr(vn(Tt,"exercises"),Si("isPublished","==",!0),ls("order","asc")),M=await Xn(S),U=[];M.forEach(H=>{U.push({id:H.id,...H.data()})}),U.length===0&&(S=dr(vn(Tt,"exercises"),Si("isPublished","==",!0)),M=await Xn(S),M.forEach(H=>{U.push({id:H.id,...H.data()})})),U.length===0&&(U=[{id:"1",title:"Il Diario degli Errori",description:"Trasforma ogni errore in una lezione che ti rende più forte",category:"Mentalità",duration:"15 min",difficulty:"Intermedio",thumbnail:null,isPublished:!0},{id:"2",title:"Respirazione Consapevole",description:"Tecniche di respirazione per rilassare mente e corpo",category:"Rilassamento",duration:"10 min",difficulty:"Principiante",thumbnail:null,isPublished:!0},{id:"3",title:"Visualizzazione del Successo",description:"Immagina e raggiungi i tuoi obiettivi sportivi",category:"Visualizzazione",duration:"20 min",difficulty:"Avanzato",thumbnail:null,isPublished:!0}]),n(U);const Q=[...new Set(U.map(H=>H.category||"Generale"))];f(Q)}catch(S){console.error("Errore nel caricamento degli esercizi:",S),n([{id:"1",title:"Il Diario degli Errori",description:"Trasforma ogni errore in una lezione che ti rende più forte",category:"Mentalità",duration:"15 min",difficulty:"Intermedio"}]),f(["Mentalità"])}finally{o(!1)}})()},[]);const y=m==="all"?e:e.filter(w=>w.category===m),E=w=>{switch(w?.toLowerCase()){case"principiante":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"intermedio":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/20 dark:text-yellow-400";case"avanzato":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700 dark:text-gray-300"}};return s?T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[T.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:T.jsxs("div",{className:"px-4 py-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Esercizi di Mentalità"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Sviluppa la tua forza mentale con i nostri esercizi guidati"})]})}),T.jsxs("div",{className:"px-4 py-6",children:[T.jsx(N4,{position:"top"}),u.length>0&&T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m==="all"?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Tutti"}),u.map(w=>T.jsx("button",{onClick:()=>g(w),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m===w?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:w},w))]})}),T.jsx("div",{className:"space-y-4",children:y.length>0?y.map(w=>T.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden",onClick:()=>r(`/exercises/${w.id}`),children:T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[T.jsx("span",{className:"text-sm font-medium text-blue-500 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 px-2 py-1 rounded-full",children:w.category||"Generale"}),w.difficulty&&T.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${E(w.difficulty)}`,children:w.difficulty})]}),T.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:w.title}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2",children:w.description}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[w.duration&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Mh,{className:"h-4 w-4"}),T.jsx("span",{children:w.duration})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(tx,{className:"h-4 w-4 fill-current text-yellow-400"}),T.jsx("span",{children:"4.8"})]})]})]}),T.jsx("button",{className:"ml-4 p-3 bg-blue-500 hover:bg-blue-600 text-white rounded-full transition-colors",children:T.jsx(Xr,{className:"h-5 w-5"})})]})})},w.id)):T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:T.jsx(Xr,{className:"h-16 w-16 mx-auto opacity-50"})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nessun esercizio trovato"}),T.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m==="all"?"Non ci sono esercizi disponibili al momento":`Non ci sono esercizi nella categoria "${m}"`})]})})]})]})},D4=()=>{const r=us(),[e,n]=B.useState([]),[s,o]=B.useState(!0),[u,f]=B.useState([]),[m,g]=B.useState("all");B.useEffect(()=>{(async()=>{try{let w=dr(vn(Tt,"appVideos"),Si("isPublished","==",!0),ls("order","asc")),S=await Xn(w),M=[];S.forEach(Q=>{M.push({id:Q.id,...Q.data()})}),M.length===0&&(w=dr(vn(Tt,"videos"),Si("isPublished","==",!0),ls("createdAt","desc")),S=await Xn(w),S.forEach(Q=>{M.push({id:Q.id,...Q.data()})})),M.length===0&&(M=[{id:"1",title:"Tecniche di Respirazione per Atleti",description:"Impara le tecniche di respirazione per migliorare concentrazione e performance",category:"Respirazione",duration:"8:30",youtubeUrl:"https://www.youtube.com/watch?v=example1",thumbnail:"/mentalita-app/icon-192.png",isPublished:!0},{id:"2",title:"Visualizzazione Prima della Gara",description:"Come utilizzare la visualizzazione mentale per prepararsi alle competizioni",category:"Visualizzazione",duration:"12:15",youtubeUrl:"https://www.youtube.com/watch?v=example2",thumbnail:"/mentalita-app/icon-192.png",isPublished:!0}]),n(M);const U=[...new Set(M.map(Q=>Q.category||"Generale"))];f(U)}catch(w){console.error("Errore nel caricamento dei video:",w),n([{id:"1",title:"Tecniche di Respirazione per Atleti",description:"Impara le tecniche di respirazione per migliorare concentrazione e performance",category:"Respirazione",duration:"8:30"}]),f(["Respirazione"])}finally{o(!1)}})()},[]);const y=m==="all"?e:e.filter(E=>E.category===m);return s?T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:T.jsxs("div",{className:"px-4 py-6",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Video Formativi"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Contenuti video per migliorare la tua preparazione mentale"})]}),u.length>0&&T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m==="all"?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Tutti"}),u.map(E=>T.jsx("button",{onClick:()=>g(E),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m===E?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E},E))]})}),T.jsx("div",{className:"space-y-4",children:y.length>0?y.map(E=>T.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden",onClick:()=>r(`/videos/${E.id}`),children:T.jsxs("div",{className:"flex",children:[T.jsxs("div",{className:"relative w-32 h-24 bg-gray-200 dark:bg-gray-700 flex-shrink-0",children:[T.jsx("img",{src:E.thumbnail||"/mentalita-app/icon-192.png",alt:E.title,className:"w-full h-full object-cover"}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-30",children:T.jsx(Xr,{className:"text-white",size:28})}),E.duration&&T.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs px-2 py-1 rounded",children:E.duration})]}),T.jsx("div",{className:"flex-1 p-4",children:T.jsx("div",{className:"flex items-start justify-between",children:T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"flex items-center gap-2 mb-2",children:T.jsx("span",{className:"text-sm font-medium text-blue-500 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 px-2 py-1 rounded-full",children:E.category||"Generale"})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:E.title}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-3 line-clamp-2",children:E.description}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[E.duration&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Mh,{className:"h-4 w-4"}),T.jsx("span",{children:E.duration})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(xm,{className:"h-4 w-4"}),T.jsx("span",{children:"Video"})]})]})]})})})]})},E.id)):T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:T.jsx(xm,{className:"h-16 w-16 mx-auto opacity-50"})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nessun video trovato"}),T.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m==="all"?"Non ci sono video disponibili al momento":`Non ci sono video nella categoria "${m}"`})]})})]})})},k4=()=>{const r=us(),[e,n]=B.useState([]),[s,o]=B.useState(!0),[u,f]=B.useState([]),[m,g]=B.useState("all");B.useEffect(()=>{(async()=>{try{let w=dr(vn(Tt,"appAudios"),Si("isPublished","==",!0),ls("order","asc")),S=await Xn(w),M=[];S.forEach(Q=>{M.push({id:Q.id,...Q.data()})}),M.length===0&&(w=dr(vn(Tt,"audios"),Si("isPublished","==",!0),ls("createdAt","desc")),S=await Xn(w),S.forEach(Q=>{M.push({id:Q.id,...Q.data()})})),M.length===0&&(M=[{id:"1",title:"Meditazione Guidata per Atleti",description:"Una sessione di meditazione specifica per migliorare la concentrazione sportiva",category:"Meditazione",duration:"12 min",audioUrl:"https://example.com/audio1.mp3",isPublished:!0},{id:"2",title:"Respirazione Pre-Gara",description:"Tecniche di respirazione per prepararsi mentalmente alla competizione",category:"Respirazione",duration:"8 min",audioUrl:"https://example.com/audio2.mp3",isPublished:!0}]),n(M);const U=[...new Set(M.map(Q=>Q.category||"Generale"))];f(U)}catch(w){console.error("Errore nel caricamento degli audio:",w),n([{id:"1",title:"Meditazione Guidata per Atleti",description:"Una sessione di meditazione specifica per migliorare la concentrazione sportiva",category:"Meditazione",duration:"12 min"}]),f(["Meditazione"])}finally{o(!1)}})()},[]);const y=m==="all"?e:e.filter(E=>E.category===m);return s?T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:T.jsxs("div",{className:"px-4 py-6",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Audio per Atleti"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Contenuti audio per migliorare la tua preparazione mentale"})]}),u.length>0&&T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m==="all"?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Tutti"}),u.map(E=>T.jsx("button",{onClick:()=>g(E),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m===E?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:E},E))]})}),T.jsx("div",{className:"space-y-4",children:y.length>0?y.map(E=>T.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden",onClick:()=>r(`/audio/${E.id}`),children:T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"flex items-center gap-2 mb-2",children:T.jsx("span",{className:"text-sm font-medium text-green-500 bg-green-100 dark:bg-green-900/20 dark:text-green-400 px-2 py-1 rounded-full",children:E.category||"Generale"})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:E.title}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2",children:E.description}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[E.duration&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Mh,{className:"h-4 w-4"}),T.jsx("span",{children:E.duration})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Sm,{className:"h-4 w-4"}),T.jsx("span",{children:"Audio"})]})]})]}),T.jsx("button",{className:"ml-4 p-3 bg-green-500 hover:bg-green-600 text-white rounded-full transition-colors",children:T.jsx(Xr,{className:"h-5 w-5"})})]})})},E.id)):T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:T.jsx(Sm,{className:"h-16 w-16 mx-auto opacity-50"})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nessun audio trovato"}),T.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m==="all"?"Non ci sono contenuti audio disponibili al momento":`Non ci sono audio nella categoria "${m}"`})]})})]})})},O4=()=>{const r=us(),[e,n]=B.useState([]),[s,o]=B.useState(!0),[u,f]=B.useState([]),[m,g]=B.useState("all");B.useEffect(()=>{(async()=>{try{let S=dr(vn(Tt,"appArticles"),Si("isPublished","==",!0),ls("order","asc")),M=await Xn(S),U=[];M.forEach(H=>{U.push({id:H.id,...H.data()})}),U.length===0&&(S=dr(vn(Tt,"articles"),Si("isPublished","==",!0),ls("createdAt","desc")),M=await Xn(S),M.forEach(H=>{U.push({id:H.id,...H.data()})})),U.length===0&&(U=[{id:"1",title:"La Psicologia dello Sport: Come Allenare la Mente",description:"Scopri le tecniche fondamentali per sviluppare la forza mentale negli sport",content:"Contenuto completo dell'articolo...",category:"Psicologia",author:"Dr. Marco Rossi",readTime:"5 min",publishedAt:new Date,isPublished:!0},{id:"2",title:"Gestire la Pressione nelle Competizioni",description:"Strategie pratiche per mantenere la calma durante le gare più importanti",content:"Contenuto completo dell'articolo...",category:"Prestazione",author:"Coach Lisa Bianchi",readTime:"8 min",publishedAt:new Date,isPublished:!0}]),n(U);const Q=[...new Set(U.map(H=>H.category||"Generale"))];f(Q)}catch(S){console.error("Errore nel caricamento degli articoli:",S),n([{id:"1",title:"La Psicologia dello Sport: Come Allenare la Mente",description:"Scopri le tecniche fondamentali per sviluppare la forza mentale negli sport",category:"Psicologia",author:"Dr. Marco Rossi",readTime:"5 min"}]),f(["Psicologia"])}finally{o(!1)}})()},[]);const y=m==="all"?e:e.filter(w=>w.category===m),E=w=>w?(w.toDate?w.toDate():new Date(w)).toLocaleDateString("it-IT",{day:"numeric",month:"short",year:"numeric"}):"";return s?T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:T.jsxs("div",{className:"px-4 py-6",children:[T.jsxs("div",{className:"mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Articoli"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Approfondimenti e guide sulla preparazione mentale sportiva"})]}),u.length>0&&T.jsx("div",{className:"mb-6",children:T.jsxs("div",{className:"flex flex-wrap gap-2",children:[T.jsx("button",{onClick:()=>g("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m==="all"?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Tutti"}),u.map(w=>T.jsx("button",{onClick:()=>g(w),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${m===w?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:w},w))]})}),T.jsx("div",{className:"space-y-4",children:y.length>0?y.map(w=>T.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden",onClick:()=>r(`/articles/${w.id}`),children:T.jsx("div",{className:"p-6",children:T.jsxs("div",{className:"flex items-start justify-between",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"flex items-center gap-2 mb-2",children:T.jsx("span",{className:"text-sm font-medium text-purple-500 bg-purple-100 dark:bg-purple-900/20 dark:text-purple-400 px-2 py-1 rounded-full",children:w.category||"Generale"})}),T.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:w.title}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2",children:w.description}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[w.author&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(og,{className:"h-4 w-4"}),T.jsx("span",{children:w.author})]}),w.readTime&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(Mh,{className:"h-4 w-4"}),T.jsx("span",{children:w.readTime})]}),w.publishedAt&&T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx(CS,{className:"h-4 w-4"}),T.jsx("span",{children:E(w.publishedAt)})]})]})]}),T.jsx("button",{className:"ml-4 p-3 bg-purple-500 hover:bg-purple-600 text-white rounded-full transition-colors",children:T.jsx(Am,{className:"h-5 w-5"})})]})})},w.id)):T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:T.jsx(Am,{className:"h-16 w-16 mx-auto opacity-50"})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nessun articolo trovato"}),T.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:m==="all"?"Non ci sono articoli disponibili al momento":`Non ci sono articoli nella categoria "${m}"`})]})})]})})},dE=()=>{const{id:r}=TA(),e=us(),{isDarkMode:n,toggleDarkMode:s}=CE(),[o,u]=B.useState(null),[f,m]=B.useState(!0),[g,y]=B.useState(!1);B.useEffect(()=>{r&&(async()=>{try{let M=Yr(Tt,"appVideos",r),U=await Ih(M);if(U.exists()||(M=Yr(Tt,"videos",r),U=await Ih(M)),U.exists()){const Q={id:U.id,...U.data()};u(Q)}else u({id:r,title:"Il Diario degli Errori",description:"Trasforma ogni errore in una lezione che ti rende più forte",longDescription:"È tempo di abbracciare una verità liberatoria: l'errore che hai commesso ieri è irripetibile. Non potrai mai commettere esattamente lo stesso errore, perché ogni tentativo è unico, con condizioni fis...",youtubeUrl:"https://www.youtube.com/embed/VIDEO_ID",category:"Mentalità",readMoreText:"Leggi l'articolo completo"})}catch(M){console.error("Errore nel caricamento dell'esercizio:",M),u({id:r,title:"Il Diario degli Errori",description:"Trasforma ogni errore in una lezione che ti rende più forte",longDescription:"È tempo di abbracciare una verità liberatoria: l'errore che hai commesso ieri è irripetibile. Non potrai mai commettere esattamente lo stesso errore, perché ogni tentativo è unico, con condizioni fis...",youtubeUrl:"https://www.youtube.com/embed/VIDEO_ID",category:"Mentalità",readMoreText:"Leggi l'articolo completo"})}finally{m(!1)}})()},[r]);const E=async()=>{try{await l1(vn(Tt,"exerciseSessions"),{exerciseId:o.id,startTime:new Date,userId:"user_id",createdAt:new Date}),e(`/exercises/${o.id}/practice`)}catch(S){console.error("Errore nell'avvio dell'esercizio:",S),e(`/exercises/${o.id}/practice`)}},w=S=>{if(!S)return"";const M=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,U=S.match(M);return U&&U[2].length===11?`https://www.youtube.com/embed/${U[2]}?rel=0&modestbranding=1&fs=1`:S};return f?T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):o?T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[T.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:T.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("button",{onClick:()=>e("/exercises"),className:"mr-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:T.jsx(bS,{className:"h-6 w-6 text-gray-600 dark:text-gray-300"})}),T.jsx("img",{src:"/mentalita-app/logo.png",alt:"Mentalità Logo",className:"w-7 h-7 rounded-full mr-3"}),T.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Esercizio"})]}),T.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle dark mode",children:n?T.jsx(VE,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}):T.jsx(ME,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})})]})}),T.jsxs("div",{className:"px-4 py-6 max-w-4xl mx-auto",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:["#",o.category||"II"," ",o.title]}),T.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:o.description}),T.jsxs("button",{onClick:E,className:"inline-flex items-center px-8 py-3 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-full transition-colors duration-200 mb-8",children:[T.jsx(Xr,{className:"h-5 w-5 mr-2"}),"VAI ALL'ESERCIZIO"]})]}),T.jsx("div",{className:"mb-8",children:T.jsx("div",{className:"relative w-full bg-black rounded-lg overflow-hidden shadow-lg",children:T.jsx("div",{className:"aspect-video",children:!g&&o.youtubeUrl?T.jsx("iframe",{src:w(o.youtubeUrl),className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onError:()=>y(!0),title:o.title}):T.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:T.jsxs("div",{className:"text-center text-white",children:[T.jsx(Xr,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),T.jsx("p",{className:"text-lg",children:"Video non disponibile"}),T.jsx("p",{className:"text-sm opacity-75",children:o.title})]})})})})}),o.longDescription&&T.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 shadow-sm border-l-4 border-blue-500 mb-8",children:T.jsxs("div",{className:"flex items-start mb-4",children:[T.jsx(RS,{className:"h-6 w-6 text-blue-500 mr-3 mt-1 flex-shrink-0"}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:"L'unicità dell'errore"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:o.longDescription}),o.readMoreText&&T.jsxs("button",{className:"mt-4 text-blue-500 hover:text-blue-600 font-medium",onClick:()=>{},children:[o.readMoreText," →"]})]})]})}),T.jsx("div",{className:"text-center",children:T.jsxs("button",{onClick:E,className:"inline-flex items-center px-12 py-4 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-full transition-colors duration-200 text-lg",children:[T.jsx(Xr,{className:"h-6 w-6 mr-3"}),"VAI ALL'ESERCIZIO"]})})]})]}):T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Esercizio non trovato"}),T.jsx("button",{onClick:()=>e("/exercises"),className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Torna agli esercizi"})]})})},M4=()=>{const r=us(),[e,n]=B.useState(0),[s,o]=B.useState(null),[u,f]=B.useState(!0);B.useEffect(()=>{(async()=>{try{const S=Yr(Tt,"appSettings","welcome"),M=await Ih(S);M.exists()?o(M.data()):o({title:"Benvenuto in Be Water Plus",subtitle:"La tua forza mentale nello sport",description:"Scopri tecniche di mindfulness, meditazione e mental coaching specificamente progettate per atleti come te.",steps:[{icon:"User",title:"Crea il tuo profilo",description:"Personalizza la tua esperienza con i tuoi obiettivi sportivi"},{icon:"Brain",title:"Allena la mente",description:"Accedi a esercizi di mindfulness e tecniche di rilassamento"},{icon:"Target",title:"Raggiungi i tuoi obiettivi",description:"Monitora i progressi e migliora le tue performance"}]})}catch(S){console.error("Errore nel caricamento contenuto benvenuto:",S),o({title:"Benvenuto in Be Water Plus",subtitle:"La tua forza mentale nello sport",description:"Inizia il tuo percorso di crescita mentale.",steps:[]})}finally{f(!1)}})()},[]);const m=[{id:"welcome",component:V4},{id:"features",component:P4},{id:"complete",component:L4}],g=()=>{e<m.length-1?n(e+1):(localStorage.setItem("onboardingCompleted","true"),r("/exercises"))},y=()=>{localStorage.setItem("onboardingCompleted","true"),r("/exercises")};if(B.useEffect(()=>{localStorage.getItem("onboardingCompleted")==="true"&&r("/exercises")},[r]),u)return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})});const E=m[e].component;return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800",children:T.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-md",children:[T.jsx("div",{className:"flex justify-center mb-8",children:T.jsx("div",{className:"flex space-x-2",children:m.map((w,S)=>T.jsx("div",{className:`h-2 w-8 rounded-full transition-colors ${S<=e?"bg-blue-500":"bg-gray-300 dark:bg-gray-600"}`},S))})}),T.jsx(E,{welcomeContent:s,onNext:g,onSkip:y,isLast:e===m.length-1})]})})},V4=({welcomeContent:r,onNext:e,onSkip:n})=>T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-blue-500 rounded-full flex items-center justify-center",children:T.jsx(kE,{className:"h-12 w-12 text-white"})}),T.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:r?.title}),T.jsx("p",{className:"text-xl text-blue-600 dark:text-blue-400 mb-6",children:r?.subtitle}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg leading-relaxed",children:r?.description})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("button",{onClick:e,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-4 px-6 rounded-lg flex items-center justify-center transition-colors",children:[T.jsx("span",{children:"Inizia il tour"}),T.jsx(ag,{className:"ml-2 h-5 w-5"})]}),T.jsx("button",{onClick:n,className:"w-full text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 font-medium py-2 transition-colors",children:"Salta introduzione"})]})]}),P4=({welcomeContent:r,onNext:e})=>{const n=s=>{switch(s){case"User":return og;case"Brain":return kE;case"Target":return PE;default:return OE}};return T.jsxs("div",{children:[T.jsx("div",{className:"text-center mb-8",children:T.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Cosa puoi fare con Be Water Plus"})}),T.jsx("div",{className:"space-y-6 mb-8",children:r?.steps?.map((s,o)=>{const u=n(s.icon);return T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:T.jsx(u,{className:"h-6 w-6 text-blue-500"})}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:s.title}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.description})]})]},o)})}),T.jsxs("button",{onClick:e,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-4 px-6 rounded-lg flex items-center justify-center transition-colors",children:[T.jsx("span",{children:"Continua"}),T.jsx(ag,{className:"ml-2 h-5 w-5"})]})]})},L4=({onNext:r})=>T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"mb-8",children:[T.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-green-500 rounded-full flex items-center justify-center",children:T.jsx(OE,{className:"h-12 w-12 text-white"})}),T.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Perfetto! Sei pronto a iniziare"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:"Inizia il tuo percorso di crescita mentale con i nostri esercizi personalizzati."})]}),T.jsxs("button",{onClick:r,className:"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-4 px-6 rounded-lg flex items-center justify-center transition-colors",children:[T.jsx("span",{children:"Inizia ora"}),T.jsx(ag,{className:"ml-2 h-5 w-5"})]})]}),U4=()=>{const[r,e]=B.useState("welcome"),[n,s]=B.useState({title:"",subtitle:"",description:"",steps:[]}),[o,u]=B.useState([]),[f,m]=B.useState([]),[g,y]=B.useState(!0),[E,w]=B.useState(!1);B.useEffect(()=>{S()},[]);const S=async()=>{try{const ne=Yr(Tt,"appSettings","welcome"),re=await Ih(ne);re.exists()&&s(re.data());const ye=dr(vn(Tt,"exercises"),Si("category","==","Onboarding"),Si("isPublished","==",!0),ls("order","asc")),k=await Xn(ye),x=[];k.forEach(P=>{x.push({id:P.id,...P.data()})}),u(x);const R=vn(Tt,"motivationalMessages"),O=await Xn(R),V=[];O.forEach(P=>{V.push({id:P.id,...P.data()})}),m(V)}catch(ne){console.error("Errore nel caricamento dati admin:",ne)}finally{y(!1)}},M=async()=>{w(!0);try{await oE(Yr(Tt,"appSettings","welcome"),n),alert("Contenuto benvenuto salvato con successo!")}catch(ne){console.error("Errore nel salvataggio:",ne),alert("Errore nel salvataggio")}finally{w(!1)}},U=()=>{s(ne=>({...ne,steps:[...ne.steps,{icon:"CheckCircle",title:"",description:""}]}))},Q=(ne,re,ye)=>{s(k=>({...k,steps:k.steps.map((x,R)=>R===ne?{...x,[re]:ye}:x)}))},H=ne=>{s(re=>({...re,steps:re.steps.filter((ye,k)=>k!==ne)}))},X=async()=>{const ne=prompt("Inserisci il messaggio motivazionale:");if(ne&&ne.trim())try{await l1(vn(Tt,"motivationalMessages"),{text:ne.trim(),isActive:!0,createdAt:new Date}),S(),alert("Messaggio aggiunto con successo!")}catch(re){console.error("Errore nell'aggiunta del messaggio:",re),alert("Errore nell'aggiunta del messaggio")}},ue=async(ne,re)=>{try{await oE(Yr(Tt,"motivationalMessages",ne),{isActive:!re},{merge:!0}),S()}catch(ye){console.error("Errore nell'aggiornamento del messaggio:",ye)}},se=async ne=>{if(confirm("Sei sicuro di voler eliminare questo messaggio?"))try{await ZD(Yr(Tt,"motivationalMessages",ne)),S(),alert("Messaggio eliminato con successo!")}catch(re){console.error("Errore nell'eliminazione del messaggio:",re),alert("Errore nell'eliminazione del messaggio")}};return g?T.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:T.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[T.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm",children:T.jsxs("div",{className:"px-4 py-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pannello Amministratore"}),T.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Gestisci il contenuto dell'app e l'esperienza di onboarding"})]})}),T.jsxs("div",{className:"px-4 py-6",children:[T.jsxs("div",{className:"flex space-x-1 bg-gray-200 dark:bg-gray-700 p-1 rounded-lg mb-6",children:[T.jsx("button",{onClick:()=>e("welcome"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${r==="welcome"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:"Pagina Benvenuto"}),T.jsx("button",{onClick:()=>e("onboarding"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${r==="onboarding"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:"Esercizi Onboarding"}),T.jsx("button",{onClick:()=>e("messages"),className:`flex-1 px-4 py-2 text-sm font-medium rounded-md transition-colors ${r==="messages"?"bg-white dark:bg-gray-800 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"}`,children:"Messaggi Motivazionali"})]}),r==="welcome"&&T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Contenuto Pagina Benvenuto"}),T.jsxs("button",{onClick:M,disabled:E,className:"bg-blue-500 hover:bg-blue-600 disabled:opacity-50 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[T.jsx(YS,{className:"h-4 w-4 mr-2"}),E?"Salvando...":"Salva"]})]}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Titolo Principale"}),T.jsx("input",{type:"text",value:n.title,onChange:ne=>s(re=>({...re,title:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"es. Benvenuto in Be Water Plus"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sottotitolo"}),T.jsx("input",{type:"text",value:n.subtitle,onChange:ne=>s(re=>({...re,subtitle:ne.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"es. La tua forza mentale nello sport"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descrizione"}),T.jsx("textarea",{value:n.description,onChange:ne=>s(re=>({...re,description:ne.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Descrizione dell'app e dei suoi benefici..."})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between items-center mb-4",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Passi dell'Onboarding"}),T.jsxs("button",{onClick:U,className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-md flex items-center text-sm transition-colors",children:[T.jsx(k0,{className:"h-4 w-4 mr-1"}),"Aggiungi Passo"]})]}),T.jsx("div",{className:"space-y-4",children:n.steps?.map((ne,re)=>T.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[T.jsxs("div",{className:"flex justify-between items-start mb-3",children:[T.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Passo ",re+1]}),T.jsx("button",{onClick:()=>H(re),className:"text-red-500 hover:text-red-700 transition-colors",children:T.jsx(O0,{className:"h-4 w-4"})})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Icona"}),T.jsxs("select",{value:ne.icon,onChange:ye=>Q(re,"icon",ye.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",children:[T.jsx("option",{value:"User",children:"User"}),T.jsx("option",{value:"Brain",children:"Brain"}),T.jsx("option",{value:"Target",children:"Target"}),T.jsx("option",{value:"CheckCircle",children:"CheckCircle"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Titolo"}),T.jsx("input",{type:"text",value:ne.title,onChange:ye=>Q(re,"title",ye.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Titolo del passo"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Descrizione"}),T.jsx("input",{type:"text",value:ne.description,onChange:ye=>Q(re,"description",ye.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Descrizione del passo"})]})]})]},re))})]})]})]}),r==="onboarding"&&T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Esercizi per l'Onboarding"}),T.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Esercizi della categoria "Onboarding" mostrati ai nuovi utenti'})]}),o.length>0?T.jsx("div",{className:"space-y-4",children:o.map(ne=>T.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:ne.title}),T.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2",children:ne.description}),T.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[T.jsxs("span",{children:["Ordine: ",ne.order]}),T.jsxs("span",{children:["Durata: ",ne.duration]}),T.jsxs("span",{children:["Livello: ",ne.difficulty]})]})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{className:"p-2 text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",children:T.jsx(C0,{className:"h-4 w-4"})}),T.jsx("button",{className:"p-2 text-gray-500 hover:bg-gray-50 dark:hover:bg-gray-700 rounded transition-colors",children:T.jsx(D0,{className:"h-4 w-4"})})]})]})},ne.id))}):T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:T.jsx(D0,{className:"h-16 w-16 mx-auto opacity-50"})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nessun esercizio di onboarding"}),T.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:'Crea esercizi con categoria "Onboarding" per mostrarli ai nuovi utenti'}),T.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:"Gli esercizi devono essere pubblicati e avere isPublished = true"})]})]}),r==="messages"&&T.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Messaggi Motivazionali"}),T.jsxs("button",{onClick:X,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[T.jsx(k0,{className:"h-4 w-4 mr-2"}),"Aggiungi Messaggio"]})]}),T.jsx("div",{className:"mb-4",children:T.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Questi messaggi appariranno casualmente nelle pagine degli esercizi per motivare gli atleti."})}),f.length>0?T.jsx("div",{className:"space-y-4",children:f.map(ne=>T.jsx("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{className:"flex-1 pr-4",children:[T.jsx("p",{className:"text-gray-900 dark:text-white mb-2",children:ne.text}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ne.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:ne.isActive?"Attivo":"Disattivato"}),ne.createdAt&&T.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Creato: ",new Date(ne.createdAt.seconds*1e3).toLocaleDateString()]})]})]}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("button",{onClick:()=>ue(ne.id,ne.isActive),className:`p-2 rounded transition-colors ${ne.isActive?"text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20":"text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20"}`,title:ne.isActive?"Disattiva":"Attiva",children:T.jsx(C0,{className:"h-4 w-4"})}),T.jsx("button",{onClick:()=>se(ne.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Elimina",children:T.jsx(O0,{className:"h-4 w-4"})})]})]})},ne.id))}):T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"text-gray-400 dark:text-gray-600 mb-4",children:T.jsx(HS,{className:"h-16 w-16 mx-auto opacity-50"})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Nessun messaggio motivazionale"}),T.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Crea dei messaggi motivazionali per coinvolgere gli atleti"}),T.jsx("button",{onClick:X,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:"Crea il primo messaggio"})]})]})]})]})},j4=()=>{const r=Ri(),e=[{path:"/exercises",icon:Xr,label:"Esercizi",key:"exercises"},{path:"/videos",icon:xm,label:"Video",key:"videos"},{path:"/audio",icon:Sm,label:"Audio",key:"audio"},{path:"/articles",icon:Am,label:"Articoli",key:"articles"}];return T.jsx("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:T.jsx("div",{className:"flex",children:e.map(n=>{const s=n.icon,o=r.pathname.startsWith(n.path);return T.jsxs(Oh,{to:n.path,className:`flex-1 flex flex-col items-center justify-center py-3 px-2 transition-colors ${o?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 border-b-2 border-blue-600 dark:border-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:[T.jsx(s,{size:20,className:"mb-1"}),T.jsx("span",{className:"text-xs font-medium",children:n.label})]},n.key)})})})},z4=()=>{const r=Ri(),e=[{path:"/",icon:BS,label:"Home"},{path:"/exercises",icon:OS,label:"Esercizi"},{path:"/videos",icon:SS,label:"Video"},{path:"/profile",icon:og,label:"Profilo"},{path:"/settings",icon:ZS,label:"Altro"}];return T.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 z-50",children:T.jsx("div",{className:"grid grid-cols-5 h-16",children:e.map(n=>{const s=n.icon,o=r.pathname===n.path||n.path==="/exercises"&&r.pathname.startsWith("/exercises");return T.jsxs(Oh,{to:n.path,className:`flex flex-col items-center justify-center gap-1 transition-colors ${o?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:[T.jsx(s,{size:20}),T.jsx("span",{className:"text-xs font-medium",children:n.label})]},n.path)})})})},B4=({children:r})=>{const{isDarkMode:e,toggleDarkMode:n}=CE();return T.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[T.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:T.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:"/mentalita-app/logo.png",alt:"Mentalità Logo",className:"w-8 h-8 rounded-full"}),T.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Be Water+"})]}),T.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Toggle dark mode",children:e?T.jsx(VE,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}):T.jsx(ME,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})})]})}),T.jsx(j4,{}),T.jsx("main",{className:"flex-1 pb-16",children:r}),T.jsx(z4,{})]})},qn=({children:r})=>localStorage.getItem("onboardingCompleted")==="true"?r:T.jsx(wE,{to:"/onboarding",replace:!0});function q4(){return T.jsx(gS,{children:T.jsx(sS,{basename:"/mentalita-app",children:T.jsx(B4,{children:T.jsxs(PA,{children:[T.jsx(sn,{path:"/",element:T.jsx(wE,{to:"/onboarding",replace:!0})}),T.jsx(sn,{path:"/onboarding",element:T.jsx(M4,{})}),T.jsx(sn,{path:"/exercises",element:T.jsx(qn,{children:T.jsx(C4,{})})}),T.jsx(sn,{path:"/exercises/:id",element:T.jsx(qn,{children:T.jsx(dE,{})})}),T.jsx(sn,{path:"/exercises/:id/practice",element:T.jsx(qn,{children:T.jsx(dE,{})})}),T.jsx(sn,{path:"/videos",element:T.jsx(qn,{children:T.jsx(D4,{})})}),T.jsx(sn,{path:"/videos/:id",element:T.jsx(qn,{children:T.jsx("div",{className:"p-4 text-center",children:T.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Video Player"})})})}),T.jsx(sn,{path:"/audio",element:T.jsx(qn,{children:T.jsx(k4,{})})}),T.jsx(sn,{path:"/audio/:id",element:T.jsx(qn,{children:T.jsx("div",{className:"p-4 text-center",children:T.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Audio Player"})})})}),T.jsx(sn,{path:"/articles",element:T.jsx(qn,{children:T.jsx(O4,{})})}),T.jsx(sn,{path:"/articles/:id",element:T.jsx(qn,{children:T.jsx("div",{className:"p-4 text-center",children:T.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Articolo"})})})}),T.jsx(sn,{path:"/profile",element:T.jsx(qn,{children:T.jsx("div",{className:"p-4 text-center",children:T.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Profilo"})})})}),T.jsx(sn,{path:"/settings",element:T.jsx(qn,{children:T.jsx("div",{className:"p-4 text-center",children:T.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Impostazioni"})})})}),T.jsx(sn,{path:"/admin",element:T.jsx(U4,{})})]})})})})}Gw.createRoot(document.getElementById("root")).render(T.jsx(B.StrictMode,{children:T.jsx(q4,{})}));
